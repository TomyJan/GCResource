[
  {
    //模板+测试Ability
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Test",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "target": "Self",
          "modifierName": "Eff_Test"
        }
      ],
      "onAbilityStart": [],
      "abilityMixins": [],
      "modifiers": {
        "Eff_Test": {
          "modifierMixins": [
            {
              "$type": "DoActionByStateIDMixin",
              "stateIDs": [
                "FallingAnthem_AS_1",
                "ElementalArt_FallingAttack_Strike"
              ],
              "enterActions": [
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_EnergyDisk_ElementalBurst_Wave_R40"
                }
              ],
              "exitActions": []
            }
          ]
          //    "duration": 5,
          //     "onAdded":
          //     [
          //         {
          // 			"$type": "EnableRocketJump",
          // 			"canBeHandledOnRecover": true,
          //             "target": "Self",
          //             "doOffStage": true,
          // 			"type": "DungeonJump",
          // 			"enable": true,
          // 			"extention":
          // 			{
          // 				"xzMultiplier": 2, //xz平面速度乘子
          // 				"yMultiplier": 3.0, //y轴跳跃速度乘子
          // 			}
          // 		},
          //         {
          //             "$type": "AttachEffect",
          //             "effectPattern": "Eff_SceneObj_DIK_BUFFB_01_Buff",
          //         }
          //     ],
          //    "onAvatarIn":
          //    [
          //     {
          //         "$type": "EnableRocketJump",
          //         "canBeHandledOnRecover": true,
          //         "target": "Self",
          //         "doOffStage": true,
          //         "type": "DungeonJump",
          //         "enable": true,
          //         "extention":
          //         {
          //             "xzMultiplier": 2, //xz平面速度乘子
          //             "yMultiplier": 3.0, //y轴跳跃速度乘子
          //         }
          //     },
          //    ],
          //    "onRemoved":
          //    [
          //     {
          //         "$type": "EnableRocketJump",
          //         "type": "DungeonJump",
          //         "target": "Self",
          //         "doOffStage": true,
          //         "enable": false,
          //     },
          //    ]
        }
      },
      "abilitySpecials": {}
    }
  },
  //-------占位-----------
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_BoatRace",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "BoatRace_Skiff_ClearGV_Handler",
          "target": "CurLocalAvatar",
          "doOffStage": true
        }
      ],
      "onAbilityStart": [],
      "abilityMixins": [
        {
          "$type": "VehicleSkillDepotChangeMixin",
          "targetVehicleIDs": [45001001, 45001002],
          "skillDepotId": 99001001
        },
        {
          "$type": "CurLocalAvatarMixinV2",
          "modifierName": "BoatRace_Skiff_Sprint_Watcher_GrandHandler"
        }
      ],
      "modifiers": {
        "BoatRace_Skiff_ClearGV_Handler": {
          "stacking": "Unique",
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "BoatRace_Skiff_ClearGV",
              "target": "Vehicle",
              "doOffStage": true
            }
          ],
          "onVehicleIn": [
            {
              "$type": "AttachModifier",
              "modifierName": "BoatRace_Skiff_ClearGV",
              "target": "Vehicle",
              "doOffStage": true
            }
          ]
        },
        "BoatRace_Skiff_ClearGV": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Skiff_SprintValue",
              "value": 0
            }
          ]
        },
        "BoatRace_Skiff_Sprint_Watcher_GrandHandler": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "BoatRace_Skiff_Sprint_Watcher_Handler",
              "target": "Vehicle",
              "doOffStage": true
            }
          ],
          "onVehicleIn": [
            {
              "$type": "AttachModifier",
              "modifierName": "BoatRace_Skiff_Sprint_Watcher_Handler",
              "target": "Vehicle",
              "doOffStage": true
            }
          ],
          "thinkInterval": 1.0,
          "onThinkInterval": [
            {
              "$type": "AttachModifier",
              "modifierName": "BoatRace_Skiff_Sprint_Watcher_Handler",
              "target": "Vehicle",
              "doOffStage": true
            }
          ]
        },
        "BoatRace_Skiff_Sprint_Watcher_Handler": {
          "duration": 5.0,
          "modifierMixins": [
            {
              "$type": "AttachToStateIDMixin",
              "stateIDs": ["Sprint"],
              "modifierName": "BoatRace_Skiff_Sprint_Watcher"
            }
          ]
        },
        "BoatRace_Skiff_Sprint_Watcher": {
          "thinkInterval": 20,
          "onThinkInterval": [
            {
              "$type": "ServerLuaCall",
              "luaCallType": "CurGalleryControlGroup",
              "funcName": "SLC_BoatRaceV2_Counter",
              "param1": 1, //持续加速20秒
              "paramNum": 1
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  //-------防止坠落伤害-----------
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_IgnoreFallDamage",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_SummerTimeV2_Avatar_FallingDamage",
          "target": "Self"
        }
      ],
      "modifiers": {
        "UNIQUE_SummerTimeV2_Avatar_FallingDamage": {
          "isUnique": true,
          "properties": {
            "Actor_FallingDamageRatio": -1
          }
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_KazuhaAOE",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "ShowExtraAbility",
          "skillID": 20016
        },
        {
          "$type": "SetGlobalValue",
          "value": 100,
          "target": "Self",
          "key": "AVATAR_SummerTimeV2_KazuhaAOE"
        },
        {
          "$type": "SetExtraAbilityEnable",
          "enable": true
        },
        {
          "$type": "SetSystemValueToOverrideMap",
          "doOffStage": true,
          "key": "ImpactDamageSystemValue",
          "type": "ElementLevelCo"
        },
        {
          "$type": "ServerLuaCall",
          "luaCallType": "CurChallengeGroup",
          "funcName": "SLC_Get_PlayerCount"
        },
        {
          "$type": "SetGlobalValue",
          "key": "CUR_TEAM_NUM",
          "target": "Team",
          "value": 0
        }
      ],
      "onRemoved": [
        {
          "$type": "ShowExtraAbility",
          "skillID": 0
        }
      ],
      "onAbilityStart": [
        {
          "$type": "SetExtraAbilityState",
          "state": "Start"
        },
        // {
        //     "$type": "ApplyModifier",
        //     "target": "CurLocalAvatar",
        //     "modifierName": "UNIQUE_Activity_SummerTimeV2_KazuhaAOE",
        // }
        {
          "$type": "ServerLuaCall",
          "luaCallType": "CurChallengeGroup",
          "funcName": "SLC_Get_PlayerCount"
        },
        {
          "$type": "ServerLuaCall",
          "luaCallType": "CurChallengeGroup",
          "funcName": "SLC_DLActivityDungeon_Exhi_TSkill"
        },

        // {
        //     "$type": "SetGlobalValue",
        //     "key": "CUR_TEAM_NUM",
        //     "target": "Team",
        //     "value": 1,
        //     "predicates":
        //     [
        //         {
        //             "$type": "ByTargetGlobalValue",
        //             "target": "Team",
        //             "key": "SGV_DLDungeon_PlayerNum",
        //             "value": 1,
        //             "compareType": "Equal",
        //         }
        //     ]
        // },
        // {
        //     "$type": "SetGlobalValue",
        //     "key": "CUR_TEAM_NUM",
        //     "target": "Team",
        //     "value": 2,
        //     "predicates":
        //     [
        //         {
        //             "$type": "ByTargetGlobalValue",
        //             "target": "Team",
        //             "key": "SGV_DLDungeon_PlayerNum",
        //             "value": 2,
        //             "compareType": "Equal",
        //         }
        //     ]
        // },
        // {
        //     "$type": "SetGlobalValue",
        //     "key": "CUR_TEAM_NUM",
        //     "target": "Team",
        //     "value": 3,
        //     "predicates":
        //     [
        //         {
        //             "$type": "ByTargetGlobalValue",
        //             "target": "Team",
        //             "key": "SGV_DLDungeon_PlayerNum",
        //             "value": 3,
        //             "compareType": "Equal",
        //         }
        //     ]
        // },
        // {
        //     "$type": "SetGlobalValue",
        //     "key": "CUR_TEAM_NUM",
        //     "target": "Team",
        //     "value": 4,
        //     "predicates":
        //     [
        //         {
        //             "$type": "ByTargetGlobalValue",
        //             "target": "Team",
        //             "key": "SGV_DLDungeon_PlayerNum",
        //             "value": 4,
        //             "compareType": "Equal",
        //         }
        //     ]
        // }
        {
          "$type": "ApplyModifier",
          "target": "CurLocalAvatar",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_KazuhaAOE",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Team",
              "key": "SGV_DLDungeon_PlayerNum",
              "value": 1,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "target": "CurLocalAvatar",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_2",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Team",
              "key": "SGV_DLDungeon_PlayerNum",
              "value": 2,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "target": "CurLocalAvatar",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_3",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Team",
              "key": "SGV_DLDungeon_PlayerNum",
              "value": 3,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "target": "CurLocalAvatar",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_4",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Team",
              "key": "SGV_DLDungeon_PlayerNum",
              "value": 4,
              "compareType": "Equal"
            }
          ]
        }
      ],
      "abilityMixins": [
        //    {
        //        "$type": "LocalAvatarsMixin",
        //        "modifierName": "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_Handler"
        //    },
      ],
      "modifiers": {
        // "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_Handler":
        // {
        //     "isUnique": true,
        //     "stacking": "Unique",
        //     "modifierMixins":
        //     [
        //         {
        //             "$type": "AttachModifierToGlobalValueMixin",
        //             "globalValueTarget": "Team",
        //             "globalValueKey": "CUR_TEAM_NUM",
        //             "valueSteps": [0.5,1.5,2.5,3.5,4.5],
        //             "modifierNameSteps":
        //             [
        //                 "UNIQUE_Activity_SummerTimeV2_KazuhaAOE",
        //                 "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_2",
        //                 "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_3",
        //                 "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_4"
        //             ]
        //         }
        //     ],
        //     "onKill":
        //     [
        //         {
        //             "$type": "SetGlobalValue",
        //             "target": "Team",
        //             "key": "CUR_TEAM_NUM",
        //             "value": 0,
        //         }
        //     ]
        // },
        "UNIQUE_Activity_SummerTimeV2_KazuhaAOE": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 1,
          "onAdded": [
            {
              "$type": "FireEffect",
              "doAfterDie": true,
              "born": {
                "$type": "ConfigBornBySelf"
              },
              "effectPattern": "Eff_SummerTimeV2_Dungeon_Kazuha_Slash"
            },
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "doAfterDie": true,
              "target": "Self",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 10.5,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackProperty": {
                    "damageExtra": "%ImpactDamageValue*%ImpactDamageSystemValue",
                    "ignoreAttackerProperty": true, //忽略角色属性加成
                    "ignoreModifyDamage": true,
                    "trueDamage": true,
                    "attackType": "Melee",
                    "elementType": "None", //元素类型为无
                    "elementDurability": 0, //元素含量为0
                    "enBreak": 0
                  },
                  "hitPattern": {
                    "onHitEffectName": "default", //击中特效名称，
                    "hitImpulseType": "LV2", //击退？
                    "reboundRatio": 0, //需要解释
                    "canBeDefenceHalt": false, //持盾防御者无法产生额外卡肉
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false //不跳字
                  } //打击效果
                }
              }
            } //生成圆形攻击盒
          ],
          "modifierMixins": [
            {
              "$type": "TriggerPostProcessEffectMixin",
              "postEffectAssetName": "postEffect_Activity_SummerTimeV2_Kazuha_ScreenEffect",
              "duration": 1.5
            }
          ],
          "onRemoved": [
            // {
            //     "$type": "SetGlobalValue",
            //     "target": "Team",
            //     "key": "CUR_TEAM_NUM",
            //     "value": 0,
            // }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_2": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 1,
          "onAdded": [
            {
              "$type": "FireEffect",
              "doAfterDie": true,
              "born": {
                "$type": "ConfigBornBySelf"
              },
              "effectPattern": "Eff_SummerTimeV2_Dungeon_Kazuha_Slash"
            },
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "doAfterDie": true,
              "target": "Self",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 10.5,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackProperty": {
                    "damageExtra": "%ImpactDamageValue2*%ImpactDamageSystemValue",
                    "ignoreAttackerProperty": true, //忽略角色属性加成
                    "ignoreModifyDamage": true,
                    "trueDamage": true,
                    "attackType": "Melee",
                    "elementType": "None", //元素类型为无
                    "elementDurability": 0, //元素含量为0
                    "enBreak": 0
                  },
                  "hitPattern": {
                    "onHitEffectName": "default", //击中特效名称，
                    "hitImpulseType": "LV2", //击退？
                    "reboundRatio": 0, //需要解释
                    "canBeDefenceHalt": false, //持盾防御者无法产生额外卡肉
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false //不跳字
                  } //打击效果
                }
              }
            } //生成圆形攻击盒
          ],
          "modifierMixins": [
            {
              "$type": "TriggerPostProcessEffectMixin",
              "postEffectAssetName": "postEffect_Activity_SummerTimeV2_Kazuha_ScreenEffect",
              "duration": 1.5
            }
          ],
          "onRemoved": [
            // {
            //     "$type": "SetGlobalValue",
            //     "target": "Team",
            //     "key": "CUR_TEAM_NUM",
            //     "value": 0,
            // }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_3": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 1,
          "onAdded": [
            {
              "$type": "FireEffect",
              "doAfterDie": true,
              "born": {
                "$type": "ConfigBornBySelf"
              },
              "effectPattern": "Eff_SummerTimeV2_Dungeon_Kazuha_Slash"
            },
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "doAfterDie": true,
              "target": "Self",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 10.5,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackProperty": {
                    "damageExtra": "%ImpactDamageValue3*%ImpactDamageSystemValue",
                    "ignoreAttackerProperty": true, //忽略角色属性加成
                    "ignoreModifyDamage": true,
                    "trueDamage": true,
                    "attackType": "Melee",
                    "elementType": "None", //元素类型为无
                    "elementDurability": 0, //元素含量为0
                    "enBreak": 0
                  },
                  "hitPattern": {
                    "onHitEffectName": "default", //击中特效名称，
                    "hitImpulseType": "LV2", //击退？
                    "reboundRatio": 0, //需要解释
                    "canBeDefenceHalt": false, //持盾防御者无法产生额外卡肉
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false //不跳字
                  } //打击效果
                }
              }
            } //生成圆形攻击盒
          ],
          "modifierMixins": [
            {
              "$type": "TriggerPostProcessEffectMixin",
              "postEffectAssetName": "postEffect_Activity_SummerTimeV2_Kazuha_ScreenEffect",
              "duration": 1.5
            }
          ],
          "onRemoved": [
            // {
            //     "$type": "SetGlobalValue",
            //     "target": "Team",
            //     "key": "CUR_TEAM_NUM",
            //     "value": 0,
            // }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_KazuhaAOE_4": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 1,
          "onAdded": [
            {
              "$type": "FireEffect",
              "doAfterDie": true,
              "born": {
                "$type": "ConfigBornBySelf"
              },
              "effectPattern": "Eff_SummerTimeV2_Dungeon_Kazuha_Slash"
            },
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "doAfterDie": true,
              "target": "Self",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 10.5,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackProperty": {
                    "damageExtra": "%ImpactDamageValue4*%ImpactDamageSystemValue",
                    "ignoreAttackerProperty": true, //忽略角色属性加成
                    "ignoreModifyDamage": true,
                    "trueDamage": true,
                    "attackType": "Melee",
                    "elementType": "None", //元素类型为无
                    "elementDurability": 0, //元素含量为0
                    "enBreak": 0
                  },
                  "hitPattern": {
                    "onHitEffectName": "default", //击中特效名称，
                    "hitImpulseType": "LV2", //击退？
                    "reboundRatio": 0, //需要解释
                    "canBeDefenceHalt": false, //持盾防御者无法产生额外卡肉
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false //不跳字
                  } //打击效果
                }
              }
            } //生成圆形攻击盒
          ],
          "modifierMixins": [
            {
              "$type": "TriggerPostProcessEffectMixin",
              "postEffectAssetName": "postEffect_Activity_SummerTimeV2_Kazuha_ScreenEffect",
              "duration": 1.5
            }
          ],
          "onRemoved": [
            // {
            //     "$type": "SetGlobalValue",
            //     "target": "Team",
            //     "key": "CUR_TEAM_NUM",
            //     "value": 0,
            // }
          ]
        }
      },
      "abilitySpecials": {
        "ImpactDamageSystemValue": 0,
        "ImpactDamageValue": 0,
        "ImpactDamageValue2": 0,
        "ImpactDamageValue3": 0,
        "ImpactDamageValue4": 0
      }
    }
  },
  //-------占位-----------
  ///////////////////
  //1、万叶地城
  ///////////////////
  {
    //CD控制
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Kazuha_CDManager_Team",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "target": "Self",
          "key": "GV_SKILL_CD",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "target": "Self",
          "key": "GV_ULTIMATESKILL_CD",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "target": "Self",
          "key": "GV_FALLINGATK_CD",
          "value": 0
        },
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Kazuha_CDManager_SkillCD"
        },
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Kazuha_CDManager_UltimateSkillCD"
        },
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Kazuha_CDManager_FallingAttackCD"
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_SKILL_CD"
        },
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_ULTIMATESKILL_CD"
        },
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_FALLINGATK_CD"
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Kazuha_CDManager_SkillCD": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "DoActionOnGlobalValueChangeMixin",
              "globalValueKey": "GV_SKILL_CD",
              "actions": [
                {
                  "$type": "ModifyExtraSkillCD",
                  "skillID": 20016,
                  "cdDelta": "-1*%CDDown_Value1"
                }
              ]
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Kazuha_CDManager_UltimateSkillCD": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "DoActionOnGlobalValueChangeMixin",
              "globalValueKey": "GV_ULTIMATESKILL_CD",
              "actions": [
                {
                  "$type": "ModifyExtraSkillCD",
                  "skillID": 20016,
                  "cdDelta": "-1*%CDDown_Value2"
                }
              ]
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Kazuha_CDManager_FallingAttackCD": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "DoActionOnGlobalValueChangeMixin",
              "globalValueKey": "GV_FALLINGATK_CD",
              "actions": [
                {
                  "$type": "ModifyExtraSkillCD",
                  "skillID": 20016,
                  "cdDelta": "-1*%CDDown_Value3"
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "CDDown_Value1": 0,
        "CDDown_Value2": 0,
        "CDDown_Value3": 0
      }
    }
  },
  {
    //7、获得超级跳，下落攻击减少技能cd
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_FallingAttackLand_CDDown",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_KAZUHA_BUFF1",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "target": "Team",
          "key": "FallAttackCDDown_ON",
          "value": 0
        }
      ],
      "onRemoved": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_KAZUHA_BUFF1",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "target": "Team",
          "key": "FallAttackCDDown_ON",
          "value": 0
        },
        {
          "$type": "RemoveUniqueModifier",
          "target": "Team",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingDamageLand_CDDown_Duration"
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_KAZUHA_BUFF1"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_KAZUHA_BUFF1",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Decision_FallingDamageLand_Handler"
          ]
        },
        {
          "$type": "LocalAvatarsMixin",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingDamageLand_CDDown_Decition_BuffExist"
        },
        {
          "$type": "CurLocalAvatarMixinV2",
          "modifierName": "UNIQUE_FallingDamageLand_CDDown_Effect_Handler"
        }
      ],

      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Decision_FallingDamageLand_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingDamageLand_CDDown_Duration"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "GV_KAZUHA_BUFF1",
              "value": 0
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingDamageLand_CDDown_Decition_BuffExist": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "AttachModifierToGlobalValueMixin",
              "globalValueTarget": "Team",
              "globalValueKey": "FallAttackCDDown_ON",
              "valueSteps": [0.5, 1.5],
              "modifierNameSteps": [
                "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Decision_FallingDamageLand"
              ]
            }
          ]
        },
        "UNIQUE_FallingDamageLand_CDDown_Effect_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "AttachModifierToGlobalValueMixin",
              "globalValueTarget": "Team",
              "globalValueKey": "FallAttackCDDown_ON",
              "valueSteps": [0.5, 1.5],
              "modifierNameSteps": ["FallingDamageLand_CDDown_Effect"]
            }
          ]
        },
        "FallingDamageLand_CDDown_Effect": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_BUFFB_01_Buff"
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingDamageLand_CDDown_Duration": {
          "isUnique": true,
          "stacking": "MultipleAllRefresh",
          "stackingOption": {
            "maxModifierNumForMultipleType": 1,
            "enableMixedUnique": true
          },
          "duration": "%CDDown_Duration",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "FallAttackCDDown_ON",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "FallAttackCDDown_ON",
              "value": 0
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Decision_FallingDamageLand": {
          "isUnique": true,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "EnableRocketJump",
              "canBeHandledOnRecover": true,
              "target": "Self",
              "doOffStage": true,
              "type": "DungeonJump",
              "enable": true,
              "extention": {
                "xzMultiplier": 2, //xz平面速度乘子
                "yMultiplier": 3.0 //y轴跳跃速度乘子
              }
            }
            // {
            //     "$type": "AttachEffect",
            //     "effectPattern": "Eff_SceneObj_DIK_BUFFB_01_Buff",
            // }
          ],
          //后台切换到前台刷新一次
          "onAvatarIn": [
            {
              "$type": "EnableRocketJump",
              "canBeHandledOnRecover": true,
              "target": "Self",
              "doOffStage": true,
              "type": "DungeonJump",
              "enable": true,
              "extention": {
                "xzMultiplier": 2, //xz平面速度乘子
                "yMultiplier": 3.0 //y轴跳跃速度乘子
              }
            }
          ],
          "onAttackLanded": [
            {
              //减少技能CD
              "$type": "Predicated",
              "target": "Other",
              "doOffStage": true,
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["FallingAttack"]
                }, //判断伤害标签是否是元素战技
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                }, //判断伤害对象是否未怪物
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "CDDownState",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                } //CD
              ], //判断触发条件是否满足
              "successActions": [
                {
                  "$type": "DebugLog",
                  "content": "##：下落攻击减少CD"
                },
                {
                  //通知Team的CDManager减少CD
                  "$type": "ServerLuaCall",
                  "luaCallType": "CurChallengeGroup",
                  "funcName": "SLC_DLActivityDungeon_TCoolDown",
                  "paramNum": 1,
                  "param1": 2
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Decision_FallingDamageLand_CD"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableRocketJump",
              "type": "DungeonJump",
              "target": "Self",
              "doOffStage": true,
              "enable": false
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Decision_FallingDamageLand_CD": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%CDDown_Interval",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "CDDownState",
              "value": -1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "CDDownState",
              "value": 0
            }
          ]
        }
      },
      "abilitySpecials": {
        "CDDownValue": 0,
        "CDDown_Interval": 0,
        "CDDown_Duration": 0
      }
    }
  },
  {
    //1、冷却缩减增加
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_SkillCDMinusRatioUp",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_KAZUHA_BUFF2",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "SkillCDMinusRatioUp_ON",
          "value": 0
        }
      ],
      "onRemoved": [
        {
          "$type": "SetGlobalValue",
          "key": "SkillCDMinusRatioUp_ON",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "GV_KAZUHA_BUFF2",
          "value": 0
        },
        {
          "$type": "RemoveUniqueModifier",
          "target": "Team",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_SkillCDMinusRatioUp_Duration"
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_KAZUHA_BUFF2"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_KAZUHA_BUFF2",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_SkillCDMinusRatioUp_Handler"
          ]
        },
        {
          "$type": "LocalAvatarsMixin",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_SkillCDMinusRatioUp_Decition_BuffExist"
        },
        {
          "$type": "CurLocalAvatarMixinV2",
          "modifierName": "UNIQUE_SkillCDMinusRatioUp_Effect_Handler"
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_SkillCDMinusRatioUp_Handler": {
          "isUnique": true,
          "stacking": "Multiple",
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_SkillCDMinusRatioUp_Duration"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "GV_KAZUHA_BUFF2",
              "value": 0
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_SkillCDMinusRatioUp_Decition_BuffExist": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "AttachModifierToGlobalValueMixin",
              "globalValueTarget": "Team",
              "globalValueKey": "SkillCDMinusRatioUp_ON",
              "valueSteps": [0.5, 1.5],
              "modifierNameSteps": [
                "UNIQUE_Activity_SummerTimeV2_Dungeon_SkillCDMinusRatioUp"
              ]
            }
          ]
        },
        "UNIQUE_SkillCDMinusRatioUp_Effect_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "AttachModifierToGlobalValueMixin",
              "globalValueTarget": "Team",
              "globalValueKey": "SkillCDMinusRatioUp_ON",
              "valueSteps": [0.5, 1.5],
              "modifierNameSteps": ["SkillCDMinusRatioUp_Effect"]
            }
          ]
        },
        "SkillCDMinusRatioUp_Effect": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_BUFFC_01_Buff"
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_SkillCDMinusRatioUp_Duration": {
          "isUnique": true,
          "stacking": "MultipleAllRefresh",
          "stackingOption": {
            "maxModifierNumForMultipleType": 1,
            "enableMixedUnique": true
          },
          "duration": "%DecreaseCDDuration",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "SkillCDMinusRatioUp_ON",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "SkillCDMinusRatioUp_ON",
              "value": 0
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_SkillCDMinusRatioUp": {
          "isUnique": true,
          "stacking": "Unique",
          "isLimitedProperties": true,
          "properties": {
            "Actor_SkillCDMinusRatio": "%SkillCDMinusRatioUp"
          }
        }
      },
      "abilitySpecials": {
        "DecreaseCDDuration": 0,
        "SkillCDMinusRatioUp": 0
      }
    }
  },
  {
    //2、造成伤害增加,最多叠加3层
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Kazuha_DamageUp",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_KAZUHA_BUFF3",
          "value": 0
        }
      ],
      "onRemoved": [
        {
          "$type": "SetGlobalValue",
          "target": "Team",
          "key": "DAMAGEUP_LEVEL",
          "value": 0
        },
        {
          "$type": "RemoveUniqueModifier",
          "target": "Team",
          "modifierName": "UNIQUE_UNIQUE_Activity_SummerTimeV2_Dungeon_ClearLevel"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "SetGlobalValueToOverrideMap",
          "target": "Team",
          "doOffStage": true,
          "globalValueKey": "DAMAGEUP_LEVEL",
          "overrideMapKey": "DamageUpLevel"
        },
        {
          "$type": "RemoveUniqueModifier",
          "doOffStage": true,
          "target": "CurTeamAvatars",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_IncreaseDamage"
        }, //先移除，确保效果能重新上上来
        {
          "$type": "AttachModifier",
          "doOffStage": true,
          "target": "CurTeamAvatars",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_IncreaseDamage"
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_KAZUHA_BUFF3"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_KAZUHA_BUFF3",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_Kazuha_IncreaseDamage_Handler"
          ]
        },
        {
          "$type": "LocalAvatarsMixin",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_RefreshModifier"
        },
        {
          "$type": "CurLocalAvatarMixinV2",
          "modifierName": "UNIQUE_Kazuha_DamageUp_Effect_Handle"
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_Kazuha_IncreaseDamage_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Self",
              "modifierName": "UNIQUE_UNIQUE_Activity_SummerTimeV2_Dungeon_ClearLevel"
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "DAMAGEUP_LEVEL",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "TriggerAbility",
              "target": "Team",
              "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Kazuha_DamageUp"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "GV_KAZUHA_BUFF3",
              "value": 0
            }
          ]
        },
        "UNIQUE_UNIQUE_Activity_SummerTimeV2_Dungeon_ClearLevel": {
          "isUnique": true,
          "stacking": "Refresh",
          "duration": "%IncreaseDamageDuration",
          // "modifierMixins":
          // [
          //     {
          //         "$type": "CurLocalAvatarMixinV2",
          //         "modifierName": "Kazuha_DamageUp_Effect",
          //     },
          // ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "DAMAGEUP_LEVEL",
              "value": 0
            },
            {
              "$type": "TriggerAbility",
              "target": "Team",
              "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Kazuha_DamageUp"
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_RefreshModifier": {
          "isUnique": true,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "TriggerAbility",
              "target": "Team",
              "doOffStage": true,
              "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Kazuha_DamageUp"
            }
          ]
        },
        "UNIQUE_Kazuha_DamageUp_Effect_Handle": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "AttachModifierToGlobalValueMixin",
              "globalValueTarget": "Team",
              "globalValueKey": "DAMAGEUP_LEVEL",
              "valueSteps": [0.5, 3.5],
              "modifierNameSteps": ["UNIQUE_Kazuha_DamageUp_Effect"]
            }
          ]
        },
        "UNIQUE_Kazuha_DamageUp_Effect": {
          "isUnique": true,
          "stacking": "Unique",
          "state": "AttackUp",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_BUFFA_01_Buff"
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_IncreaseDamage": {
          "isUnique": true,
          "stacking": "Unique",
          "isLimitedProperties": true,
          "modifierMixins": [
            {
              "$type": "ModifyDamageMixin",
              "ignoreEventInfo": true,
              "damagePercentageRatio": "%DamageUpRate*%DamageUpLevel"
            }
          ]
        }
      },
      "abilitySpecials": {
        "IncreaseDamageDuration": 0,
        "DamageUpRate": 0,
        "DamageUpLevel": 0
      }
    }
  },
  //地脉异常
  {
    //6、释放元素爆发元素战技减少技能会CD
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Trigger_Skill_UltimateSkill_CDDown",
      "isDynamicAbility": true,
      "abilityMixins": [
        {
          "$type": "LocalAvatarsMixin",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Decision_Trigger_Skill_UltimateSkill"
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Decision_Trigger_Skill_UltimateSkill": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "OnAvatarUseSkillMixin",
              "clearSkillIdDelay": 0.2,
              "onTriggerSkill": [
                {
                  //通知Team的CDManager减少CD
                  "$type": "ServerLuaCall",
                  "luaCallType": "CurChallengeGroup",
                  "funcName": "SLC_DLActivityDungeon_TCoolDown",
                  "paramNum": 1,
                  "param1": 1,
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "target": "Team",
                      "key": "Skill_CD",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    }
                  ]
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Action_Trigger_Skill_CD"
                }
              ],
              "onTriggerUltimateSkill": [
                {
                  //通知Team的CDManager减少CD
                  "$type": "ServerLuaCall",
                  "luaCallType": "CurChallengeGroup",
                  "funcName": "SLC_DLActivityDungeon_TCoolDown",
                  "paramNum": 1,
                  "param1": 1,
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "target": "Team",
                      "key": "UltimateSkill_CD",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    }
                  ]
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Action_Trigger_UltimateSkill_CD"
                }
              ]
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Action_Trigger_Skill_CD": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%SkillCD",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "Skill_CD",
              "value": -1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "Skill_CD",
              "value": 0
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_CDDown_Action_Trigger_UltimateSkill_CD": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%UltimateSkillCD",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "UltimateSkill_CD",
              "value": -1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "UltimateSkill_CD",
              "value": 0
            }
          ]
        }
      },
      "abilitySpecials": {
        "SkillCD": 3,
        "UltimateSkillCD": 3
      }
    }
  },
  ///////////////////
  //2、莫娜地城
  ///////////////////
  {
    //1、对冻结目标伤害增加
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_AttackFrozenEnemy_IncreaseDamage",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_MONA_BUFF2",
          "value": 0
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_MONA_BUFF2"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_MONA_BUFF2",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_AttackFrozenEnemy_IncreaseDamage_Handler"
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_AttackFrozenEnemy_IncreaseDamage_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "CurTeamAvatars",
              "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_AttackFrozenEnemy_IncreaseDamage"
            },
            {
              "$type": "DebugLog",
              "content": "####### Mona Buff 2 #######"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "GV_MONA_BUFF2",
              "value": 0
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_AttackFrozenEnemy_IncreaseDamage": {
          "isUnique": true,
          "stacking": "MultipleAllRefresh",
          "stackingOption": {
            "maxModifierNumForMultipleType": 1,
            "enableMixedUnique": true
          },
          "duration": "%DamageUpDuration",
          "isLimitedProperties": true,
          "modifierMixins": [
            {
              "$type": "ModifyDamageMixin",
              "ignoreEventInfo": true, //不筛选攻击类型，所有攻击类型攻击力都获得加成
              "damagePercentageRatio": "%DamageUpRate",
              "predicates": [
                {
                  "$type": "ByHasAbilityState",
                  "target": "Target",
                  "abilityState": "ElementFrozen"
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "DamageUpDuration": 0,
        "DamageUpRate": 0
      }
    }
  },
  {
    //2、无敌 碰怪击飞 秒杀
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_WhosYourDaddy",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_MONA_BUFF1",
          "value": 0
        }
      ],
      "onRemoved": [
        {
          "$type": "RemoveModifier",
          "modifierName": "UNIQUE_MonaBuff_WhosYourDaddy_Timer"
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_MONA_BUFF1"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_MONA_BUFF1",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_WhosYourDaddy_Handler"
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_WhosYourDaddy_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "UNIQUE_MonaBuff_WhosYourDaddy_Timer"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "GV_MONA_BUFF1",
              "value": 0
            }
          ]
        },
        "UNIQUE_MonaBuff_WhosYourDaddy_Timer": {
          "duration": "%Duration",
          "isUnique": true,
          "stacking": "MultipleAllRefresh",
          "stackingOption": {
            "maxModifierNumForMultipleType": 1,
            "enableMixedUnique": true
          },
          "modifierMixins": [
            {
              //随前场角色转移Modifier
              "$type": "CurLocalAvatarMixinV2",
              "modifierName": "Activity_SummerTimeV2_Dungeon_WhosYourDaddy"
            }
          ]
        },
        "MonaBuff_WhosYourDaddy_Attack": {
          "duration": 0.1, //先出击飞动画 再死
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "MonaBuff_Deny_Hit",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },
        "Activity_SummerTimeV2_Dungeon_WhosYourDaddy": {
          "isLimitedProperties": true,
          "state": "Invincible", //无敌Buff
          "onAdded": [
            {
              //护盾特效
              "$type": "AttachEffect",
              "doOffStage": true,
              "effectPattern": "Eff_SceneObj_ShieldPower_01_Buff"
            },
            {
              //状态免疫大礼包
              "$type": "AttachAbilityStateResistance",
              "resistanceListID": 11002
            }
          ],
          //碰到怪击飞
          "thinkInterval": 0.1,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2H8",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "MonaBuff_Deny_Hit",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "funcName": "SLC_DLActivityDungeon_Exhi_MonaPush",
                  "luaCallType": "CurChallengeGroup"
                },
                {
                  "$type": "DamageByAttackValue",
                  "target": "Other",
                  "attackInfo": {
                    "attackProperty": {
                      "damagePercentage": 0,
                      "elementType": "None",
                      "elementDurability": 0,
                      "strikeType": "Blunt",
                      "enBreak": 99999,
                      "ignoreLevelDiff": true
                    },
                    "hitPattern": {
                      "onHitEffectName": "none",
                      "hitImpulseType": "LV6",
                      "canBeDefenceHalt": false,
                      "hitHaltTime": 0.0,
                      "hitHaltTimeScale": 0.01,
                      "muteHitText": true
                    }
                  }
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Other",
                  "modifierName": "MonaBuff_WhosYourDaddy_Attack"
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "Duration": 6
      }
    }
  },
  {
    //3、全场控制
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Mona_StruggleBubble",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_MONA_BUFF3",
          "value": 0
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_MONA_BUFF3"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_MONA_BUFF3",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_Create_Bubble"
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_Create_Bubble": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%BubbleDuration",
          "state": "Struggle",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Girl_Catalyst_Mona_StarChart_Bubble"
            },
            {
              "$type": "DebugLog",
              "content": "####### Mona Buff 3 #######"
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByTargetType",
                  "targetType": "Self",
                  "isTarget": false
                },
                {
                  "$type": "ByHitImpulse",
                  "hitImpulse": 0
                }
              ],
              "successActions": [
                {
                  "$type": "RemoveUniqueModifier",
                  "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_Create_Bubble"
                },
                {
                  "$type": "SetGlobalValue",
                  "target": "Team",
                  "key": "GV_MONA_BUFF3",
                  "value": 0
                }
              ]
            }
          ],
          "onKill": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_Create_Bubble"
            },
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "GV_MONA_BUFF3",
              "value": 0
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "GV_MONA_BUFF3",
              "value": 0
            }
          ],
          "properties": {
            "Actor_AddGravityScale": -2
          }
        }
      },
      "abilitySpecials": {
        "BubbleDuration": 0
      }
    }
  },
  {
    //2、造成伤害增加
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Mona_DamageUp",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_MONA_BUFF3",
          "value": 0
        }
      ],
      "onAbilityStart": [
        {
          "$type": "SetGlobalValueToOverrideMap",
          "target": "Team",
          "doOffStage": true,
          "globalValueKey": "DAMAGEUP_LEVEL",
          "overrideMapKey": "DamageUpLevel"
        },
        {
          "$type": "RemoveUniqueModifier",
          "doOffStage": true,
          "target": "CurTeamAvatars",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_IncreaseDamage"
        }, //先移除，确保效果能重新上上来
        {
          "$type": "AttachModifier",
          "doOffStage": true,
          "target": "CurTeamAvatars",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_IncreaseDamage"
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_MONA_BUFF3"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_MONA_BUFF3",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_Mona_IncreaseDamage_Handler"
          ]
        },
        {
          "$type": "LocalAvatarsMixin",
          "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_RefreshModifier"
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_Mona_IncreaseDamage_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Self",
              "modifierName": "UNIQUE_UNIQUE_Activity_SummerTimeV2_Dungeon_ClearLevel"
            },
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "DAMAGEUP_LEVEL",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "TriggerAbility",
              "target": "Team",
              "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Mona_DamageUp"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "GV_MONA_BUFF3",
              "value": 0
            }
          ]
        },
        "UNIQUE_UNIQUE_Activity_SummerTimeV2_Dungeon_ClearLevel": {
          "isUnique": true,
          "stacking": "Refresh",
          "duration": "%IncreaseDamageDuration",
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "DAMAGEUP_LEVEL",
              "value": 0
            },
            {
              "$type": "TriggerAbility",
              "target": "Team",
              "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Mona_DamageUp"
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_RefreshModifier": {
          "isUnique": true,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "TriggerAbility",
              "target": "Team",
              "doOffStage": true,
              "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Mona_DamageUp"
            }
          ],
          "modifierMixins": [
            {
              "$type": "AttachModifierToGlobalValueMixin",
              "globalValueTarget": "Team",
              "globalValueKey": "DAMAGEUP_LEVEL",
              "valueSteps": [0.5, 1.5],
              "modifierNameSteps": [
                "UNIQUE_Activity_SummerTimeV2_Dungeon_IncreaseDamage_Eff"
              ]
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_IncreaseDamage_Eff": {
          "isUnique": true,
          "stacking": "Unique",
          "state": "AttackUp"
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_IncreaseDamage": {
          "isUnique": true,
          "stacking": "Unique",
          "isLimitedProperties": true,
          "modifierMixins": [
            {
              "$type": "ModifyDamageMixin",
              "ignoreEventInfo": true,
              "damagePercentageRatio": "%DamageUpRate*%DamageUpLevel"
            }
          ]
        }
      },
      "abilitySpecials": {
        "IncreaseDamageDuration": 8,
        "DamageUpRate": 0.35,
        "DamageUpLevel": 0
      }
    }
  },
  ///////////////////
  //3、菲谢尔地城
  ///////////////////
  {
    //1、雷环冲击波
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Create_ElectricZone",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "target": "Team",
          "key": "GV_CREATE_ELECTRICZONE",
          "value": 0
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_CREATE_ELECTRICZONE"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_CREATE_ELECTRICZONE",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_Create_ElectricZone_Handler"
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_Create_ElectricZone_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "CurTeamAvatars",
              "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_Create_ElectricZone"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "GV_CREATE_ELECTRICZONE",
              "value": 0
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_Create_ElectricZone": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 1.0,
          "onAdded": [
            {
              "$type": "CreateGadget",
              "gadgetID": 44000429,
              "campID": 1001,
              "campTargetType": "Enemy",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_ElectricZone",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetSystemValueToOverrideMap",
          "key": "LevelEntity_SystemValue",
          "type": "ElementLevelCo"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Life_Timer"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "SummerTimeV2_Dungeon_ElectricZone_Damage"
        }
      ],
      "modifiers": {
        "Life_Timer": {
          "duration": "%Duration",
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "target": "Self",
                  "attackTags": ["FISHCL_ELECTRIC_WAVE"]
                },
                {
                  //防止同时命中多个目标触发多次
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "ElecWave_Land",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "luaCallType": "CurChallengeGroup",
                  "funcName": "SLC_DLActivityDungeon_Exhi_FischlElecShock"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "UNIQUE_Electric_Wave_Land_CD"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },
        "UNIQUE_Electric_Wave_Land_CD": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "ElecWave_Land",
              "value": -1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "ElecWave_Land",
              "value": 0
            }
          ]
        },
        //间隔雷元素伤害
        "SummerTimeV2_Dungeon_ElectricZone_Damage": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SummerTimeV2_Dungeon_ShockWave_Expand_Electric_Loop",
              "born": {
                "$type": "ConfigBornBySelf",
                "onGround": true
              }
            }
          ],
          "thinkInterval": "%Attack_Interval",
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SummerTimeV2_Dungeon_ShockWave_Expand_Electric_Once",
              "born": {
                "$type": "ConfigBornBySelf",
                "direction": {
                  "$type": "ConfigDirectionByGroundNormalRange",
                  "range": 3
                }
              }
            },
            {
              "$type": "TriggerAttackEvent",
              "target": "Self",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 3,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  }
                },
                "attackInfo": {
                  "attackTag": "FISHCL_ELECTRIC_WAVE",
                  "attackProperty": {
                    "damageExtra": "%Damage*%LevelEntity_SystemValue",
                    "trueDamage": true,
                    "ignoreAttackerProperty": true,
                    "ignoreModifyDamage": true,
                    "elementType": "Electric",
                    "elementDurability": 25,
                    "strikeType": "Default",
                    "enBreak": 0
                  },
                  "hitPattern": {
                    "onHitEffectName": "",
                    "hitImpulseType": "LV2",
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.05,
                    "muteHitText": false
                  },
                  "forceCameraShake": false
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {
        "LevelEntity_SystemValue": 0, //大世界等级
        "Duration": 0, //持续时间
        "Attack_Interval": 0, //攻击间隔
        "Damage": 0 //风元素伤害
      }
    }
  },
  {
    //1、重置大招
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Fischl_ResetUltimateSkill",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_FISCHL_BUFF3",
          "value": 0
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_FISCHL_BUFF3"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_FISCHL_BUFF3",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_Fischl_ResetUltimateSkill_Handler"
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_Fischl_ResetUltimateSkill_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ReviveElemEnergy",
              "target": "CurLocalAvatar",
              "value": 100
            },
            {
              "$type": "ModifyAvatarSkillCD",
              "target": "CurLocalAvatar",
              "skillSlot": [5],
              "cdRatio": -1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "GV_FISCHL_BUFF3",
              "value": 0
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  //Crow
  {
    //CrowAbility
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Fishcl_Crow",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "target": "Self",
          "modifierName": "UNIQUE_Activity_Crow_AutoAttack"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "SetSelfAttackTarget",
          "turnToTargetImmediately": true,
          "clearOldTarget": true,
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR11",
            "centerBasedOn": "Self",
            "campTargetType": "Enemy",
            "campBasedOn": "Self",
            "sortType": "HigherScore",
            "entityTypePriority": ["Monster", "Gadget"],
            "topLimit": 1
          },
          "predicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Gadget", "Monster"]
            },
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ANIMAL_ENTITY_TYPE",
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        },
        {
          "$type": "Predicated",
          "target": "SelfAttackTarget",
          "targetPredicates": [
            {
              "$type": "ByHasAttackTarget"
            },
            {
              "$type": "ByTargetPositionToSelfPosition",
              "compareType": "XYZ",
              "target": "SelfAttackTarget",
              "value": 10,
              "logic": "LesserOrEqual"
            },
            {
              "$type": "ByTargetHPValue",

              "HP": 0,
              "logic": "Greater"
            },
            {
              "$type": "ByNot",
              "predicates": [
                {
                  "$type": "ByTargetIsGhostToEnemy"
                }
              ]
            }
          ],
          "successActions": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Fischl_Skill_S_Crow_NormalAttackOnShooting",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Mouth",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
                //屏蔽资源
                //"$type": "ConfigBornBySelf",
                // "offset":
                // {
                // 	"x": 0.0,
                // 	"y": 0.0,
                // 	"z": 0.0,
                // },
                //屏蔽资源
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 44000432,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "AP1",
                //屏蔽资源
                //"$type": "ConfigBornBySelf",
                //屏蔽资源
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  "randomAngleHor": 45,
                  "angleOffset": {
                    "x": 1,
                    "y": 0,
                    "z": 0
                  }
                }
              }
            }
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_Crow_AutoAttack": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%Crow_LifeTime",
          "onAdded": [
            {
              "$type": "TriggerAbility",
              "target": "Self",
              "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Fishcl_Crow"
            },
            //屏蔽资源
            // {
            //     "$type": "AttachEffect",
            //     "effectPattern": "Eff_SummerTimeV2_Dungeon_ShockWave_Expand_Electric_Loop",
            // },
            //屏蔽资源
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Fischl_S_Skill_Summon",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Spine"
              }
            }
          ],
          "thinkInterval": "%Crow_AttackInterval",
          "onThinkInterval": [
            {
              "$type": "TriggerAbility",
              "target": "Self",
              "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Fishcl_Crow"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Fischl_S_Skill_Death",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Spine"
              }
            },
            //屏蔽资源
            // {
            //     "$type": "FireEffect",
            //     "effectPattern": "Eff_SummerTimeV2_Dungeon_ShockWave_Expand_Electric_Dissipate"
            // },
            //屏蔽资源
            {
              "$type": "KillSelf"
            }
          ]
        }
      },
      "abilitySpecials": {
        "Crow_LifeTime": 0,
        "Crow_AttackInterval": 0
      }
    }
  },
  {
    //CrowBullet
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_Fishcl_Crow_Bullet",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Fischl_Skill_S_Crow_NormalAttackTrail"
        },
        {
          "$type": "SetSystemValueToOverrideMap",
          "doOffStage": true,
          "key": "ImpactDamageSystemValue",
          "type": "ElementLevelCo"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "FirstAttack"
        }
      ],
      "abilityMixins": [],
      "modifiers": {
        "FirstAttack": {
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "TriggerAttackEvent",
              "doOffStage": true,
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackBox",
                  "triggerType": "TriggerNoRepeat",
                  "size": {
                    "x": 0.1,
                    "y": 0.1,
                    "z": 1.0
                  },
                  "born": {
                    "$type": "ConfigBornByCollisionPoint",
                    "offset": {
                      "x": 0.0, // + means up, - means down
                      "y": 0.0, // + means left, - means right
                      "z": -0.5 // + means forward, - means backward
                    }
                  },
                  "checkHitLayerType": "Both"
                },
                "attackInfo": {
                  "canBeModifiedBy": "None",
                  "attackTag": "Dungeon_OZ_Attack",
                  "attackProperty": {
                    "damageExtra": "%BulletDamage*%ImpactDamageSystemValue",
                    "trueDamage": true,
                    "ignoreAttackerProperty": true,
                    "ignoreModifyDamage": true,
                    "strikeType": "Pierce",
                    "elementType": "Electric",
                    "elementDurability": 25,
                    "enBreak": 10
                  },
                  "hitPattern": {
                    "onHitEffectName": "Eff_Fischl_Skill_S_Crow_NormalHit",
                    "hitImpulseType": "LV1", //Shake x0 y0
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.01,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {
        "ImpactDamageSystemValue": 0,
        "BulletDamage": 0
      }
    }
  },
  //
  ///////////////////
  //3、辛焱地城
  ///////////////////
  {
    //5、下落攻击释放冲击波
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_Dungeon_FallingAttack_Impact",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "SetSystemValueToOverrideMap",
          "doOffStage": true,
          "key": "ImpactDamageSystemValue",
          "type": "ElementLevelCo"
        },
        {
          "$type": "SetGlobalValue",
          "target": "Team",
          "key": "GV_XINYAN_BUFF",
          "value": 0
        }
      ],
      "abilityMixins": [
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_XINYAN_BUFF"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_XINYAN_BUFF",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": [
            "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingAttack_Impact_Handler"
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingAttack_Impact_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          //"duration": 0.1,
          "onAdded": [
            {
              "$type": "AttachModifier",
              "target": "CurTeamAvatars",
              "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingAttack_Impact_Decsion_FallingAttackEnd"
            }
          ],
          "modifierMixins": [
            {
              "$type": "LocalAvatarsMixin",
              "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingAttack_Impact_Decsion_FallingAttackEnd"
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingAttack_Impact_Decsion_FallingAttackEnd": {
          "isUnique": true,
          "stacking": "Unique",
          //提前一个判断时点
          "onHittingOther": [
            {
              "$type": "Predicated",
              "target": "Self",
              "doOffStage": true,
              "doAfterDie": true,
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "target": "Self",
                  "attackTags": ["XINYAN_DUNGEON_IMPACT"]
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "doOffStage": true,
                  "doAfterDie": true,
                  "luaCallType": "CurChallengeGroup",
                  "funcName": "SLC_DLActivityDungeon_Exhi_XinyanFallAttack"
                }
              ]
            }
          ],
          "modifierMixins": [
            {
              "$type": "DoActionByStateIDMixin",
              "stateIDs": [
                "FallingAnthem_AS_1",
                "ElementalArt_FallingAttack_Strike"
              ],
              "exitActions": [
                {
                  "$type": "ApplyModifier",
                  "doAfterDie": true,
                  "doOffStage": true,
                  "target": "Self",
                  "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingAttack_Impact_Action_Impact",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "target": "Team",
                      "key": "ImpactState",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    }
                  ]
                },
                {
                  "$type": "ApplyModifier",
                  "doAfterDie": true,
                  "doOffStage": true,
                  "target": "Team",
                  "modifierName": "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingAttack_Impact_CD"
                }
              ]
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingAttack_Impact_CD": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%ImpactCD",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ImpactState",
              "value": -1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ImpactState",
              "value": 0
            }
          ]
        },
        "UNIQUE_Activity_SummerTimeV2_Dungeon_FallingAttack_Impact_Action_Impact": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 0.05,
          "onAdded": [
            {
              "$type": "FireEffect",
              "doOffStage": true,
              "doAfterDie": true,
              "effectPattern": "Eff_EnergyDisk_ElementalBurst_Wave_R40"
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "doAfterDie": true,
              "doOffStage": true,
              "target": "Self",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 4,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackTag": "XINYAN_DUNGEON_IMPACT",
                  "attackProperty": {
                    "damageExtra": "%ImpactDamageValue*%ImpactDamageSystemValue",
                    "ignoreAttackerProperty": true, //忽略角色属性加成
                    "ignoreModifyDamage": true,
                    "trueDamage": true,
                    "attackType": "Melee",
                    "elementType": "None", //元素类型为无
                    "elementDurability": 0, //元素含量为0
                    "enBreak": 0
                  },
                  "hitPattern": {
                    "onHitEffectName": "default", //击中特效名称，
                    "hitImpulseType": "LV2", //击退？
                    "reboundRatio": 0, //需要解释
                    "canBeDefenceHalt": false, //持盾防御者无法产生额外卡肉
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false //不跳字
                  } //打击效果
                }
              }
            } //生成圆形攻击盒
          ]
        }
      },
      "abilitySpecials": {
        "ImpactDamageValue": 0,
        "ImpactDamageSystemValue": 0,
        "BuffDuration": 0,
        "ImpactCD": 0
      }
    }
  },
  //怪物盾牌检测----------<废弃>
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_SummerTimeV2_BeHit_HasShield",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "target": "Self",
          "modifierName": "UNIQUE_Ability_SummerTimeV2_BeHit_HasShield"
        }
      ],
      "modifiers": {
        "UNIQUE_Ability_SummerTimeV2_BeHit_HasShield": {
          "isUnique": true,
          "stacking": "Unique",
          "onBeingHit": [
            {
              "$type": "ServerLuaCall",
              "luaCallType": "CurChallengeGroup",
              "funcName": "SLC_DLActivityDungeon_Exhi_XinyanEnbreak",
              "predicates": [
                {
                  "$type": "ByHasShieldV2",
                  "potentShieldType": "Rock",
                  "usePotentShield": true,
                  "target": "Self",
                  "type": "All"
                }
              ]
            }
          ]
        }
      }
    }
  }
]
