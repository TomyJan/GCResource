[
  ////////////////////////////////////////////////////////////////
  //
  //  2.6拼刀玩法
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_Avatar_Blocking",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Avatar_Blocking_AddSkillInfo"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Avatar_Blocking_ChangePlayMode"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Avatar_Blocking_Buff_Handler"
        },
        {
          "$type": "SetSystemValueToOverrideMap",
          "key": "LevelEntity_SystemValue",
          "type": "ElementLevelCo"
        }
      ],
      "abilityMixins": [
        {
          "$type": "ButtonHoldChargeMixin",
          "skillID": 20320,
          "chargeTime": 5.0,
          //按下Btn进入举刀
          "OnBeginUncharged": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR15",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                }
              ]
            },
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 80
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "PRIVATE_Blocking_IsHold",
              "value": true
            }
          ],
          //松开Btn退出格挡姿势
          "OnReleaseUncharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "PRIVATE_Blocking_IsHold",
              "value": false
            }
          ],
          //超时按住Btn也会退出格挡姿势
          "OnBeginCharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "PRIVATE_Blocking_IsHold",
              "value": false
            }
          ],
          "chargeStateIDs": ["Blocking_BS", "Blocking_Loop", "Blocking_Hit"]
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Blocking_BS", "Blocking_Loop", "Blocking_Hit"],
          "modifierName": "Avatar_Blocking_Timer"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Blocking_BS", "Blocking_Loop", "Blocking_Hit"],
          "modifierName": "Avatar_Blocking_BackUp_ShortDis" //近距离弹反检测
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Blocking_BS", "Blocking_Loop", "Blocking_Hit"],
          "modifierName": "Avatar_Blocking_BackUp_LongDis" //远距离弹反检测
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Blocking_BS", "Blocking_Loop", "Blocking_Hit"],
          "modifierName": "Avatar_Blocking_Defense" //防御减伤判定
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Blocking_Back",
          "modifierName": "Avatar_Blocking_BackUp_Damage",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.027
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Blocking_Loop", "Blocking_Hit"],
          "modifierName": "Avatar_Blocking_EnterCD"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Blocking_Bounce"],
          "modifierName": "Avatar_Blocking_Bounce"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Blocking_Bounce",
          "modifierName": "Avatar_Blocking_Invicible",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.218
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Blocking_Back",
          "modifierName": "Avatar_Blocking_Invicible",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.218
        }
      ],
      "modifiers": {
        //动态上下skillinfo信息
        "Avatar_Blocking_AddSkillInfo": {
          "onAdded": [
            {
              "$type": "AddAvatarSkillInfo",
              "skillID": 20320,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "RemoveAvatarSkillInfo",
              "skillID": 20320,
              "doOffStage": true
            }
          ]
        },
        //切换拼刀玩法及按键面板
        "Avatar_Blocking_ChangePlayMode": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "Avatar_Blocking_ChangePlayMode_OnTeam",
              "target": "Team"
            }
          ],
          "modifierMixins": [
            {
              "$type": "SwitchSkillIDMixin",
              "priority": "Playmode",
              "skillIndex": 1,
              "skillID": 20320
            }
          ]
        },
        "Avatar_Blocking_ChangePlayMode_OnTeam": {
          "modifierMixins": [
            {
              "$type": "AttachActionToModifierMixin",
              "onAdded": [
                {
                  "$type": "ChangePlayMode",
                  "muteRemoteAction": true,
                  "toPlayMode": "Blocking",
                  "doOffStage": true
                }
              ],
              "onRemoved": [
                {
                  "$type": "ChangePlayMode",
                  "muteRemoteAction": true,
                  "toPlayMode": "Normal",
                  "doOffStage": true,
                  "canBeHandledOnRecover": true
                }
              ]
            }
          ]
        },
        //举刀格挡计时器
        "Avatar_Blocking_Timer": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Blocking_Timer",
              "value": 0
            }
          ],
          "thinkInterval": 0.1,
          "onThinkInterval": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Blocking_Timer",
              "value": 1,
              "useLimitRange": true,
              "minValue": 0,
              "maxValue": 10
            }
          ]
        },
        //近战弹反判定逻辑
        "Avatar_Blocking_BackUp_ShortDis": {
          "onBeingHit": [
            {
              "$type": "Predicated", //指定攻击可供弹反
              "target": "Other",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Monster_BladeMaster_BeBlockAttack"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Blocking_Timer", //控制在0.4s内触发弹反
                  "value": 3,
                  "compareType": "LessAndEqual",
                  "target": "Caster"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Blocking_IsPerfect",
                  "value": 1,
                  "target": "Caster"
                },
                {
                  "$type": "SetSelfAttackTarget",
                  "turnToTargetImmediately": true,
                  "target": "Target"
                },
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "DoSkill",
                  "target": "Caster"
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkillID",
                  "value": 82,
                  "target": "Caster"
                }
              ]
            },
            {
              "$type": "Predicated", //普通攻击可供无伤格挡
              "target": "Other",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByAttackTags",
                      "attackTags": ["Monster_BladeMaster_BeBlockAttack"] //非特殊攻击
                    }
                  ]
                },
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByAttackTags",
                      "attackTags": ["BladeWind_CanBeBlockBack"] //非远程剑气
                    }
                  ]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Blocking_Timer",
                  "value": 3,
                  "compareType": "LessAndEqual",
                  "target": "Caster"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Blocking_IsPerfect",
                  "value": 1,
                  "target": "Caster"
                },
                {
                  "$type": "SetSelfAttackTarget",
                  "turnToTargetImmediately": true,
                  "target": "Target"
                },
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "DoSkill",
                  "target": "Caster"
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkillID",
                  "value": 81,
                  "target": "Caster"
                }
              ]
            },
            {
              "$type": "Predicated", //增加敌方目标怒气
              "target": "Other",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByAttackTags",
                      "attackTags": ["Monster_BladeMaster_BeBlockAttack"] //非特殊攻击
                    }
                  ]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Blocking_Timer",
                  "value": 3,
                  "compareType": "LessAndEqual",
                  "target": "Caster"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue", //向指定怪物设GV，增加怒气槽
                  "key": "_PARRY_HIT",
                  "value": 1,
                  "target": "Target"
                },
                {
                  "$type": "SetGlobalValue", //目标为子弹则需要向上找到Owner
                  "key": "_PARRY_HIT",
                  "value": 1,
                  "target": "TargetOriginOwner"
                }
              ]
            }
          ]
        },
        //远程弹反判定逻辑
        "Avatar_Blocking_BackUp_LongDis": {
          "onBeingHit": [
            {
              "$type": "Predicated", //唯独远程弹反
              "target": "Other",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["BladeWind_CanBeBlockBack"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Blocking_Timer",
                  "value": 3,
                  "compareType": "LessAndEqual",
                  "target": "Caster"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Blocking_IsPerfect",
                  "value": 1,
                  "target": "Caster"
                },
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "DoSkill",
                  "target": "Caster"
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkillID",
                  "value": 81,
                  "target": "Caster"
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Blocking_Hit_Big",
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "WeaponL",
                    "attachPointTargetType": "Caster"
                  }
                },
                //选定攻击目标，并朝目标方向弹反发射远程子弹
                {
                  "$type": "KillSelf", //尝试把目标子弹给Kill掉
                  "target": "Target"
                },
                {
                  "$type": "SetSelfAttackTarget",
                  "turnToTargetImmediately": true,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR30",
                    "centerBasedOn": "Self",
                    "campTargetType": "Enemy",
                    "campBasedOn": "Self"
                  },
                  "predicates": [
                    {
                      "$type": "ByEntityTypes",
                      "entityTypes": ["Monster"]
                    },
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ANIMAL_ENTITY_TYPE",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    }
                  ]
                },
                {
                  "$type": "TriggerBullet",
                  "bulletID": 420000016,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 1.0,
                      "z": 0.0
                    },
                    "direction": {
                      "$type": "ConfigDirectionByDefault",
                      "angleOffsetCorrect": {
                        "x": 0,
                        "y": 0,
                        "z": 45
                      }
                    }
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_KAIRAGI_BLADEMASTER_BLADEAIR_TYPE",
                      "value": 1,
                      "compareType": "Equal",
                      "target": "Caster"
                    }
                  ]
                },
                {
                  "$type": "TriggerBullet",
                  "bulletID": 420000016,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 1.0,
                      "z": 0.0
                    },
                    "direction": {
                      "$type": "ConfigDirectionByDefault",
                      "angleOffsetCorrect": {
                        "x": 0,
                        "y": 0,
                        "z": 55
                      }
                    }
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_KAIRAGI_BLADEMASTER_BLADEAIR_TYPE",
                      "value": 2,
                      "compareType": "Equal",
                      "target": "Caster"
                    }
                  ]
                },
                {
                  "$type": "TriggerBullet",
                  "bulletID": 420000016,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 1.0,
                      "z": 0.0
                    },
                    "direction": {
                      "$type": "ConfigDirectionByDefault",
                      "angleOffsetCorrect": {
                        "x": 0,
                        "y": 0,
                        "z": -55
                      }
                    }
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_KAIRAGI_BLADEMASTER_BLADEAIR_TYPE",
                      "value": 3,
                      "compareType": "Equal",
                      "target": "Caster"
                    }
                  ]
                },
                {
                  "$type": "TriggerBullet",
                  "bulletID": 420000016,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 1.0,
                      "z": 0.0
                    },
                    "direction": {
                      "$type": "ConfigDirectionByDefault",
                      "angleOffsetCorrect": {
                        "x": 0,
                        "y": 0,
                        "z": -90
                      }
                    }
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_KAIRAGI_BLADEMASTER_BLADEAIR_TYPE",
                      "value": 4,
                      "compareType": "Equal",
                      "target": "Caster"
                    }
                  ]
                }
              ]
            }
          ]
        },
        //完美弹反伤害
        "Avatar_Blocking_BackUp_Damage": {
          "onAdded": [
            {
              "$type": "ActCameraShake",
              "cameraShake": {
                "shakeType": "CustomVector",
                "shakeRange": 0.3,
                "shakeTime": 0.15,
                "shakeDistance": 30,
                "shakeDir": {
                  "x": 0,
                  "y": -1,
                  "z": 0
                },
                "extension": {
                  "baseOnCamera": true,
                  "rangeAttenuation": 0.1
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Blocking_Weather"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Blocking_WitchTime"
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Blocking_WitchTime"
            },
            {
              "$type": "TriggerAttackEvent",
              "target": "Self",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 4.5,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  }
                },
                "attackInfo": {
                  "attackTag": "Avatar_Blocking",
                  "attackProperty": {
                    "damagePercentage": "%Blocking_Back_Value",
                    // "ignoreAttackerProperty": true,
                    "ignoreModifyDamage": true,
                    // "trueDamage": false,
                    "elementType": "None",
                    "elementDurability": 0,
                    "enBreak": 1000,
                    "bonusCritical": 2.0 //必暴
                  },
                  "hitPattern": {
                    "onHitEffectName": "",
                    "hitImpulseType": "LV5", //Light x200 y0
                    "reboundRatio": 0,
                    "hitHaltTime": 0.2,
                    "hitHaltTimeScale": 0.05,
                    "muteHitText": false
                  },
                  "forceCameraShake": true,
                  "cameraShake": {
                    "shakeType": "CustomVector",
                    "shakeRange": 0.3,
                    "shakeTime": 0.18,
                    "shakeDistance": 30,
                    "shakeDir": {
                      "x": 0,
                      "y": 1,
                      "z": -1
                    },
                    "extension": {
                      "baseCycle": 0.3,
                      "cycleDamping": 0,
                      "rangeAttenuation": 0.3
                    }
                  }
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Blocking_Bounce_AddLevel"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Blocking_Bounce_AddLevel"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Blocking_Bounce_AddLevel"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Blocking_Strike"
            }
          ]
        },
        //触发天气变化
        "Avatar_Blocking_Weather": {
          "duration": 0.5,
          "modifierMixins": [
            {
              "$type": "TriggerWeatherMixin",
              "type": "Skill",
              "weatherPattern": "Weather_Kazuha_ElementalBurst",
              "transDuration": 0.1,
              "duration": 0.5
            }
          ]
        },
        //触发子弹时间
        "Avatar_Blocking_WitchTime": {
          "duration": 0.05,
          "modifierMixins": [
            {
              "$type": "TriggerWitchTimeMixin",
              "timescale": 0.2,
              "duration": 0.1,
              "weatherPattern": "Weather_Kazuha_ElementalBurst"
            }
          ]
        },
        //计算技能CD
        "Avatar_Blocking_EnterCD": {
          "onRemoved": [
            {
              "$type": "AvatarSkillStart",
              "skillID": 20320,
              "cdRatio": 1,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Blocking_IsPerfect",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //弹刀动作检测，增加Buff叠层
        "Avatar_Blocking_Bounce": {
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Blocking_Bounce_AddLevel"
            }
          ]
        },

        //------------------计算格挡减伤效果-----------------//
        //格挡时的减伤计算（无伤与大量减伤判定）
        "Avatar_Blocking_Defense": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Blocking_IsPerfect",
              "value": 0
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Blocking_Ready"
            },
            {
              "$type": "AvatarCameraParam",
              "lockParam": false,
              "cameraParam": {
                "forceRadius": 3.5,
                "forceRadiusDuration": 10,
                "shouldKeepForceRadius": true
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "AvatarCameraParam",
              "lockParam": false,
              "cameraParam": {
                "forceRadius": 7.0,
                "forceRadiusDuration": 1.0,
                "shouldKeepForceRadius": true
              }
            }
          ],
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_Blocking_Timer",
              "valueSteps": [-0.5, 3.5, 100],
              "modifierNameSteps": ["Blocking_NoDamage", "Blocking_LessDamage"]
            }
          ]
        },
        //无伤格挡
        "Blocking_NoDamage": {
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Other",
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Bullet", "Gadget"] //怪物及其创生物攻击则会播放特效
                }
              ],
              "successActions": [
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Blocking_Hit_Big",
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "WeaponL",
                    "attachPointTargetType": "Caster"
                  }
                }
              ]
            }
          ],
          "modifierMixins": [
            {
              "$type": "GlobalMainShieldMixin",
              "shieldType": "Avatar_Rock",
              "shieldHP": 1000000,
              "shieldHPRatio": 1000000,
              "targetMuteHitEffect": true,
              "showDamageText": "INFO_ELITE_DEFENCE",
              "amountByGetDamage": 1000000, //天赋：护盾拥有受击治疗效果
              "healLimitedByLocalCreatureMaxHPRatio": 1000000
            }
          ],
          "properties": {
            "Actor_SubHurtDelta": 1
          }
        },
        //高额减伤
        "Blocking_LessDamage": {
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Other",
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Bullet", "Gadget"] //怪物及其创生物攻击则会播放特效
                }
              ],
              "successActions": [
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Blocking_Hit_Small",
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "WeaponL",
                    "attachPointTargetType": "Caster"
                  }
                },
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "DoSkill",
                  "target": "Caster"
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkillID",
                  "value": 84,
                  "target": "Caster"
                }
              ]
            }
          ],
          "properties": {
            "Actor_SubHurtDelta": 0.8
          }
        },
        //格挡后的短暂无敌，防止多段式攻击持续被打
        "Avatar_Blocking_Invicible": {
          "state": "Invincible",
          "onAdded": [
            {
              "$type": "AttachAbilityStateResistance",
              "resistanceListID": 11002
            }
          ]
        },
        //------------------完美弹反Buff叠层---------------//
        //弹刀增添Buff叠层
        "Avatar_Blocking_Bounce_AddLevel": {
          "duration": 0.5,
          "stacking": "MultipleRefreshNoRemove",
          "stackingOption": {
            "maxModifierNumForMultipleType": 3
          },
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Blcoking_Buff_Level",
              "value": 1,
              "useLimitRange": true,
              "minValue": 0,
              "maxValue": 3
            }
          ]
          // "onRemoved":
          // [
          //     {
          //         "$type": "AddGlobalValue",
          //         "key": "_ABILITY_Blcoking_Buff_Level",
          //         "value": -1,
          //         "useLimitRange": true,
          //         "minValue": 0,
          //         "maxValue": 3,
          //     },
          // ],
        },
        //Buff层数管理中枢
        "Avatar_Blocking_Buff_Handler": {
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_Blcoking_Buff_Level",
              "valueSteps": [-0.5, 0.5, 1.5, 2.5, 3.5],
              "modifierNameSteps": ["Blank", "Buff_1", "Buff_2", "Buff_3"]
            }
          ],
          //攻击命中目标清零Buff层数
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByAttackTags",
                  "attackTags": [
                    "NormalAttack_01",
                    "NormalAttack_02",
                    "NormalAttack_03",
                    "NormalAttack_04",
                    "NormalAttack_05",
                    "NormalAttack_06",
                    "ExtraAttack",
                    "FallingAttack"
                  ]
                }
              ],
              "successActions": [
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Blocking_AttackUp",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Blcoking_Buff_Level",
                      "value": 0,
                      "compareType": "MoreThan"
                    }
                  ]
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Blcoking_Buff_Level",
                  "value": 0
                }
              ]
            }
          ]
        },
        "Blank": {},
        "Buff_1": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Blocking_Stack_01"
            }
          ],
          "modifierMixins": [
            {
              "$type": "ModifyDamageCountMixin",
              "attackTags": [
                "NormalAttack_01",
                "NormalAttack_02",
                "NormalAttack_03",
                "NormalAttack_04",
                "NormalAttack_05",
                "NormalAttack_06",
                "ExtraAttack",
                "FallingAttack"
              ],
              "bonusCritical": 2.0, //必暴
              "damageExtra": "%Blocking_Attack_Up",
              "maxModifyCount": 1
            }
          ]
        },
        "Buff_2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Blocking_Stack_02"
            }
          ],
          "modifierMixins": [
            {
              "$type": "ModifyDamageCountMixin",
              "attackTags": [
                "NormalAttack_01",
                "NormalAttack_02",
                "NormalAttack_03",
                "NormalAttack_04",
                "NormalAttack_05",
                "NormalAttack_06",
                "ExtraAttack",
                "FallingAttack"
              ],
              "bonusCritical": 2.0, //必暴
              "damageExtra": "%Blocking_Attack_Up*2",
              "maxModifyCount": 1
            }
          ]
        },
        "Buff_3": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Blocking_Stack_03"
            }
          ],
          "modifierMixins": [
            {
              "$type": "ModifyDamageCountMixin",
              "attackTags": [
                "NormalAttack_01",
                "NormalAttack_02",
                "NormalAttack_03",
                "NormalAttack_04",
                "NormalAttack_05",
                "NormalAttack_06",
                "ExtraAttack",
                "FallingAttack"
              ],
              "bonusCritical": 2.0, //必暴
              "damageExtra": "%Blocking_Attack_Up*3",
              "maxModifyCount": 1
            }
          ]
        }
      },
      "abilitySpecials": {
        "LevelEntity_SystemValue": 0, //大世界系数 Override 不导表
        "Blocking_Back_Value": 22.5, //弹反伤害
        "Blocking_Attack_Up": 4000 //弹反后的提升下次攻击伤害加成
      }
    }
  },

  //Gadget_420000016  远程弹反剑气子弹
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "ActivityAbility_Avatar_Blocking_Blade",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Blocking_Blade_Damage",
          "target": "Target"
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Hit_Electric_Default_Small",
          "born": {
            "$type": "ConfigBornByCollisionPoint"
          }
        }
      ],
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Monster_Samurai_Kairagi_BladeWind"
        },
        {
          "$type": "SetSystemValueToOverrideMap",
          "key": "LevelEntity_SystemValue",
          "type": "ElementLevelCo"
        }
      ],
      "modifiers": {
        //剑气命中敌方目标的伤害
        "Blocking_Blade_Damage": {
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "TriggerAttackEvent",
              "target": "Caster",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 1.0,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  }
                },
                "attackInfo": {
                  "attackTag": "Avatar_Blocking_Blade",
                  "attackProperty": {
                    "damagePercentage": "%Blocking_Blade_Value",
                    // "ignoreAttackerProperty": true,
                    "ignoreModifyDamage": true,
                    // "trueDamage": false,
                    "elementType": "Electric",
                    "elementDurability": 0,
                    "enBreak": 1000,
                    "bonusCritical": 2.0 //必暴
                  },
                  "hitPattern": {
                    "onHitEffectName": "",
                    "hitImpulseType": "LV5", //Light x200 y0
                    "reboundRatio": 0,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.05,
                    "muteHitText": false
                  },
                  "forceCameraShake": false
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {
        "LevelEntity_SystemValue": 0, // 大世界系数
        "Blocking_Blade_Value": 7.5
      }
    }
  }
]
