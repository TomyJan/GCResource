[
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 辛焱地城 传送门
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_DreamPortal_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "Potarl_Locked"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Potarl_On"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Potarl_Off"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "Potarl_Eff",
          "valueSteps": [-0.5, 0.5, 1.5],
          "modifierNameSteps": ["Blank", "Potarl_Eff"],
          "removeAppliedModifier": true
        }
      ],
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_ScenObj_DreamPortal_01"
        },
        {
          "$type": "SetGlobalValue",
          "key": "Potarl_Eff",
          "value": 0
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Portarl_Appear"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Handle_PortalLock"
        }
      ],
      "abilitySpecials": {
        "XinyanPortal_Pic": 111
      },
      "modifiers": {
        "Blank": {},
        "Handle_PortalLock": {
          "duration": 0.2,
          "onRemoved": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "Is_Locked",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "EnableSceneTransformByName",
                  "transformNames": ["LockNode"],
                  "setEnable": true,
                  "canBeHandledOnRecover": true
                }
              ],
              "failActions": [
                {
                  "$type": "EnableSceneTransformByName",
                  "transformNames": ["LockNode"],
                  "setEnable": false,
                  "canBeHandledOnRecover": true
                }
              ]
            }
          ]
        },
        "Portarl_Appear": {
          //创生表现
          "duration": 2,
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "TotalDissolve",
              "patternName": "_DissolveVal",
              "value": 2
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "TotalDissolve",
              "patternName": "_DissolveVal",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 2
            }
          ]
        },
        "Potarl_Locked": {
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["LockNode"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "Potarl_Eff",
              "value": 0
            },
            {
              "$type": "SetGlobalValue",
              "key": "Is_Locked",
              "value": 1
            }
          ],
          "onRemoved": [
            //解锁
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "LockDissolve",
              "patternName": "_DissolveVal",
              "value": 1.5,
              "useCurve": true,
              "lerpCurveIndex": 0,
              "lerpTime": 2
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_ScenObj_DreamPortal_02"
            },
            {
              "$type": "SetGlobalValue",
              "key": "Is_Locked",
              "value": 0
            }
          ]
        },
        "Potarl_Eff": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_XinyanPortal_Pic",
              "overrideMapKey": "XinyanPortal_Pic"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_DreamPortal_03",
              "effectTempleteID": "%XinyanPortal_Pic"
            }
          ]
        },
        "Potarl_On": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "Is_Locked",
              "value": 0
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DoorDissolve",
              "patternName": "_DissolveVal",
              "value": 1.75,
              "useCurve": true,
              "lerpCurveIndex": 0,
              "lerpTime": 2
            }
          ],
          "onRemoved": [
            //关门
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DoorDissolve",
              "patternName": "_DissolveVal",
              "value": 0,
              "useCurve": true,
              "lerpCurveIndex": 0,
              "lerpTime": 1
            },
            {
              "$type": "SetGlobalValue",
              "key": "Potarl_Eff",
              "value": 0
            }
          ]
        },
        "Potarl_Off": {
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "Potarl_Eff",
              "value": 0
            },
            {
              "$type": "SetGlobalValue",
              "key": "Is_Locked",
              "value": 0
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 辛焱地城 传送门 交互
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_DreamPortal_01_Interact",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Potarl_DelayTimer"
            }
          ]
        }
      ],
      "modifiers": {
        "Potarl_DelayTimer": {
          "duration": 2.5,
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DoorDissolve",
              "patternName": "_DissolveVal",
              "value": 1.75,
              "useCurve": true,
              "lerpCurveIndex": 0,
              "lerpTime": 2
            },
            {
              "$type": "SetGlobalValue",
              "key": "Potarl_Eff",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 201
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 辛焱地城 传送门 不开门交互弹Reminder
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_DreamPortal_02_Interact",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Potarl_DenyOpen"
            }
          ]
        }
      ],
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_ScenObj_DreamPortal_01"
        }
      ],
      "modifiers": {
        "Potarl_DenyOpen": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            },
            {
              "$type": "ShowReminder",
              "id": 201430101
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableGadgetIntee",
              "enable": true
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	时间回溯机关
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Ani_Prop_TimeMachine_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "TimeMachine_Locked"
        },
        {
          "$type": "ServerUpdateGlobalValueMixin",
          "key": "GV_TimeReverse"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "GV_TimeReverse",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": ["TimeMachine_TimeReverse"]
        }
      ],
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "GV_TimeReverse",
          "value": 0
        }
      ],
      "modifiers": {
        "TimeMachine_TimeReverse": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_ScenObj_TimeMachine_01",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode"
              }
            },
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "Activate"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "GV_TimeReverse",
              "value": 0
            }
          ]
        },
        "TimeMachine_Locked": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Item_SpecialTreasureBox_LockIdle_Little",
              "scale": 1.15,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "LockNode"
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Item_SpecialTreasureBox_Unlock_Little",
              "scale": 1.15,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "LockNode"
              }
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	梦境复苏之门
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_DreamCheckPoint_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "DreamCheckPoint_On"
        }
      ],
      "modifiers": {
        "DreamCheckPoint_On": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Resident_DreamCheckPoint_Activated"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////
  //
  // 时间回溯物件 陶罐
  //
  //////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Ani_Prop_TimeReversObj_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "TimeReversObj_Broken"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "TimeReversObj_Default"
        }
      ],
      "modifiers": {
        "TimeReversObj_Broken": {
          "onAdded": [
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": false
            },
            {
              "$type": "EnableSceneTransformByName",
              "setEnable": false,
              "transformNames": ["Collider", "HitBox"],
              "canBeHandledOnRecover": true
            }
          ]
        },
        "TimeReversObj_Default": {
          "onAdded": [
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "setEnable": true,
              "transformNames": ["Collider", "HitBox"],
              "canBeHandledOnRecover": true
            }
          ],
          /*"onCrash" :
					[
						{
							"$type": "ExecuteGadgetLua",
							"param1": 201,
						},
					],*/
          "onBeingHit": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 201
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////
  //
  //  莫娜梦境传送门
  //
  //////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_MonaPortal_01",
      "abilityMixins": [
        //0，锁定
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Lock"
        },
        //201，激活
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Active"
        }
      ],
      "onFieldEnter": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_TwistTeleport_01_Enter",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "EffectPoint"
          },
          "predicates": [
            {
              "$type": "ByTargetGadgetState",
              "target": "Self",
              "gadgetState": 201
            }
          ]
        },
        {
          "$type": "AttachModifier",
          "target": "Target",
          "modifierName": "PortalEffect",
          "predicates": [
            {
              "$type": "ByTargetGadgetState",
              "target": "Self",
              "gadgetState": 201
            }
          ]
        }
      ],
      "modifiers": {
        "Lock": {},
        "Active": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_MonaPortal_01"
            }
          ]
        },
        "PortalEffect": {
          "duration": 5,
          "onAdded": [
            {
              "$type": "DungeonFogEffects",
              "doOffStage": true,
              "enable": true,
              "muteRemoteAction": true,
              "cameraFogEffectName": "Eff_SceneObj_AdeptiAbode_01_CameraAbsorbIn"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////
  //
  // 非时间回溯物件 遗迹碎石堆
  //
  //////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Stone_RuinStonePile_01",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Rock_Material"
        }
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_RuinStonePile_01_Destroy"
        }
      ],
      "modifiers": {
        "Rock_Material": {
          "elementType": "Rock",
          "elementDurability": 25,
          "modifierMixins": [
            {
              "$type": "ShieldBarMixin"
            }
          ],
          "onBeingHit": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_StoneWall_01_Broken",
              "born": {
                "$type": "ConfigBornByTarget"
              },
              "predicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByHitStrikeType",
                      "strikeType": "Default"
                    },
                    {
                      "$type": "ByHitStrikeType",
                      "strikeType": "Pierce"
                    },
                    {
                      "$type": "ByHitStrikeType",
                      "strikeType": "None"
                    }
                  ]
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////
  //
  // 时间回溯物件 遗迹碎石堆
  //
  //////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Ani_Prop_TimeReversObj_02",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "TimeReversObj_Broken"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "TimeReversObj_Default"
        }
      ],
      "modifiers": {
        "TimeReversObj_Broken": {
          "onAdded": [
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": false
            },
            {
              "$type": "EnableSceneTransformByName",
              "setEnable": false,
              "transformNames": ["Collider", "HitBox"],
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "setEnable": true,
              "transformNames": ["Collider2"],
              "canBeHandledOnRecover": true
            }
          ]
        },
        "TimeReversObj_PushOut": {
          "duration": 0.2,
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "setEnable": true,
              "transformNames": ["PushOut"]
              //"canBeHandledOnRecover": true,
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableSceneTransformByName",
              "setEnable": false,
              "transformNames": ["PushOut"]
              //"canBeHandledOnRecover": true,
            }
          ]
        },
        "Rock_Material": {
          "elementType": "Rock",
          "elementDurability": 25,
          "modifierMixins": [
            {
              "$type": "ShieldBarMixin"
            }
          ],
          "onBeingHit": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_StoneWall_01_Broken",
              "born": {
                "$type": "ConfigBornByTarget"
              },
              "predicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByHitStrikeType",
                      "strikeType": "Default"
                    },
                    {
                      "$type": "ByHitStrikeType",
                      "strikeType": "Pierce"
                    },
                    {
                      "$type": "ByHitStrikeType",
                      "strikeType": "None"
                    }
                  ]
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 201
            }
          ]
        },
        "TimeReversObj_Default": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "TimeReversObj_PushOut"
            },
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "setEnable": true,
              "transformNames": ["Collider", "HitBox"],
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "setEnable": false,
              "transformNames": ["Collider2"],
              "canBeHandledOnRecover": true
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Rock_Material"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境地城 星空灯 投影仪
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_StarProjector_09",
      "onAdded": [
        {
          //Ability加载，请求设置SGV
          "$type": "ServerLuaCall",
          "luaCallType": "SpecificGroup",
          "funcName": "SLC_HandleGivingResult_Init",
          "CallParamList": [
            220134001, 220134008, 220134034, 220134035, 220134036, 220134037,
            220134038, 220134039
          ]
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "SGV_StarProjector_LightOn_1",
          "valueSteps": [0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["StarProjector_LightOn_1"]
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "SGV_StarProjector_LightOn_2",
          "valueSteps": [0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["StarProjector_LightOn_2"]
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "SGV_StarProjector_LightOn_3",
          "valueSteps": [0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["StarProjector_LightOn_3"]
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "SGV_StarProjector_LightOn_4",
          "valueSteps": [0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["StarProjector_LightOn_4"]
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "SGV_StarProjector_LightOn_5",
          "valueSteps": [0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["StarProjector_LightOn_5"]
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "SGV_StarProjector_LightOn_6",
          "valueSteps": [0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["StarProjector_LightOn_6"]
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "SGV_StarProjector_LightOn_7",
          "valueSteps": [0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["StarProjector_LightOn_7"]
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "SGV_StarProjector_LightOn_8",
          "valueSteps": [0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["StarProjector_LightOn_8"]
        }
      ],
      "modifiers": {
        "StarProjector_LightOn_1": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_02_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode_1",
                "useRotation": true
              }
            }
          ]
        },
        "StarProjector_LightOn_2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_02_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode_2",
                "useRotation": true
              }
            }
          ]
        },
        "StarProjector_LightOn_3": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_02_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode_3",
                "useRotation": true
              }
            }
          ]
        },
        "StarProjector_LightOn_4": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_02_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode_4",
                "useRotation": true
              }
            }
          ]
        },
        "StarProjector_LightOn_5": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_02_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode_5",
                "useRotation": true
              }
            }
          ]
        },
        "StarProjector_LightOn_6": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_02_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode_6",
                "useRotation": true
              }
            }
          ]
        },
        "StarProjector_LightOn_7": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_02_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode_7",
                "useRotation": true
              }
            }
          ]
        },
        "StarProjector_LightOn_8": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_02_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode_8",
                "useRotation": true
              }
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境地城 星空桥1
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_GalaxyBridge_01",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObject_GalaxyBridge_01"
        }
      ],
      "onKill": [
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_SceneObject_GalaxyBridge_01",
          "parameter": "Die",
          "doAfterDie": true,
          "doOffStage": true
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境地城 星空桥2
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_GalaxyBridge_02",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObject_GalaxyBridge_02"
        }
      ],
      "onKill": [
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_SceneObject_GalaxyBridge_02",
          "parameter": "Die",
          "doAfterDie": true,
          "doOffStage": true
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境地城 星空桥3
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_GalaxyBridge_03",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObject_GalaxyBridge_03"
        }
      ],
      "onKill": [
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_SceneObject_GalaxyBridge_03",
          "parameter": "Die",
          "doAfterDie": true,
          "doOffStage": true
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境地城 星空桥4
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_GalaxyBridge_04",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObject_GalaxyBridge_04"
        }
      ],
      "onKill": [
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_SceneObject_GalaxyBridge_04",
          "parameter": "Die",
          "doAfterDie": true,
          "doOffStage": true
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	辛焱梦境地城 溶解出现荆棘桥
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_ThornBridge_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0, //只有底座
          "modifierName": "ThornBridge_Default"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "ThornBridge_Hide"
        }
      ],
      "modifiers": {
        "ThornBridge_Default": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Collider"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        "ThornBridge_Hide": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Collider"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              //
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Total",
              "patternName": "_DissolveVal",
              "value": 2
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_amb_sceneObj_gear_thronBridgeCreate_01"
                }
              }
            },
            {
              //一段
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Dissolve1",
              "patternName": "_DissolveVal",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 3
            },
            {
              //二段
              "$type": "ApplyModifier",
              "modifierName": "Dissolve_Delay_1"
            },
            {
              //三段
              "$type": "ApplyModifier",
              "modifierName": "Dissolve_Delay_2"
            }
          ]
        },
        "Dissolve_Delay_1": {
          "duration": 1,
          "onRemoved": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Dissolve2",
              "patternName": "_DissolveVal",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 3
            }
          ]
        },
        "Dissolve_Delay_2": {
          "duration": 2,
          "onRemoved": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Dissolve3",
              "patternName": "_DissolveVal",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 3
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境地城 城堡玩具 零件1
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_CastleToy_02",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_CastleToy_01"
        }
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_CastleToy_01_Disappear",
          "doAfterDie": true,
          "doOffStage": true
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境地城 城堡玩具 零件2
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_CastleToy_03",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_CastleToy_02"
        }
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_CastleToy_02_Disappear",
          "doAfterDie": true,
          "doOffStage": true
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境地城 城堡玩具 零件3
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_CastleToy_04",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_CastleToy_03"
        }
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_CastleToy_03_Disappear",
          "doAfterDie": true,
          "doOffStage": true
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境地城 奥兹魔法标记 5.3倍
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_OzMagicMark_01",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_ScenObj_OzMagicMark_01",
          "scale": 5.3
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境地城 奥兹魔法标记
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_OzMagicMark_02",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_ScenObj_OzMagicMark_01",
          "scale": 8.7
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境地城 城堡玩具
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_CastleToy_01",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_CastleToy_01"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0, //只有底座
          "modifierName": "CastleToy_Default"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201, //ModelB
          "modifierName": "CastleToy_B"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202, //ModelC
          "modifierName": "CastleToy_C"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 203, //ModelB
          "modifierName": "CastleToy_BC"
        }
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_CastleToy_01_Disappear"
        }
      ],
      "modifiers": {
        "CastleToy_Default": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["ModelB", "ModelC"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            }
          ]
        },
        "CastleToy_B": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["ModelC"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["ModelB"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        "CastleToy_C": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["ModelB"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["ModelC"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        "CastleToy_BC": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["ModelB", "ModelC"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境地城 星空灯 无交互
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_StarProjectorNoIntee_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 102, //交付可取回,
          "modifierName": "StarProjector_TakeBack"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 101, //交付不可取回,
          "modifierName": "StarProjector_TakeBack"
        }
      ],
      "modifiers": {
        "StarProjector_TakeBack": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_01_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode"
              }
            },
            {
              "$type": "SetAnimatorInt",
              "canBeHandledOnRecover": true,
              "intID": "01",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorInt",
              "canBeHandledOnRecover": true,
              "intID": "01",
              "value": 0
            }
          ]
        },
        "StarProjector_CanNotTakeBack": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_01_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode"
              }
            },
            {
              "$type": "SetAnimatorInt",
              "canBeHandledOnRecover": true,
              "intID": "01",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorInt",
              "canBeHandledOnRecover": true,
              "intID": "01",
              "value": 0
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境地城 星空灯 上 物件交付
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_StarProjector_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 102, //交付可取回,
          "modifierName": "StarProjector_TakeBack"
        }
      ],
      "modifiers": {
        "StarProjector_TakeBack": {
          "onAdded": [
            {
              "$type": "ChangeGadgetUIInteractHint",
              "hintTextMapId": "UI_STARPROJECTOR_TAKEBACK",
              "canBeHandledOnRecover": true
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_01_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode"
              }
            },
            {
              "$type": "SetAnimatorInt",
              "canBeHandledOnRecover": true,
              "intID": "01",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "ChangeGadgetUIInteractHint",
              "hintTextMapId": "UI_STARPROJECTOR_GIVING",
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetAnimatorInt",
              "canBeHandledOnRecover": true,
              "intID": "01",
              "value": 0
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境地城 星空灯 下 物件交付
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_StarProjector_02",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 102, //交付可取回,
          "modifierName": "StarProjector_TakeBack"
        }
      ],
      "modifiers": {
        "StarProjector_TakeBack": {
          "onAdded": [
            {
              "$type": "ChangeGadgetUIInteractHint",
              "hintTextMapId": "UI_STARPROJECTOR_TAKEBACK02",
              "canBeHandledOnRecover": true
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_StarProjector_01_Active",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode"
              }
            },
            {
              "$type": "SetAnimatorInt",
              "canBeHandledOnRecover": true,
              "intID": "02",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "ChangeGadgetUIInteractHint",
              "hintTextMapId": "UI_STARPROJECTOR_GIVING02",
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetAnimatorInt",
              "canBeHandledOnRecover": true,
              "intID": "02",
              "value": 0
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 三阶段 Dither房间
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_MovableRoom_02",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "Bridge_Disappear"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Bridge_Appear"
        }
      ],
      "modifiers": {
        "Show_Timer": {
          "duration": 35,
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0
            }
          ]
        },
        "Bridge_Appear": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ],
          "modifierMixins": [
            /*{
							"$type": "EntityDitherMixin",
							"forceUpdateAtStart": true,
							"ditherValue": 1,
							"cutInTime": 3,
							"cutOutTime": 3,
						},*/
          ]
        },
        "Bridge_Disappear": {
          "modifierMixins": [
            {
              "$type": "EntityDitherMixin",
              "ditherValue": 0,
              "cutInTime": 3,
              "cutOutTime": 3
            }
          ],
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "Show_Timer"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 三阶段 淡出墙
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DisappearBridge_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "Bridge_Disappear"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Bridge_Appear"
        }
      ],
      "modifiers": {
        "KillSelf_Timer": {
          "duration": 3,
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },
        "Bridge_Appear": {
          "onAdded": []
        },
        "Bridge_Disappear": {
          "modifierMixins": [
            {
              "$type": "EntityDitherMixin",
              "ditherValue": 0,
              "cutInTime": 2,
              "cutOutTime": 0
            }
          ],
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "KillSelf_Timer"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	传音花 旋转
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_TransferFlowerTurn_01",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "TransferFlower_Turn"
            }
          ]
        }
      ],
      "modifiers": {
        "TransferFlower_Turn": {
          "stacking": "Unique",
          "duration": 1,
          "onRemoved": [
            {
              "$type": "EnableGadgetIntee",
              "enable": true
            }
          ],
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            },
            {
              "$type": "ServerLuaCall",
              "funcName": "SLC_TransferFlower_Turn",
              "luaCallType": "FromGroup"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 三阶段 淡入淡出桥
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DisappearBridge_02",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Bridge_Appear"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Bridge_Appear"
        }
      ],
      "onKill": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Bridge_Disappear"
        }
      ],
      "modifiers": {
        "Bridge_Appear": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ],
          "modifierMixins": [
            {
              "$type": "EntityDitherMixin",
              "forceUpdateAtStart": true,
              "ditherValue": 0,
              "cutInTime": 0,
              "cutOutTime": 2
            }
          ]
        },
        "Bridge_Disappear": {
          "onAdded": [
            {
              "$type": "DebugLog",
              "content": "######## Dither Die ######"
            }
          ],
          "modifierMixins": [
            {
              "$type": "EntityDitherMixin",
              "ditherValue": 0,
              "cutInTime": 2,
              "cutOutTime": 0
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 发射装置
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Ani_Prop_DIK_FireMachine_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201, //GearStart
          "modifierName": "FireMachine_Color1"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202, //GearStop
          "modifierName": "FireMachine_Color2"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 204, //GearAction2
          "modifierName": "FireMachine_Color3"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0, //Default
          "modifierName": "FireMachine_Off"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 101, //封印态
          "modifierName": "FireMachine_Off_Locked"
        }
      ],
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "Is_FireMachine",
          "value": 1
        }
      ],
      "modifiers": {
        "FireMachine_Off_Locked": {
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableGadgetIntee",
              "enable": true
            }
          ]
        },
        "FireMachine_Color1": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_DIK_FMChange",
              "effectTempleteID": 100,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "ShootPoint"
              }
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_FMMaple_01",
              "effectTempleteID": 100,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "ShootPoint"
              }
            }
          ]
        },
        "FireMachine_Color2": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_DIK_FMChange",
              "effectTempleteID": 101,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "ShootPoint"
              }
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_FMMaple_01",
              "effectTempleteID": 101,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "ShootPoint"
              }
            }
          ]
        },
        "FireMachine_Color3": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_DIK_FMChange",
              "effectTempleteID": 102,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "ShootPoint"
              }
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_FMMaple_01",
              "effectTempleteID": 102,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "ShootPoint"
              }
            }
          ]
        },
        "FireMachine_Off": {
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableGadgetIntee",
              "enable": true
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 发射装置 切色
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Ani_Prop_DIK_FireMachine_Switch",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "FireMachine_Switch"
            }
          ]
        }
      ],
      "onAdded": [
        {
          //向Group请求SGV
          "$type": "ServerLuaCall",
          "funcName": "SLC_FireMachine_AbilityReady",
          "luaCallType": "FromGroup"
        }
      ],
      "modifiers": {
        "FireMachine_Switch": {
          "stacking": "Unique",
          "duration": 1,
          "onRemoved": [
            {
              "$type": "EnableGadgetIntee",
              "enable": true
            }
          ],
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            },
            {
              //"SGV_FireMachineColor_Num"大于1
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_FireMachineColor_Num",
                  "value": 1,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "funcName": "SLC_FireMachine_Switch",
                  "luaCallType": "FromGroup"
                }
              ],
              "failActions": [
                {
                  "$type": "ShowReminder",
                  "id": 201420102
                  //"localOnly":true,
                }
              ]
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 发射装置 发射
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Ani_Prop_DIK_FireMachine_Shoot",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "FireMachine_Shoot"
            }
          ]
        }
      ],
      "modifiers": {
        "FireMachine_Shoot": {
          "duration": 2,
          "onRemoved": [
            {
              "$type": "EnableGadgetIntee",
              "enable": true
            }
          ],
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            },
            {
              "$type": "ServerLuaTriggerEvent",
              "luaCallType": "FromGroup",
              "sourceName": "FireMachineShoot"
            },
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGadgetState",
                  "gadgetState": 201
                }
              ],
              "successActions": [
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_SceneObj_DIK_FMColor_01",
                  "effectTempleteID": 100,
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "ShootPoint"
                  }
                },
                {
                  "$type": "TriggerBullet",
                  "bulletID": 70310160,
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "ShootPoint",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 0.0
                    },
                    "direction": {
                      "$type": "ConfigDirectionByEntity",
                      "angleOffsetCorrect": {
                        "x": 0,
                        "y": 0,
                        "z": 0
                      }
                    }
                  }
                }
              ],
              "failActions": [
                {
                  "$type": "Predicated",
                  "targetPredicates": [
                    {
                      "$type": "ByTargetGadgetState",
                      "gadgetState": 202
                    }
                  ],
                  "successActions": [
                    {
                      "$type": "FireEffect",
                      "effectPattern": "Eff_SceneObj_DIK_FMColor_01",
                      "effectTempleteID": 101,
                      "born": {
                        "$type": "ConfigBornByAttachPoint",
                        "attachPointName": "ShootPoint"
                      }
                    },
                    {
                      "$type": "TriggerBullet",
                      "bulletID": 70310161,
                      "born": {
                        "$type": "ConfigBornByAttachPoint",
                        "attachPointName": "ShootPoint",
                        "offset": {
                          "x": 0.0,
                          "y": 0.0,
                          "z": 0.0
                        },
                        "direction": {
                          "$type": "ConfigDirectionByEntity",
                          "angleOffsetCorrect": {
                            "x": 0,
                            "y": 0,
                            "z": 0
                          }
                        }
                      }
                    }
                  ],
                  "failActions": [
                    {
                      "$type": "FireEffect",
                      "effectPattern": "Eff_SceneObj_DIK_FMColor_01",
                      "effectTempleteID": 102,
                      "born": {
                        "$type": "ConfigBornByAttachPoint",
                        "attachPointName": "ShootPoint"
                      }
                    },
                    {
                      "$type": "TriggerBullet",
                      "bulletID": 70310162,
                      "predicates": [
                        {
                          "$type": "ByTargetGadgetState",
                          "gadgetState": 204
                        }
                      ],
                      "born": {
                        "$type": "ConfigBornByAttachPoint",
                        "attachPointName": "ShootPoint",
                        "offset": {
                          "x": 0.0,
                          "y": 0.0,
                          "z": 0.0
                        },
                        "direction": {
                          "$type": "ConfigDirectionByEntity",
                          "angleOffsetCorrect": {
                            "x": 0,
                            "y": 0,
                            "z": 0
                          }
                        }
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  //	2.8海岛 菲谢尔地城 抬升桥
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_SpinningTower_02",
      "abilityMixins": [
        {
          "$type": "PlatformMoveMixin",
          "moveModifiers": ["State_Moving"],
          "stopModifiers": ["State_Stop"]
        }
      ],
      "modifiers": {
        "State_Stop": {},
        "State_Moving": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Build_Comp_Fischl_P_05_Dust"
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////
  //
  //	假宝箱-Lv2
  //
  //////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Chest_Default_Fake_Lv2",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 901,
          "modifierName": "EffectAttach"
        },
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "FakeChest_KillSelf"
            }
          ]
        }
      ],
      "modifiers": {
        "EffectAttach": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Item_SpecialTreasureBox_Born"
            }
          ]
        },
        "FakeChest_KillSelf": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Chest_Open_Continuous_LV2"
            },
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "OpenChest"
            },
            {
              "$type": "ExecuteGadgetLua",
              "param1": 102
            },
            {
              "$type": "KillSelf"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 晶石A
  //A
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_Crystal_01",
      "abilityMixins": [
        {
          //被拾取后
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "Crystal_Off"
        },
        {
          //默认
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Crystal_Pickup_A"
        },
        {
          //封印态
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 101,
          "modifierName": "Crystal_Locked"
        }
      ],
      "abilitySpecials": {
        "Kazuha_CrystalDis": 30
      },
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "SetReviveTimeSGV"
        }
      ],
      "modifiers": {
        "SetReviveTimeSGV": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_Kazuha_CrystalDis",
              "overrideMapKey": "Kazuha_CrystalDis",
              "canBeHandledOnRecover": true,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_Kazuha_CrystalDis",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ]
            }
          ]
        },
        "Crystal_Locked": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_CrystalA_01",
              "effectTempleteID": 100
            }
          ]
        },
        "Crystal_Off": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_DIK_CrystalA_01Die",
              "effectTempleteID": 100
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "CrystalOff_Timer"
            }
          ]
        },
        "CrystalOff_Timer": {
          "duration": "%Kazuha_CrystalDis",
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0
            }
          ]
        },
        "Crystal_Pickup_A": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_CrystalA_01",
              "effectTempleteID": 100
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 晶石A 拾取TriggerAbility
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_Crystal_01_Interact",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Crystal_Pickup_A",
              "target": "Other"
            },
            {
              "$type": "ExecuteGadgetLua",
              "param1": 202,
              "target": "Self"
            }
          ]
        }
      ],
      "abilitySpecials": {
        "Kazuha_CrystalDis": 30
      },
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "SetDistanceSGV"
        }
      ],
      "modifiers": {
        "SetDistanceSGV": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_Kazuha_CrystalDis",
              "overrideMapKey": "Kazuha_CrystalDis",
              "canBeHandledOnRecover": true,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_Kazuha_CrystalDis",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ]
            }
          ]
        },
        "UNIQUE_Crystal_AddColor_A": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              "$type": "ServerLuaCall",
              "funcName": "SLC_AddFireMachineColor",
              "luaCallType": "FromGroup",
              "param1": 201,
              "paramNum": 1
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "UNIQUE_Crystal_AddColor_A"
            }
          ]
        },
        "FireMachine_Detect_A": {
          "thinkInterval": 0.25,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2.5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar",
                "sortType": "Default"
                //"topLimit": 1,
              },
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "Is_FireMachine",
                  "value": 1,
                  "compareType": "Equal"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_FireMachineColorReceive_A",
                  "compareType": "Equal",
                  "value": 1
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Other",
                  "modifierName": "UNIQUE_Crystal_AddColor_A"
                },
                {
                  "$type": "RemoveModifier",
                  "modifierName": "Crystal_Pickup_A",
                  "target": "Team"
                }
              ]
            }
          ]
        },
        "Crystal_Pickup_A": {
          "duration": "%Kazuha_CrystalDis",
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0,
              "target": "Caster"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_AroundA_01",
              "effectTempleteID": 100
            },
            {
              "$type": "SetGlobalValue",
              "key": "Has_ColorCrystal",
              "value": 1
            }
          ],
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixinV2",
              "modifierName": "FireMachine_Detect_A"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 晶石B
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_Crystal_02",
      "abilityMixins": [
        {
          //被拾取后
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "Crystal_Off"
        },
        {
          //默认
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Crystal_Pickup_B"
        },
        {
          //封印态
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 101,
          "modifierName": "Crystal_Locked"
        }
      ],
      "abilitySpecials": {
        "Kazuha_CrystalDis": 30
      },
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "SetReviveTimeSGV"
        }
      ],
      "modifiers": {
        "SetReviveTimeSGV": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_Kazuha_CrystalDis",
              "overrideMapKey": "Kazuha_CrystalDis",
              "canBeHandledOnRecover": true,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_Kazuha_CrystalDis",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ]
            }
          ]
        },
        "Crystal_Locked": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_CrystalA_01",
              "effectTempleteID": 101
            }
          ]
        },
        "Crystal_Off": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_DIK_CrystalA_01Die",
              "effectTempleteID": 101
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "CrystalOff_Timer"
            }
          ]
        },
        "CrystalOff_Timer": {
          "duration": "%Kazuha_CrystalDis",
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0
            }
          ]
        },
        "Crystal_Pickup_B": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_CrystalA_01",
              "effectTempleteID": 101
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 晶石B 拾取TriggerAbility
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_Crystal_02_Interact",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Crystal_Pickup_B",
              "target": "Other"
            },
            {
              "$type": "ExecuteGadgetLua",
              "param1": 202,
              "target": "Self"
            }
          ]
        }
      ],
      "abilitySpecials": {
        "Kazuha_CrystalDis": 30
      },
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "SetDistanceSGV"
        }
      ],
      "modifiers": {
        "SetDistanceSGV": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_Kazuha_CrystalDis",
              "overrideMapKey": "Kazuha_CrystalDis",
              "canBeHandledOnRecover": true,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_Kazuha_CrystalDis",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ]
            }
          ]
        },
        "UNIQUE_Crystal_AddColor_B": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 201
            },
            {
              "$type": "ServerLuaCall",
              "funcName": "SLC_AddFireMachineColor",
              "luaCallType": "FromGroup",
              "param1": 202,
              "paramNum": 1
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "UNIQUE_Crystal_AddColor_B"
            }
          ]
        },
        "FireMachine_Detect_B": {
          "thinkInterval": 0.25,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2.5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar",
                "sortType": "Default"
                //"topLimit": 1,
              },
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "Is_FireMachine",
                  "value": 1,
                  "compareType": "Equal"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_FireMachineColorReceive_B",
                  "compareType": "Equal",
                  "value": 1
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Other",
                  "modifierName": "UNIQUE_Crystal_AddColor_B"
                },
                {
                  "$type": "RemoveModifier",
                  "modifierName": "Crystal_Pickup_B",
                  "target": "Team"
                }
              ]
            }
          ]
        },
        "Crystal_Pickup_B": {
          "duration": "%Kazuha_CrystalDis",
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0,
              "target": "Caster"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_AroundA_01",
              "effectTempleteID": 101
            },
            {
              "$type": "SetGlobalValue",
              "key": "Has_ColorCrystal",
              "value": 1
            }
          ],
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixinV2",
              "modifierName": "FireMachine_Detect_B"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 晶石C
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_Crystal_03",
      "abilityMixins": [
        {
          //被拾取后
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "Crystal_Off"
        },
        {
          //默认
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Crystal_Pickup_C"
        },
        {
          //封印态
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 101,
          "modifierName": "Crystal_Locked"
        }
      ],
      "abilitySpecials": {
        "Kazuha_CrystalDis": 30
      },
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "SetReviveTimeSGV"
        }
      ],
      "modifiers": {
        "SetReviveTimeSGV": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_Kazuha_CrystalDis",
              "overrideMapKey": "Kazuha_CrystalDis",
              "canBeHandledOnRecover": true,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_Kazuha_CrystalDis",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ]
            }
          ]
        },
        "Crystal_Locked": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_CrystalA_01",
              "effectTempleteID": 102
            }
          ]
        },
        "Crystal_Off": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_DIK_CrystalA_01Die",
              "effectTempleteID": 102
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "CrystalOff_Timer"
            }
          ]
        },
        "CrystalOff_Timer": {
          "duration": "%Kazuha_CrystalDis",
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0
            }
          ]
        },
        "Crystal_Pickup_C": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_CrystalA_01",
              "effectTempleteID": 102
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 晶石C 拾取TriggerAbility
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_Crystal_03_Interact",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Crystal_Pickup_C",
              "target": "Other"
            },
            {
              "$type": "ExecuteGadgetLua",
              "param1": 202,
              "target": "Self"
            }
          ]
        }
      ],
      "abilitySpecials": {
        "Kazuha_CrystalDis": 30
      },
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "SetDistanceSGV"
        }
      ],
      "modifiers": {
        "SetDistanceSGV": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_Kazuha_CrystalDis",
              "overrideMapKey": "Kazuha_CrystalDis",
              "canBeHandledOnRecover": true,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_Kazuha_CrystalDis",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ]
            }
          ]
        },
        "UNIQUE_Crystal_AddColor_C": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              "$type": "ServerLuaCall",
              "funcName": "SLC_AddFireMachineColor",
              "luaCallType": "FromGroup",
              "param1": 204,
              "paramNum": 1
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "UNIQUE_Crystal_AddColor_C"
            }
          ]
        },
        "FireMachine_Detect_C": {
          "thinkInterval": 0.25,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2.5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar",
                "sortType": "Default"
                //"topLimit": 1,
              },
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "Is_FireMachine",
                  "value": 1,
                  "compareType": "Equal"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "SGV_FireMachineColorReceive_C",
                  "compareType": "Equal",
                  "value": 1
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Other",
                  "modifierName": "UNIQUE_Crystal_AddColor_C"
                },
                {
                  "$type": "RemoveModifier",
                  "modifierName": "Crystal_Pickup_C",
                  "target": "Team"
                }
              ]
            }
          ]
        },
        "Crystal_Pickup_C": {
          "duration": "%Kazuha_CrystalDis",
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0,
              "target": "Caster"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_AroundA_01",
              "effectTempleteID": 102
            },
            {
              "$type": "SetGlobalValue",
              "key": "Has_ColorCrystal",
              "value": 1
            }
          ],
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixinV2",
              "modifierName": "FireMachine_Detect_C"
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////
  //
  // 万叶梦境地城 反射装置
  //
  ////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_Delivery_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 101, //封印态
          "modifierName": "DeliveryMachine_Locked"
        }
      ],
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Bullet_Delivery"
        }
      ],
      "modifiers": {
        "DeliveryMachine_Locked": {},
        "DeliveryMachine_CoolDown": {
          "duration": 1.5,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "DeliveryMachine_Mute",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "DeliveryMachine_Mute",
              "value": 0
            }
          ]
        },
        "Bullet_Delivery": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_Delivery_02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode1"
              }
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_Delivery_01",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffectNode2",
                "direction": {
                  "$type": "ConfigDirectionByAttachPoint",
                  "attachPointName": "EffectNode2"
                }
              }
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Self",
              "predicates": [
                {
                  "$type": "ByNot",
                  "target": "Self",
                  "predicates": [
                    {
                      "$type": "ByHasModifier",
                      "modifierName": "DeliveryMachine_Locked"
                    }
                  ]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "DeliveryMachine_Mute",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["CrystalBullet_ColorA"]
                }
              ],
              "successActions": [
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_SceneObj_DIK_DColor_01",
                  "effectTempleteID": 100,
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "ShootPoint",
                    "direction": {
                      "$type": "ConfigDirectionByAttachPoint",
                      "attachPointName": "EffectNode2"
                    }
                  }
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "DeliveryMachine_CoolDown"
                },
                {
                  "$type": "TriggerBullet",
                  "bulletID": 70310160,
                  //"ownerIs":"CurLocalAvatar",
                  //"propOwnerIs":"CurLocalAvatar",
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "ShootPoint"
                  }
                }
              ],
              "failActions": [
                {
                  "$type": "Predicated",
                  "target": "Self",
                  "targetPredicates": [
                    {
                      "$type": "ByAttackTags",
                      "attackTags": ["CrystalBullet_ColorB"]
                    }
                  ],
                  "successActions": [
                    {
                      "$type": "FireEffect",
                      "effectPattern": "Eff_SceneObj_DIK_DColor_01",
                      "effectTempleteID": 101,
                      "born": {
                        "$type": "ConfigBornByAttachPoint",
                        "attachPointName": "ShootPoint",
                        "direction": {
                          "$type": "ConfigDirectionByAttachPoint",
                          "attachPointName": "EffectNode2",
                          "angleOffsetCorrect": {
                            "x": 0,
                            "y": -90,
                            "z": 0
                          }
                        }
                      }
                    },
                    {
                      "$type": "TriggerBullet",
                      "bulletID": 70310161,
                      "born": {
                        "$type": "ConfigBornByAttachPoint",
                        "attachPointName": "ShootPoint"
                      }
                    }
                  ],
                  "failActions": [
                    {
                      "$type": "FireEffect",
                      "effectPattern": "Eff_SceneObj_DIK_DColor_01",
                      "effectTempleteID": 102,
                      "born": {
                        "$type": "ConfigBornByAttachPoint",
                        "attachPointName": "ShootPoint",
                        "direction": {
                          "$type": "ConfigDirectionByAttachPoint",
                          "attachPointName": "EffectNode2",
                          "angleOffsetCorrect": {
                            "x": 0,
                            "y": -90,
                            "z": 0
                          }
                        }
                      },
                      "predicates": [
                        {
                          "$type": "ByAttackTags",
                          "attackTags": ["CrystalBullet_ColorC"]
                        }
                      ]
                    },
                    {
                      "$type": "TriggerBullet",
                      "bulletID": 70310162,
                      "born": {
                        "$type": "ConfigBornByAttachPoint",
                        "attachPointName": "ShootPoint"
                      },
                      "predicates": [
                        {
                          "$type": "ByAttackTags",
                          "attackTags": ["CrystalBullet_ColorC"]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  2.8万叶梦境地城 晶石A子弹
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_CrystalBullet_01",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_DIK_BulletA_01"
        }
      ],
      "onKill": [
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_SceneObj_DIK_BulletA_01",
          "doOffStage": true,
          "doAfterDie": true,
          "type": "Trigger",
          "parameter": "Die"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "SelfCamp",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 1,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "attackTag": "CrystalBullet_ColorA",
              "attackProperty": {
                "damagePercentage": 1,
                "strikeType": "Blunt",
                "elementType": "None",
                "elementDurability": 50
              },
              "hitPattern": {
                "onHitEffectNode": "",
                "hitImpulseType": "LV3",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": true
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeRange": 0.36,
                "shakeTime": 0.36
              }
            }
          }
        },
        {
          "$type": "KillSelf"
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  2.8万叶梦境地城 晶石B子弹
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_CrystalBullet_02",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_DIK_BulletA_02"
        }
      ],
      "onKill": [
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_SceneObj_DIK_BulletA_02",
          "doOffStage": true,
          "doAfterDie": true,
          "type": "Trigger",
          "parameter": "Die"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "SelfCamp",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 1,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "attackTag": "CrystalBullet_ColorB",
              "attackProperty": {
                "damagePercentage": 1,
                "strikeType": "Blunt",
                "elementType": "None",
                "elementDurability": 50
              },
              "hitPattern": {
                "onHitEffectNode": "",
                "hitImpulseType": "LV3",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": true
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeRange": 0.36,
                "shakeTime": 0.36
              }
            }
          }
        },
        {
          "$type": "KillSelf"
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  2.8万叶梦境地城 晶石C子弹
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_CrystalBullet_03",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_DIK_BulletA_03"
        }
      ],
      "onKill": [
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_SceneObj_DIK_BulletA_03",
          "doOffStage": true,
          "doAfterDie": true,
          "type": "Trigger",
          "parameter": "Die"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "SelfCamp",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 1,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "attackTag": "CrystalBullet_ColorC",
              "attackProperty": {
                "damagePercentage": 1,
                "strikeType": "Blunt",
                "elementType": "None",
                "elementDurability": 50
              },
              "hitPattern": {
                "onHitEffectNode": "",
                "hitImpulseType": "LV3",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": true
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeRange": 0.36,
                "shakeTime": 0.36
              }
            }
          }
        },
        {
          "$type": "KillSelf"
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8辛焱梦境地城 传音花 射击
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_TransferFlowerShoot_01",
      "abilityMixins": [
        {
          //GadgetState被转动逻辑挤占了，所以用SGV
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "SGV_BigFlower_On",
          "valueSteps": [-0.5, 0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["FlowerDeactive", "FlowerActive"]
        }
      ],
      "modifiers": {
        "FlowerDeactive": {},
        "FlowerActive": {
          "onAdded": [
            {
              //播动画
              "$type": "SetAnimatorTrigger",
              "triggerID": "Fire"
            },
            {
              "$type": "SetGlobalValue",
              "value": 1,
              "key": "TransferFlower_Mute"
            }
            /*{
							"$type": "AttachEffect",
							"effectPattern": "Eff_ScenObj_TransferFlowerBig_01",
							"born":
							{
								"$type": "ConfigBornByAttachPoint",
								"attachPointName": "ShootPoint",
								"offset" : 
								{
									"x" : 0.0,
									"y" : 0.0,
									"z" : 0.0,
								},
								"direction":
								{
									"$type": "ConfigDirectionByAttachPoint",
									"attachPointName": "ShootPoint",
									"angleOffsetCorrect":
									{
										"x" : 0,
										"y" : 0,
										"z" : 0,
									},
								},
							}
						},*/
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "value": 0,
              "key": "TransferFlower_Mute"
            },
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "Recover"
            }
          ]
        }
      },
      "onAbilityStart": [
        {
          //大小传音花各自逻辑
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "Is_BigFlower",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "ServerLuaCall",
              "funcName": "SLC_TransferFlower_BigFlowerHit",
              "luaCallType": "FromGroup"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_ScenObj_TransferFlowerBig_03"
            }
          ],
          "failActions": [
            {
              //播动画
              "$type": "SetAnimatorTrigger",
              "triggerID": "Fire"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_ScenObj_TransferFlowerBig_02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "ShootPoint"
              }
            },
            {
              //发子弹
              "$type": "TriggerBullet",
              "bulletID": 70310168,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "ShootPoint",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByAttachPoint",
                  "attachPointName": "ShootPoint",
                  "angleOffsetCorrect": {
                    "x": 0,
                    "y": 0,
                    "z": 0
                  }
                }
              }
            }
          ]
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8辛焱梦境地城 传音花
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_TransferFlowerSmall_01",
      "abilityMixins": [],
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "TransferBullet"
        },
        {
          //是否可被音符植物追踪
          "$type": "SetGlobalValue",
          "key": "NotePlant_Can_Track",
          "value": 1
        }
      ],
      "modifiers": {
        "Mute_BulletHit": {
          "duration": 1.5,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "value": 1,
              "key": "TransferFlower_Mute"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "value": 0,
              "key": "TransferFlower_Mute"
            }
          ]
        },
        "TransferBullet": {
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["TransferFlowerBullet"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "TransferFlower_Mute",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "TriggerAbility",
                  "abilityName": "SceneObj_Area_Common_Property_Prop_TransferFlowerShoot_01",
                  "target": "Self"
                }
              ]
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8辛焱梦境地城 大传音花
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_TransferFlowerBig_01",
      "abilityMixins": [],
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "TransferBullet"
        },
        {
          //是否可被音符植物追踪
          "$type": "SetGlobalValue",
          "key": "NotePlant_Can_Track",
          "value": 1
        },
        {
          //大传音花标记
          "$type": "SetGlobalValue",
          "key": "Is_BigFlower",
          "value": 1
        }
      ],
      "modifiers": {
        "Mute_BulletHit": {
          "duration": 1.5,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "value": 1,
              "key": "TransferFlower_Mute"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "value": 0,
              "key": "TransferFlower_Mute"
            }
          ]
        },
        "TransferBullet": {
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["TransferFlowerBullet"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "TransferFlower_Mute",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "TriggerAbility",
                  "abilityName": "SceneObj_Area_Common_Property_Prop_TransferFlowerShoot_01",
                  "target": "Self"
                }
              ]
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  2.8辛焱梦境地城 传音花子弹
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_TransferFlowerBullet_01",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_ScenObj_NoteBullet1_01_Hit"
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "SelfCamp", //打5001装置
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 1,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "attackTag": "TransferFlowerBullet",
              "attackProperty": {
                "damagePercentage": 1,
                "strikeType": "Blunt",
                "elementType": "None",
                "elementDurability": 50
              },
              "hitPattern": {
                "onHitEffectNode": "None",
                "hitImpulseType": "LV3",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeRange": 0.36,
                "shakeTime": 0.36
              }
            }
          }
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8莫娜梦境地城 旋转星空操作台
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_RotatingConstellation_01",
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "Is_RotatingConstellation_On",
          "value": 0
        }
      ],
      "abilityMixins": [],
      "modifiers": {}
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8莫娜梦境地城 旋转星空操作台 相机变动
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_RotatingConstellation_Camera",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "RotatingConstellation_CameraOn",
              "target": "CurTeamAvatars"
            },
            {
              "$type": "ExecuteGadgetLua",
              "param1": 201
            }
          ]
        }
      ],
      "onFieldExit": [
        {
          "$type": "RemoveModifier",
          "modifierName": "RotatingConstellation_CameraOn",
          "target": "CurTeamAvatars"
        },
        {
          "$type": "ExecuteGadgetLua",
          "param1": 0
        }
      ],
      "modifiers": {
        "RotatingConstellation_CameraOn": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "CurTeamAvatars",
              "key": "MonaCamera_On",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "CurTeamAvatars",
              "key": "MonaCamera_On",
              "value": 0
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 	2.8辛焱地城 音符石板 音效播放
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_Sound",
      "onAbilityStart": [
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_amb_sceneObj_gear_noteSlate_correct" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_zheng_a3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 1,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_zheng_e4" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 2,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_zheng_d4" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 3,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_zheng_b3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 4,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_zheng_g3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 5,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_zheng_e3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 6,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_dizi_a3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 7,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_dizi_e4" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 8,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_dizi_d4" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 9,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_dizi_b3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 10,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_dizi_g3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 11,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_dizi_e3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 12,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_pipa_a3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 13,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_pipa_e4" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 14,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_pipa_d4" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 15,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_pipa_b3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 16,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_pipa_g3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 17,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": { "text": "Play_ui_midi_xinyan_pipa_e3" }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "SGV_NoteSlate_Sound",
              "value": 18,
              "compareType": "Equal"
            }
          ]
        }
      ]
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 	2.8辛焱地城 音符石板 普通
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_01",
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "Tile_On",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 1,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onKill": [
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onFieldEnter": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByAvatarIsHost",
              "target": "Target",
              "isHost": true
            }
          ],
          "successActions": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  //用GV判断 不用GadgetState，减少延迟
                  "$type": "ByTargetGlobalValue",
                  "key": "Tile_On",
                  "target": "Self",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "target": "Self",
                  "luaCallType": "FromGroup",
                  "funcName": "SLC_DrawOneLine_LightOn",
                  "paramNum": 1,
                  "param1": 0 //类型 0-普通和离散 1-移动 2-还原
                }
              ],
              "failActions": [
                {
                  "$type": "ServerLuaCall",
                  "target": "Self",
                  "luaCallType": "FromGroup",
                  "funcName": "SLC_DrawOneLine_Fail"
                }
              ]
            }
          ]
        }
      ],
      "abilityMixins": [
        {
          //默认 可踩亮
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Normal"
        },
        {
          //踩亮 再踩失败
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Actived"
        },
        {
          //错误 踩没反应
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "FailEffect"
        },
        {
          //隐藏态 用于离散石板的拼合
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 903,
          "modifierName": "Blank"
        }
      ],
      "modifiers": {
        //0
        "Normal": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "Tile_On",
              "value": 0
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 0
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Lighten"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            }
          ]
        },
        //903
        "Blank": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        //被踩亮 201
        "Actived": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "Tile_On",
              "value": 1
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_Sound"
            }
          ]
        },
        //错误 踩没反应 202
        "FailEffect": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_amb_sceneObj_gear_noteSlate_error"
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 	2.8辛焱地城 音符石板 普通 起点格
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_05",
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "Tile_On",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 1,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onKill": [
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onFieldEnter": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            },
            {
              "$type": "ByAvatarIsHost",
              "target": "Target",
              "isHost": true
            }
          ],
          "successActions": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "Tile_On",
                  "target": "Self",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "target": "Self",
                  "luaCallType": "FromGroup",
                  "funcName": "SLC_DrawOneLine_Reset"
                }
              ]
            }
          ]
        }
      ],
      "abilityMixins": [
        {
          //默认 可踩亮
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Normal"
        },
        {
          //踩亮 再踩失败
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Actived"
        },
        {
          //错误 踩没反应
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "FailEffect"
        }
      ],
      "modifiers": {
        "Starter_ActiveDelay": {
          "stacking": "Unique",
          "duration": 1.1,
          "thinkInterval": 1,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_WAITING",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Starter_Effect"
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_WAITING",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ],
          "onThinkInterval": [
            {
              "$type": "ServerLuaCall",
              "target": "Self",
              "luaCallType": "FromGroup",
              "funcName": "SLC_DrawOneLine_Start",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "Tile_On",
                  "value": 0,
                  "target": "Self",
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "Starter_Effect": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_NoteSlate_02"
            }
          ]
        },
        //0
        "Normal": {
          "thinkInterval": 0.5,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR1_6H1",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                },
                {
                  "$type": "ByAvatarIsHost",
                  "target": "Target",
                  "isHost": true
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Starter_ActiveDelay",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_IN_WAITING",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "RemoveModifier",
                  "modifierName": "Starter_ActiveDelay"
                }
              ]
            }
          ],
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model", "Default"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Lighten", "Fail"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Starter_Effect"
            },
            {
              "$type": "SetGlobalValue",
              "key": "Tile_On",
              "value": 0
            }
          ]
        },
        //903
        "Blank": {},
        //被踩亮 201
        "Actived": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "Tile_On",
              "value": 1
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_ScenObj_NoteSlate_01"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_Sound"
            }
          ]
        },
        //错误 踩没反应 202
        "FailEffect": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model", "Fail"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Lighten"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            }
          ],
          "thinkInterval": 0.5,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR1_6",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                },
                {
                  "$type": "ByAvatarIsHost",
                  "target": "Target",
                  "isHost": true
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "target": "Self",
                  "luaCallType": "FromGroup",
                  "funcName": "SLC_DrawOneLine_Fail",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "Tile_On",
                      "value": 1,
                      "target": "Self",
                      "compareType": "Equal"
                    }
                  ]
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "Tile_On",
                  "value": 0
                }
              ]
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 	2.8辛焱地城 音符石板 普通 终点
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_06",
      "onAdded": [
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 1,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onKill": [
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onFieldEnter": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByAvatarIsHost",
              "target": "Target",
              "isHost": true
            }
          ],
          "successActions": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  //用GV判断 不用GadgetState，减少延迟
                  "$type": "ByTargetGlobalValue",
                  "key": "Tile_On",
                  "target": "Self",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "target": "Self",
                  "luaCallType": "FromGroup",
                  "funcName": "SLC_DrawOneLine_CheckSuccess",
                  "predicates": [
                    {
                      "$type": "ByTargetGadgetState",
                      "target": "Self",
                      "gadgetState": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "abilityMixins": [
        {
          //默认 可踩亮
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Normal"
        },
        {
          //踩亮 再踩失败
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Actived"
        },
        {
          //错误 踩没反应
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "FailEffect"
        }
      ],
      "modifiers": {
        //0
        "Normal": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "Tile_On",
              "value": 0
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Lighten"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_NoteSlate_02"
            }
          ]
        },
        //被踩亮 201
        "Actived": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_Sound"
            }
          ]
        },
        //错误 踩没反应 202
        "FailEffect": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_amb_sceneObj_gear_noteSlate_error"
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 	2.8辛焱地城 音符石板 移动
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_02",
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "Tile_On",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 1,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onKill": [
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onFieldEnter": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByAvatarIsHost",
              "target": "Target",
              "isHost": true
            }
          ],
          "successActions": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  //用GV判断 不用GadgetState，减少延迟
                  "$type": "ByTargetGlobalValue",
                  "key": "Tile_On",
                  "target": "Self",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "target": "Self",
                  "luaCallType": "FromGroup",
                  "funcName": "SLC_DrawOneLine_LightOn",
                  "paramNum": 1,
                  "param1": 1 //类型 0-普通和离散 1-移动 2-还原
                }
              ],
              "failActions": [
                /*移动板子由于玩法规则问题，判定放宽
								{
									"$type": "ServerLuaCall",
									"target": "Self",
									"luaCallType": "FromGroup",
									"funcName": "SLC_DrawOneLine_Fail",
									"predicates":
									[
										{
											"$type" : "ByAny",
											"predicates" :
											[
												{
													"$type":"ByTargetGadgetState",
													"target": "Self",
													"gadgetState": 201,
												},
											],
										},
									],
								},*/
              ]
            }
          ]
        }
      ],
      "abilityMixins": [
        {
          //默认 可踩亮
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Normal"
        },
        {
          //踩亮 再踩失败
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Actived"
        },
        {
          //错误 踩没反应
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "FailEffect"
        },
        {
          //
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 903,
          "modifierName": "Blank"
        }
      ],
      "modifiers": {
        //0
        "Normal": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "Tile_On",
              "value": 0
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Lighten"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_NoteSlate_03"
            }
          ]
        },
        //903
        "Blank": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        //被踩亮 201
        "Actived": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "Tile_On",
              "value": 1
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_Sound"
            }
          ]
        },
        //错误 踩没反应 202
        "FailEffect": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_amb_sceneObj_gear_noteSlate_error"
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 	2.8辛焱地城 音符石板 还原
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_03",
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "Tile_On",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 1,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onKill": [
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onFieldEnter": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByAvatarIsHost",
              "target": "Target",
              "isHost": true
            }
          ],
          "successActions": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  //用GV判断 不用GadgetState，减少延迟
                  "$type": "ByTargetGlobalValue",
                  "key": "Tile_On",
                  "target": "Self",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ServerLuaCall",
                  "target": "Self",
                  "luaCallType": "FromGroup",
                  "funcName": "SLC_DrawOneLine_LightOn",
                  "paramNum": 1,
                  "param1": 2 //类型 0-普通和离散 1-移动 2-还原
                }
              ],
              "failActions": [
                {
                  "$type": "ServerLuaCall",
                  "target": "Self",
                  "luaCallType": "FromGroup",
                  "funcName": "SLC_DrawOneLine_Fail"
                }
              ]
            }
          ]
        }
      ],
      "abilityMixins": [
        {
          //默认 可踩亮
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Normal"
        },
        {
          //踩亮 再踩失败
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Actived"
        },
        {
          //错误 踩没反应
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "FailEffect"
        },
        {
          //错误 踩没反应
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 903,
          "modifierName": "Blank"
        }
      ],
      "modifiers": {
        //0
        "Normal": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_NoteSlate_03"
            },
            {
              "$type": "SetGlobalValue",
              "key": "Tile_On",
              "value": 0
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Lighten"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            }
          ]
        },
        //903
        "Blank": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        //被踩亮 201
        "Actived": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "Tile_On",
              "value": 1
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_Sound"
            }
          ]
        },
        //错误 踩没反应 202
        "FailEffect": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_amb_sceneObj_gear_noteSlate_error"
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 	2.8辛焱地城 音符石板 离散
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_NoteSlate_04",
      "onAdded": [
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 1,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "onKill": [
        {
          "$type": "RemoveModifier",
          "modifierName": "Normal_Eff"
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherBlue",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        },
        {
          "$type": "SetMaterialParamFloatByTransform",
          "matName": "DitherRed",
          "patternName": "_DissoveValue",
          "value": 0,
          "lerpCurveIndex": 0,
          "useCurve": true,
          "lerpTime": 0.75
        }
      ],
      "abilityMixins": [
        {
          //默认 离散在空中
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Normal"
        },
        {
          //错误
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "FailEffect"
        }
      ],
      "modifiers": {
        "Normal_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_NoteSlate_05"
            }
          ]
        },
        //0
        "Normal": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "Normal_Eff"
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Model", "Default"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Lighten", "Fail"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 0
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            }
          ]
        },
        //错误
        "FailEffect": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 1
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Default", "Fail", "Lighten"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherRed",
              "patternName": "_DissoveValue",
              "value": 1,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DitherBlue",
              "patternName": "_DissoveValue",
              "value": 0,
              "lerpCurveIndex": 0,
              "useCurve": true,
              "lerpTime": 0.5
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_amb_sceneObj_gear_noteSlate_error"
                }
              }
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 万叶地城 City旋转轴物件
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_CityRotateAixs_01",
      "abilityMixins": [
        {
          "$type": "PlatformMoveMixin",
          "isLogicMove": false,
          "moveModifiers": ["CityRotateAixs_Move"],
          "stopModifiers": ["CityRotateAixs_Idle"]
        }
      ],
      "onAdded": [
        {
          //旋转较正
          "$type": "ApplyModifier",
          "modifierName": "CityRotateAixs_OnReconnect",
          "canBeHandledOnRecover": true,
          "doOffStage": true
        }
      ],

      "modifiers": {
        "CityRotateAixs_Recover": {
          "duration": 1,
          "onAdded": [
            {
              //开启City的tick跟随
              "$type": "SectorCityManeuver",
              "attachPointName": "RootNode",
              "start": true
            }
          ],
          "onRemoved": [
            {
              //停止City的tick跟随
              "$type": "SectorCityManeuver",
              "attachPointName": "RootNode",
              "start": false,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "Axis_Rotating",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            }
          ]
        },
        "CityRotateAixs_OnReconnect": {
          "onReconnect": [
            {
              "$type": "ApplyModifier",
              "modifierName": "CityRotateAixs_Recover"
            }
          ]
        },
        "CityRotateAixs_Move": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "RotateCity_Start"
            },
            {
              "$type": "SetGlobalValue",
              "key": "Axis_Rotating",
              "value": 1
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_amb_sceneObj_gear_kazuha_dungeon_move"
                }
              }
            }
          ]
        },
        "CityRotateAixs_Idle": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "RotateCity_StopDelay"
            }
          ]
        },
        "RotateCity_StopDelay": {
          "duration": 2,
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "Axis_Rotating",
              "value": 0
            },
            {
              //停止City的tick跟随
              "$type": "SectorCityManeuver",
              "attachPointName": "RootNode",
              "start": false
            }
          ]
        },
        "RotateCity_Start": {
          "onAdded": [
            {
              //开启City的tick跟随
              "$type": "SectorCityManeuver",
              "attachPointName": "RootNode",
              "start": true
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 菲谢尔地城 City旋转轴物件
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_CityRotateAixs_02",
      "abilityMixins": [
        {
          "$type": "PlatformMoveMixin",
          "isLogicMove": false,
          "moveModifiers": ["CityRotateAixs_Move"],
          "stopModifiers": ["CityRotateAixs_Idle"]
        }
      ],
      "onAdded": [
        {
          //旋转较正
          "$type": "ApplyModifier",
          "modifierName": "CityRotateAixs_OnReconnect",
          "canBeHandledOnRecover": true,
          "doOffStage": true
        }
      ],

      "modifiers": {
        "CityRotateAixs_Recover": {
          "duration": 1,
          "onAdded": [
            {
              //开启City的tick跟随
              "$type": "SectorCityManeuver",
              "attachPointName": "RootNode",
              "start": true
            }
          ],
          "onRemoved": [
            {
              //停止City的tick跟随
              "$type": "SectorCityManeuver",
              "attachPointName": "RootNode",
              "start": false,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "Axis_Rotating",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            }
          ]
        },
        "CityRotateAixs_OnReconnect": {
          "onReconnect": [
            {
              "$type": "ApplyModifier",
              "modifierName": "CityRotateAixs_Recover"
            }
          ]
        },
        "CityRotateAixs_Move": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "RotateCity_Start"
            },
            {
              "$type": "SetGlobalValue",
              "key": "Axis_Rotating",
              "value": 1
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_amb_sceneObj_gear_cityRotateAixs_01"
                }
              }
            }
          ]
        },
        "CityRotateAixs_Idle": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "RotateCity_StopDelay"
            }
          ]
        },
        "RotateCity_StopDelay": {
          "duration": 2,
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "Axis_Rotating",
              "value": 0
            },
            {
              //停止City的tick跟随
              "$type": "SectorCityManeuver",
              "attachPointName": "RootNode",
              "start": false
            }
          ]
        },
        "RotateCity_Start": {
          "onAdded": [
            {
              //开启City的tick跟随
              "$type": "SectorCityManeuver",
              "attachPointName": "RootNode",
              "start": true
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 万叶地城 天使环
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_DIK_Seal_01",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Item_SpecialTreasureBox_LockIdle"
        }
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Item_SpecialTreasureBox_Unlock"
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 万叶地城 天使环 FollowMove
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_DIK_SealFollowMove_01",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Item_SpecialTreasureBox_LockIdle_Follow"
        }
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Item_SpecialTreasureBox_Unlock"
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 万叶地城 封印特效物件
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_KazuhaDungeonLock_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "KazuhaDungeonLock_Color1"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "KazuhaDungeonLock_Color2"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "KazuhaDungeonLock_Color3"
        }
      ],
      "onKill": [
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_SceneObj_DIK_SealA_01",
          "doAfterDie": true,
          "doOffStage": true,
          "parameter": "Die"
        }
      ],
      "modifiers": {
        "KazuhaDungeonLock_KillSelf": {
          "duration": 0.2,
          "onAdded": [
            {
              "$type": "KillSelf",
              "hideEntity": true
            }
          ]
        },
        "KazuhaDungeonLock_Color1": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_SealA_01",
              "effectTempleteID": 100
            }
          ],
          "onKill": [
            /*{
							"$type": "FireEffect",
							"effectPattern": "Eff_Item_SpecialTreasureBox_Unlock",
						},*/
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["CrystalBullet_ColorA"]
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "KazuhaDungeonLock_KillSelf"
                }
              ]
            }
          ]
        },
        "KazuhaDungeonLock_Color2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_SealA_01",
              "effectTempleteID": 101
            }
          ],
          "onKill": [
            /*{
							"$type": "FireEffect",
							"effectPattern": "Eff_Item_SpecialTreasureBox_Unlock",
						},*/
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["CrystalBullet_ColorB"]
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "KazuhaDungeonLock_KillSelf"
                }
              ]
            }
          ]
        },
        "KazuhaDungeonLock_Color3": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_SealA_01",
              "effectTempleteID": 102
            }
          ],
          "onKill": [
            /*{
							"$type": "FireEffect",
							"effectPattern": "Eff_Item_SpecialTreasureBox_Unlock",
						},*/
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["CrystalBullet_ColorC"]
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "KazuhaDungeonLock_KillSelf"
                }
              ]
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8万叶梦境地城 勾玉供桌 供奉台 供奉物
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_ServeItem_01",
      "abilityMixins": [
        {
          //可拾取
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Item_Pickupable"
        },
        {
          //封印态
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 101,
          "modifierName": "Crystal_Locked"
        },
        {
          //被拾取
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Crystal_Picked"
        }
      ],
      "modifiers": {
        "Crystal_Picked": {
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_DIK_Serve_01_Dis"
            }
          ]
        },
        "Crystal_Locked": {
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_Serve_01"
            }
          ]
        },
        "Item_Pickupable": {
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": true
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_Serve_01"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 万叶地城 勾玉供桌 供奉台
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_ServeDevice_01",
      "abilityMixins": [
        {
          //锁
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 101,
          "modifierName": "ServeDevice_Locked"
        },
        {
          //空
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "ServeDevice_Empty"
        },
        {
          //有供奉物
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "ServeDevice_Full"
        }
      ],
      "modifiers": {
        "ServeDevice_Locked": {
          "onAdded": [
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableGadgetIntee",
              "enable": true
            }
          ]
        },
        "ServeDevice_SearchPlayer": {
          "thinkInterval": 0.5,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2H2",
                "centerBasedOn": "Self",
                "campTargetType": "All",
                "campBasedOn": "Self",
                "topLimit": 1,
                "sortType": "Nearest"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"],
                  "target": "Target"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "ServeItem_Count",
                  "target": "TargetTeam",
                  "value": 1,
                  "compareType": "MoreThanAndEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "ServeItem_Count",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 2,
                  "minValue": 0
                },
                {
                  "$type": "ExecuteGadgetLua",
                  "param1": 201,
                  "target": "Self"
                },
                {
                  "$type": "RemoveModifier",
                  "modifierName": "ServeDevice_SearchPlayer",
                  "target": "Self"
                }
              ]
            }
          ]
        },
        "ServeDevice_Empty": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "SearchPlayer_Delay"
            }
          ]
        },
        "SearchPlayer_Delay": {
          "duration": 1.5,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "ServeDevice_SearchPlayer"
            }
          ]
        },
        "ServeDevice_Full": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "ServeDevice_SearchPlayer"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_Serve_01"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_DIK_Serve_01_Dis"
            }
          ]
        }
      }
    }
  },
  /////////////////////////////////////////////////////////
  //
  //  万叶地城 供奉物数量特效显示
  //
  /////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_KazuhaDungeon_GouYuEff_01",
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "ServeItem_Count",
          "valueSteps": [-1, 0.5, 1.5, 2.5],
          "modifierNameSteps": [
            "RemoveGouYu",
            "Team_Avatar_Eff1",
            "Team_Avatar_Eff2"
          ]
        }
      ],
      "onAdded": [],
      "modifiers": {
        "RemoveGouYu": {},
        "Team_Avatar_Eff1": {
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixinV2",
              "modifierName": "UNIQUE_Avatar_Eff1"
            }
          ]
        },
        "Team_Avatar_Eff2": {
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixinV2",
              "modifierName": "UNIQUE_Avatar_Eff2"
            }
          ]
        },
        "UNIQUE_Avatar_Eff1": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_Serve_Around_01",
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Avatar_Eff2": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_DIK_Serve_Around_02",
              "doOffStage": true
            }
          ]
        }
      }
    }
  },
  /////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 万叶地城 勾玉供桌 供奉物 交互
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Hf_Property_Prop_DIK_ServeDevice_01_Interact",
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "Predicated",
              "target": "Other",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "ServeItem_Count",
                  "value": 2,
                  "compareType": "MoreThanAndEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ShowReminder",
                  "id": 201420103
                  //"localOnly":true,
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "ServeDevice_Interacted",
                  "target": "Other"
                },
                {
                  "$type": "ServerLuaCall",
                  "funcName": "SLC_ServeItem_Picked",
                  "luaCallType": "FromGroup",
                  "target": "Self"
                }
              ]
            }
          ]
        }
      ],
      "modifiers": {
        "ServeDevice_Interacted": {
          "duration": 0.2,
          "onAdded": [
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "ServeItem_Count",
                  "value": 2,
                  "compareType": "MoreThanAndEqual"
                }
              ],
              "failActions": [
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "ServeItem_Count",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 2,
                  "minValue": 0
                },
                {
                  "$type": "ExecuteGadgetLua",
                  "param1": 0,
                  "target": "Caster"
                }
              ]
            }
          ]
        }
      }
    }
  },
  /////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	地城雾门空气墙
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_DungeonGate04",
      "onKill": [
        {
          "$type": "SendEffectTrigger",
          "parameter": "gadgetState",
          "type": "Int",
          "value": 201,
          "doAfterDie": true,
          "doOffStage": true,
          "effectPattern": "Eff_SceneObj_DreamIsland_Gate_01"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Collider_Delay",
          "doAfterDie": true,
          "doOffStage": true
        }
      ],
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_DreamIsland_Gate_01"
        },
        {
          "$type": "SendEffectTrigger",
          "parameter": "gadgetState",
          "type": "Int",
          "value": 0,
          "effectPattern": "Eff_SceneObj_DreamIsland_Gate_01"
        }
      ],
      "modifiers": {
        "Collider_Delay": {
          "duration": 0.75,
          "onRemoved": [
            {
              "$type": "EnableSceneTransformByName",
              "setEnable": false,
              "transformNames": ["Collider"],
              "doAfterDie": true,
              "doOffStage": true
            }
          ]
        }
      }
    }
  },
  /////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	引导纸星星 交互
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_PaperStar_01_Interact",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "PaperStar_Eff"
        }
      ],
      "abilityMixins": [
        {
          "$type": "WidgetMpSupportMixin",
          "succActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "PaperStar_Interacted",
              "target": "Self"
            }
          ]
        }
      ],
      "modifiers": {
        "PaperStar_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_PaperStar_01"
            }
          ]
          /*"onRemoved": 
					[
						{
							"$type": "FireEffect",
							"effectPattern": "Eff_SceneObj_PaperStar_01_Disappear",
						},
					],*/
        },
        "PaperStar_Interacted": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "PaperStar_Eff"
            },
            {
              "$type": "EnableGadgetIntee",
              "enable": false
            },
            {
              "$type": "KillSelf"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 辛焱地城 投影门 消失出现
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_ShadowDoor_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "ShadowDoor_ShowUp"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "ShadowDoor_Hide"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueNoInitMixin",
          "globalValueKey": "Set_Die",
          "valueSteps": [0.5, 1.5],
          "modifierNameSteps": ["ShadowDoor_KillSelf"]
        }
      ],
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "Set_Die",
          "value": 0
        }
      ],
      "modifiers": {
        "ShadowDoor_KillSelf": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DissolveValue",
              "patternName": "_DitherAlpha",
              "value": 0,
              "lerpTime": 1,
              "useCurve": true,
              "lerpCurveIndex": 1,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Collider"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "KillDelay"
            }
          ]
        },
        "ShadowDoor_ShowUp": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "ShowDelay"
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DissolveValue",
              "patternName": "_DitherAlpha",
              //"canBeHandledOnRecover": true,
              "value": 0
            }
          ],
          "onReconnect": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DissolveValue",
              "patternName": "_DitherAlpha",
              "value": 1,
              "lerpTime": 1,
              "useCurve": true,
              "lerpCurveIndex": 1,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Collider"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
          /*"onRemoved": 
					[
						{
							"$type": "ApplyModifier",
							"modifierName": "KillDelay",
						}
					]*/
        },
        "ShowDelay": {
          "duration": 2,
          "onRemoved": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "DissolveValue",
              "patternName": "_DitherAlpha",
              "value": 1,
              "lerpTime": 1,
              "useCurve": true,
              "lerpCurveIndex": 1,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Collider"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        "KillDelay": {
          "duration": 2,
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },
        "ShadowDoor_Hide": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "Set_Die",
              "value": 1
            },
            /*{
							"$type": "SetMaterialParamFloatByTransform",
							"matName": "DissolveValue",
							"patternName":"_DitherAlpha",
							"value":0,
							"lerpTime":1,
							"useCurve": true,
							"lerpCurveIndex": 1,
							"canBeHandledOnRecover": true,
						},*/
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["Collider"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8海岛 辛焱地城 投影门 影子切换
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_ShadowDoor_02",
      "abilitySpecials": {
        "ShadowIndex": 0,
        "Opacity": 0.7,
        "Shadow_Think_Timer": 1
      },
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "Index",
          "value": 0
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Handle_Value_Change"
        }
      ],
      "modifiers": {
        "Handle_Value_Change": {
          "modifierMixins": [
            {
              "$type": "DoActionOnGlobalValueChangeMixin",
              "globalValueKey": "Index",
              "actions": [
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "globalValueKey": "Index",
                  "overrideMapKey": "ShadowIndex"
                },
                {
                  "$type": "RemoveModifier",
                  "modifierName": "Shadow_Blink_Handle"
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Shadow_FadeIn"
                }
              ]
            }
          ]
        },
        "Shadow_Blink_Handle": {
          "thinkInterval": "%Shadow_Think_Timer",
          /*"onAdded": 
					[
						{
							"$type": "SetMaterialParamFloatByTransform",
							"matName": "Shadow",
							"patternName":"_Opacity",
							"value":0.42,//"%Opacity"
							"lerpTime":5,
							"useCurve": true,
							"lerpCurveIndex": 15,
						},
					],*/
          "onThinkInterval": [
            {
              "$type": "SetGlobalValue",
              "key": "_Opacity",
              "useLimitRange": true,
              "randomInRange": true,
              "maxValue": 0.71,
              "minValue": 0.48
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_Opacity",
              "overrideMapKey": "Opacity"
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Shadow",
              "patternName": "_Opacity",
              "value": "%Opacity",
              "lerpTime": 0.75,
              "useCurve": true,
              "lerpCurveIndex": 1
            }
          ]
        },
        "Shadow_FadeIn": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Shadow",
              "patternName": "_Opacity",
              "value": 0,
              "lerpTime": 0.5,
              "useCurve": true,
              "lerpCurveIndex": 1,
              "canBeHandledOnRecover": true
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorInt",
              "intID": "Index",
              "value": "%ShadowIndex"
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Shadow",
              "patternName": "_Opacity",
              "value": 0.7,
              "lerpTime": 0.5,
              "useCurve": true,
              "lerpCurveIndex": 1,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Shadow_Blink_Handle"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	2.8莫娜梦境地城 特殊反射移动水面
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Water_SpecialReflection_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "SpecialReflection_Active"
        }
      ],
      "modifiers": {
        "SpecialReflection_Active": {
          "onAdded": [
            {
              "$type": "DebugLog",
              "content": "###### SpecialReflection Gadget On ####"
            }
          ],
          "thinkInterval": 0.5,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR30",
                "centerBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                {
                  "$type": "AttachModifier",
                  "modifierName": "UNIQUE_Team_SpecialReflection_Active",
                  "target": "TargetTeam"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "DebugLog",
              "content": "###### SpecialReflection Gadget Off ####"
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR30",
                "centerBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                {
                  "$type": "RemoveUniqueModifier",
                  "modifierName": "UNIQUE_Team_SpecialReflection_Active",
                  "target": "TargetTeam"
                },
                {
                  "$type": "DebugLog",
                  "content": "###### Remove Modifier SpecialReflection"
                }
              ]
            }
          ]
        },
        "UNIQUE_Team_SpecialReflection_Active": {
          "duration": 2,
          "isUnique": true,
          "stacking": "RefreshUniqueDurability",
          "modifierMixins": [
            {
              "$type": "CameraSetReflectionMixin",
              "reflectionLayer": "Ignore Raycast",
              "reflectionPlaneTransName": "ReflectNode"
            }
          ],
          "onAdded": [
            {
              "$type": "DebugLog",
              "content": "###### Add Modifier SpecialReflection"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境 弹幕 纸星星子弹
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_PaperStar_02",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "successActions": [
            {
              "$type": "ServerLuaCall",
              "luaCallType": "CurChallengeGroup",
              "funcName": "SLC_StarShooter_PlayerHit"
            }
          ]
        },
        {
          "$type": "KillSelf"
        }
      ]
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境 弹幕 纸星星发射器A
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_PaperStarShooter_01",
      "abilityMixins": [
        {
          //直线射击
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "PaperStarShooter_Mod1"
        },
        {
          //五发分散齐射
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 203,
          "modifierName": "PaperStarShooter_Mod3"
        },
        {
          //五发平行齐射
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 204,
          "modifierName": "PaperStarShooter_Mod4"
        },
        {
          //mute
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "PaperStarShooter_Mute"
        }
      ],
      "abilitySpecials": {
        "Shoot_Interval": 1,
        "Shoot_Time": 1
      },
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Handle_Value_Change"
        }
      ],
      "modifiers": {
        "Shoot_Timer": {
          "duration": "%Shoot_Time",
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0
            }
          ]
        },
        "Handle_Value_Change": {
          "modifierMixins": [
            {
              "$type": "DoActionOnGlobalValueChangeMixin",
              "globalValueKey": "SGV_Shoot_Interval",
              "actions": [
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "globalValueKey": "SGV_Shoot_Interval",
                  "overrideMapKey": "Shoot_Interval"
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "globalValueKey": "SGV_Shoot_Time",
                  "overrideMapKey": "Shoot_Time"
                }
              ]
            }
          ]
        },
        "PaperStarShooter_Mute": {},
        "PaperStarShooter_Mod1": {
          "thinkInterval": "%Shoot_Interval",
          "onThinkInterval": [
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": 0.0,
                  "y": 0.5,
                  "z": 0.0
                }
              }
            }
          ],
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_Shoot_Time",
              "overrideMapKey": "Shoot_Time"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Shoot_Timer"
            }
          ]
        },
        "PaperStarShooter_Mod3": {
          "thinkInterval": "%Shoot_Interval",
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_Shoot_Time",
              "overrideMapKey": "Shoot_Time"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Shoot_Timer"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": 1,
                  "y": 0.5,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigBornDirectionType",
                  "randomAngleHor": 0,
                  "angleOffset": {
                    "x": 0.0,
                    "y": 40.0,
                    "z": 0.0
                  }
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": 0.5,
                  "y": 0.5,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigBornDirectionType",
                  "randomAngleHor": 0,
                  "angleOffset": {
                    "x": 0.0,
                    "y": 20,
                    "z": 0.0
                  }
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": 0.0,
                  "y": 0.5,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": -0.5,
                  "y": 0.5,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigBornDirectionType",
                  "randomAngleHor": 0,
                  "angleOffset": {
                    "x": 0.0,
                    "y": -20.0,
                    "z": 0.0
                  }
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": -1.0,
                  "y": 0.5,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigBornDirectionType",
                  "randomAngleHor": 0,
                  "angleOffset": {
                    "x": 0.0,
                    "y": -40.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "PaperStarShooter_Mod4": {
          "thinkInterval": "%Shoot_Interval",
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "SGV_Shoot_Time",
              "overrideMapKey": "Shoot_Time"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Shoot_Timer"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": 8.0,
                  "y": 0.5,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": 4.0,
                  "y": 0.5,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": 0.0,
                  "y": 0.5,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": -4.0,
                  "y": 0.5,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 70310245,
              "lifeByOwnerV2": true,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": -8.0,
                  "y": 0.5,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境 弹幕 纸星星发射器B
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_PaperStarShooter_02",
      "abilityMixins": [],
      "onAdded": [],
      "modifiers": {}
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境 弹幕 纸星星发射器C
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Hd_Property_Prop_PaperStarShooter_03",
      "abilityMixins": [],
      "onAdded": [],
      "modifiers": {}
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	莫娜梦境地城 倒影门
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_ReflectGate_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "modifierName": "ReflectGate_Off", //水上面的部分靠近不会虚化
          "gadgetState": 0
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "modifierName": "ReflectGate_On", //水上面的部分靠近会虚化
          "gadgetState": 201
        }
      ],
      "modifiers": {
        "ReflectGate_Off": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["DitherNode"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["PropNode"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        "ReflectGate_On": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["DitherNode"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["PropNode"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  // 莫娜梦境 倒影火盆
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_ReflectFireBasin",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0, //倒影亮 实体灭
          "modifierName": "Reflect_On_Fire_Off"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201, //倒影亮 实体亮
          "modifierName": "Reflect_On_Fire_On"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202, //倒影灭 实体灭
          "modifierName": "Reflect_Off_Fire_Off"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 203, //倒影灭 实体亮
          "modifierName": "Reflect_Off_Fire_On"
        }
      ],
      "modifiers": {
        //0
        "Reflect_On_Fire_Off": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireBasin_01_ReflectOnly",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "attachPointReflect"
              }
            }
          ],
          "onBeingHit": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 201,
              "predicates": [
                {
                  "$type": "ByHitElement",
                  "element": "Fire"
                },
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByHasElement",
                      "element": "Water"
                    }
                  ]
                }
              ]
            }
          ]
        },
        //202
        "Reflect_Off_Fire_Off": {
          "onBeingHit": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 203,
              "predicates": [
                {
                  "$type": "ByHitElement",
                  "element": "Fire"
                },
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByHasElement",
                      "element": "Water"
                    }
                  ]
                }
              ]
            }
          ]
        },
        //201
        "Reflect_On_Fire_On": {
          "elementType": "Fire",
          "elementDurability": 25,
          "modifierMixins": [
            {
              "$type": "TileComplexMixin",
              "attackID": "TileAttack_FireSource",
              "attachPointName": "attachPointProp",
              "shape": {
                "$type": "SphereTileShapeInfo",
                "radius": 0.4
              }
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireBasin_01_ReflectOnly",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "attachPointReflect"
              }
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireBasin_01",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "attachPointProp"
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_FireBasin_Smoke",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "attachPointProp"
              }
            }
          ]
        },
        //203
        "Reflect_Off_Fire_On": {
          "elementType": "Fire",
          "elementDurability": 25,
          "modifierMixins": [
            {
              "$type": "TileComplexMixin",
              "attackID": "TileAttack_FireSource",
              "attachPointName": "attachPointProp",
              "shape": {
                "$type": "SphereTileShapeInfo",
                "radius": 0.4
              }
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireBasin_01",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "attachPointProp"
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 202
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_FireBasin_Smoke",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "attachPointProp"
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////
  //
  //	莫娜梦境 倒影宝箱 普通
  //
  //////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_ReflectChest_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 901,
          "modifierName": "EffectAttach"
        }
      ],
      "modifiers": {
        "EffectAttach": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Item_SpecialTreasureBox_Born"
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 菲谢尔梦境 奥兹方块
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Ani_Prop_OzCube_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "FixedState"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "DefaultState"
        }
      ],
      "modifiers": {
        "DefaultState": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["FixedModel"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["DefaultModel"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        "FixedState": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["DefaultModel"],
              "setEnable": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableSceneTransformByName",
              "transformNames": ["FixedModel"],
              "setEnable": true,
              "canBeHandledOnRecover": true
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 辛焱地城音效物件
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_MuteTheBgm_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "MuteTheBgm_Stop"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "MuteTheBgm_On"
        }
      ],
      "modifiers": {
        "MuteTheBgm_On": {
          "onAdded": [
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": { "text": "SetState_Dungeon_Silence" }
              },
              "predicates": [
                {
                  "$type": "ByTargetGadgetState",
                  "gadgetState": 0
                }
              ],
              "canBeHandledOnRecover": true
            }
          ]
        },
        "MuteTheBgm_Stop": {}
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 辛焱梦境 梦境核心花
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_CoreFlower_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "CoreFlower_On"
        }
      ],
      "modifiers": {
        "CoreFlower_On": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_CoreFlower_02"
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "ChangeColor",
              "canBeHandledOnRecover": true,
              "patternName": "_ColorChangeValue",
              "useCurve": true,
              "lerpCurveIndex": 0,
              "lerpTime": 1.5,
              "value": 6
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境 鸦眼控制物件
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_LostParadise_Common_Property_Prop_OZbuilding_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "OZbuilding_Origin"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "OZbuilding_Adjusted"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "OZbuilding_Adjusted2"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 203,
          "modifierName": "OZbuilding_Adjusted3"
        }
      ],
      "onAdded": [],
      "modifiers": {
        "OZbuilding_Adjusted": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "canBeHandledOnRecover": true,
              "transformNames": ["Origin", "Adjusted2", "Adjusted3"],
              "setEnable": false
            },
            {
              "$type": "EnableSceneTransformByName",
              "canBeHandledOnRecover": true,
              "transformNames": ["Adjusted"],
              "setEnable": true
            }
          ]
        },
        "OZbuilding_Adjusted2": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "canBeHandledOnRecover": true,
              "transformNames": ["Origin", "Adjusted", "Adjusted3"],
              "setEnable": false
            },
            {
              "$type": "EnableSceneTransformByName",
              "canBeHandledOnRecover": true,
              "transformNames": ["Adjusted2"],
              "setEnable": true
            }
          ]
        },
        "OZbuilding_Adjusted3": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "canBeHandledOnRecover": true,
              "transformNames": ["Origin", "Adjusted2", "Adjusted"],
              "setEnable": false
            },
            {
              "$type": "EnableSceneTransformByName",
              "canBeHandledOnRecover": true,
              "transformNames": ["Adjusted3"],
              "setEnable": true
            }
          ]
        },
        "OZbuilding_Origin": {
          "onAdded": [
            {
              "$type": "EnableSceneTransformByName",
              "canBeHandledOnRecover": true,
              "transformNames": ["Adjusted", "Adjusted2", "Adjusted3"],
              "setEnable": false
            },
            {
              "$type": "EnableSceneTransformByName",
              "canBeHandledOnRecover": true,
              "transformNames": ["Origin"],
              "setEnable": true
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////
  //
  // 水元素方碑 倒影 被动激活
  //
  ////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_ReflectTablet_Water",
      "onAdded": [
        {
          "$type": "AttachAbilityStateResistance",
          "resistanceListID": 11002
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Default_0"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "GearStart"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 901,
          "modifierName": "Action01"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 902,
          "modifierName": "Action02"
        },
        /*{
					"$type": "AttachToGadgetStateMixin",
					"gadgetState": 202,
					"modifierName": "Interact_Forbid",
				},*/
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 203,
          "modifierName": "NoneElement"
        }
      ],

      "modifiers": {
        "NoneElement": {
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 203
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 203,
              "effectPattern": "Eff_SceneObj_Elem_Water_ReflectOnly"
            }
          ]
        },
        "Default_0": {
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 0
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Elem_Water_ReflectOnly"
            }
          ]
        },
        "Action01": {
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 901
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 901,
              "effectPattern": "Eff_SceneObj_Elem_Water_ReflectOnly"
            }
          ]
        },
        "Action02": {
          "state": "DenyLockOn",
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 902
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 902,
              "effectPattern": "Eff_SceneObj_Elem_Water_ReflectOnly"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Elem_Water_Active_ReflectOnly"
            }
          ]
        },
        "GearStart": {
          "state": "DenyLockOn",
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 201
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 201,
              "effectPattern": "Eff_SceneObj_Elem_Water_ReflectOnly"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Elem_Water_Active_ReflectOnly"
            }
          ]
        }
        /*"Interact_Forbid":
				{
					"state": "DenyLockOn",
					"onAdded":
					[
						{
							"$type": "SetAnimatorInt",
							"intID": "gadgetState",
							"value": 0,
						},
						{
							"$type": "SendEffectTrigger",
							"parameter": "gadgetState",
							"type": "Int",
							"value": 202,
							"effectPattern": "Eff_SceneObj_Elem_Fire",
						},
						{
							"$type": "AttachEffect",
							"effectPattern": "Eff_Item_SpecialTreasureBox_LockIdle",
						},
					],
					"onRemoved":
					[
						{
							"$type": "FireEffect",
							"effectPattern": "Eff_Item_SpecialTreasureBox_Unlock",
						},
					],
				},*/
      }
    }
  },
  ////////////////////////////////////////////////////////////
  //
  // 火元素方碑 倒影 被动激活
  //
  ////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_ReflectTablet_Fire",
      "onAdded": [
        {
          "$type": "AttachAbilityStateResistance",
          "resistanceListID": 11002
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Default_0"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "GearStart"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 901,
          "modifierName": "Action01"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 902,
          "modifierName": "Action02"
        },
        /*{
					"$type": "AttachToGadgetStateMixin",
					"gadgetState": 202,
					"modifierName": "Interact_Forbid",
				},*/
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 203,
          "modifierName": "NoneElement"
        }
      ],

      "modifiers": {
        "NoneElement": {
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 203
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 203,
              "effectPattern": "Eff_SceneObj_Elem_Fire_ReflectOnly"
            }
          ]
        },
        "Default_0": {
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 0
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Elem_Fire_ReflectOnly"
            }
          ]
        },
        "Action01": {
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 901
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 901,
              "effectPattern": "Eff_SceneObj_Elem_Fire_ReflectOnly"
            }
          ]
        },
        "Action02": {
          "state": "DenyLockOn",
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 902
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 902,
              "effectPattern": "Eff_SceneObj_Elem_Fire_ReflectOnly"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Elem_Fire_Active_ReflectOnly"
            }
          ]
        },
        "GearStart": {
          "state": "DenyLockOn",
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 201
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 201,
              "effectPattern": "Eff_SceneObj_Elem_Fire_ReflectOnly"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Elem_Fire_Active_ReflectOnly"
            }
          ]
        }
        /*"Interact_Forbid":
				{
					"state": "DenyLockOn",
					"onAdded":
					[
						{
							"$type": "SetAnimatorInt",
							"intID": "gadgetState",
							"value": 0,
						},
						{
							"$type": "SendEffectTrigger",
							"parameter": "gadgetState",
							"type": "Int",
							"value": 202,
							"effectPattern": "Eff_SceneObj_Elem_Fire",
						},
						{
							"$type": "AttachEffect",
							"effectPattern": "Eff_Item_SpecialTreasureBox_LockIdle",
						},
					],
					"onRemoved":
					[
						{
							"$type": "FireEffect",
							"effectPattern": "Eff_Item_SpecialTreasureBox_Unlock",
						},
					],
				},*/
      }
    }
  },
  ////////////////////////////////////////////////////////////
  //
  // 风元素方碑 倒影 被动激活
  //
  ////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Prop_ReflectTablet_Wind",
      "onAdded": [
        {
          "$type": "AttachAbilityStateResistance",
          "resistanceListID": 11002
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Default_0"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "GearStart"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 901,
          "modifierName": "Action01"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 902,
          "modifierName": "Action02"
        },
        /*{
					"$type": "AttachToGadgetStateMixin",
					"gadgetState": 202,
					"modifierName": "Interact_Forbid",
				},*/
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 203,
          "modifierName": "NoneElement"
        }
      ],

      "modifiers": {
        "NoneElement": {
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 203
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 203,
              "effectPattern": "Eff_SceneObj_Elem_Wind_ReflectOnly"
            }
          ]
        },
        "Default_0": {
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 0
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Elem_Wind_ReflectOnly"
            }
          ]
        },
        "Action01": {
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 901
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 901,
              "effectPattern": "Eff_SceneObj_Elem_Wind_ReflectOnly"
            }
          ]
        },
        "Action02": {
          "state": "DenyLockOn",
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 902
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 902,
              "effectPattern": "Eff_SceneObj_Elem_Wind_ReflectOnly"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Elem_Wind_Active_ReflectOnly"
            }
          ]
        },
        "GearStart": {
          "state": "DenyLockOn",
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "gadgetState",
              "value": 201
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 201,
              "effectPattern": "Eff_SceneObj_Elem_Wind_ReflectOnly"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Elem_Wind_Active_ReflectOnly"
            }
          ]
        }
        /*"Interact_Forbid":
				{
					"state": "DenyLockOn",
					"onAdded":
					[
						{
							"$type": "SetAnimatorInt",
							"intID": "gadgetState",
							"value": 0,
						},
						{
							"$type": "SendEffectTrigger",
							"parameter": "gadgetState",
							"type": "Int",
							"value": 202,
							"effectPattern": "Eff_SceneObj_Elem_Fire",
						},
						{
							"$type": "AttachEffect",
							"effectPattern": "Eff_Item_SpecialTreasureBox_LockIdle",
						},
					],
					"onRemoved":
					[
						{
							"$type": "FireEffect",
							"effectPattern": "Eff_Item_SpecialTreasureBox_Unlock",
						},
					],
				},*/
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境 奥兹石板
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Ani_Prop_OzSlate_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "OzSlate_Idle"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "OzSlate_Active"
        }
      ],
      "modifiers": {
        "OzSlate_Idle": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_OzSlate_02"
            }
          ]
        },
        "OzSlate_Active": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_ScenObj_OzSlate_01"
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境 奥兹石板 中
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Ani_Prop_OzSlate_03",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "OzSlate_Idle"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "OzSlate_Active"
        }
      ],
      "modifiers": {
        "OzSlate_Idle": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_OzSlate_02",
              "scale": 0.75
            }
          ]
        },
        "OzSlate_Active": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_ScenObj_OzSlate_01",
              "scale": 0.75
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////////////////////////////////////////////////////////////////////
  //
  //	菲谢尔梦境 奥兹石板 小
  //
  //////////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Ani_Prop_OzSlate_02",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "OzSlate_Idle"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "OzSlate_Active"
        }
      ],
      "modifiers": {
        "OzSlate_Idle": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_OzSlate_02",
              "scale": 0.43
            }
          ]
        },
        "OzSlate_Active": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_ScenObj_OzSlate_01",
              "scale": 0.43
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 辛焱 水潭花
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Ani_Prop_WaterPoolFlower_01",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "WaterPoolFlower_Delay"
        }
      ],
      "modifiers": {
        "WaterPoolFlower_Delay": {
          "duration": 3.5,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "WaterPoolFlower_Eff"
            }
          ]
        },
        "WaterPoolFlower_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_WaterPoolFlower_01"
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 万叶地城 横板玩法ability
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_RegionAbility_Dreamland_KazuhaMovie",
      "isDynamicAbility": true,
      "abilityMixins": [
        {
          "$type": "TriggerPostProcessEffectMixin",
          "postEffectAssetName": "PostEffect_Activity_Dreamland_BlackFilm",
          "duration": 0
        }
      ]
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 鸟笼电梯（重力压板逻辑）
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Ani_Prop_BirdCageElevator_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "BirdCageElevator_Ready"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "BirdCageElevator_Move"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "BirdCageElevator_Off"
        },
        {
          //停止移动后，由这个modifer来将电梯切回default
          "$type": "PlatformMoveMixin",
          "isLogicMove": false,
          "moveModifiers": ["BirdCageElevator_ReadyDelayer"]
        }
      ],
      "modifiers": {
        "BirdCageElevator_ReadyDelayer": {
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "BirdCageElevator_ToReady"
            }
          ]
        },
        "BirdCageElevator_ToReady": {
          "duration": 3,
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0
            }
          ]
        },
        "Delay_To_State201": {
          "stacking": "Unique",
          "duration": 2.1,
          "thinkInterval": 2,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_WAITING",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Emission",
              "canBeHandledOnRecover": true,
              "patternName": "_EmissionStrength",
              "useCurve": true,
              "lerpCurveIndex": 0,
              "lerpTime": 2,
              "value": 4
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_WAITING",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ],
          "onThinkInterval": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 201
            }
          ]
        },
        "BirdCageElevator_Ready": {
          "onAdded": [],
          "thinkInterval": 0.5,
          "onThinkInterval": [
            //每次计算前先清零
            {
              "$type": "SetGlobalValue",
              "key": "TOTAL_WEIGHT",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            {
              "$type": "SumTargetWeightToSelfGlobalValue",
              "key": "TOTAL_WEIGHT",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR0_9H1_2",
                "centerBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "Self"
              }
            },
            //根据重力设置状态
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "TOTAL_WEIGHT",
                  "value": 19,
                  "compareType": "LessAndEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ExecuteGadgetLua",
                  "param1": 0
                },
                {
                  "$type": "RemoveModifier",
                  "modifierName": "Delay_To_State201"
                },
                {
                  "$type": "SetMaterialParamFloatByTransform",
                  "matName": "Emission",
                  "canBeHandledOnRecover": true,
                  "patternName": "_EmissionStrength",
                  "value": 0
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Delay_To_State201",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_IN_GEARSTART",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    },
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_DENY",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    },
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_IN_WAITING",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },
        "BirdCageElevator_Move": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Emission",
              "canBeHandledOnRecover": true,
              "patternName": "_EmissionStrength",
              "value": 4
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_ScenObj_BirdCageElevator_01"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_GEARSTART",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetGlobalValue",
              "key": "_IS_DENY",
              "value": 1,
              "otherTargets": {
                "$type": "SelectTargetsBySelfGroup",
                "operation": "OR",
                "value": 1, //markflag为1是开关，
                "compareType": "Equal"
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_GEARSTART",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetGlobalValue",
              "key": "_IS_DENY",
              "value": 0,
              "otherTargets": {
                "$type": "SelectTargetsBySelfGroup",
                "operation": "OR",
                "value": 1, //markflag为1是开关，
                "compareType": "Equal"
              }
            }
          ]
        },
        "BirdCageElevator_Off": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Emission",
              "canBeHandledOnRecover": true,
              "patternName": "_EmissionStrength",
              "value": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_IS_DENY",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_DENY",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////////
  //
  // 鸟笼电梯 开关（重力压板逻辑）
  //
  ///////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Area_Common_Property_Ani_Prop_BirdCageElevator_02",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "BirdCageElevator_SwitchReady"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "BirdCageElevator_SwitchOn"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "BirdCageElevator_SwitchOff"
        }
      ],
      "modifiers": {
        "Delay_To_State201": {
          "stacking": "Unique",
          "duration": 2.1,
          "thinkInterval": 2,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_WAITING",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Emission",
              "canBeHandledOnRecover": true,
              "patternName": "_EmissionStrength",
              "useCurve": true,
              "lerpCurveIndex": 0,
              "lerpTime": 2,
              "value": 4
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_WAITING",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ],
          "onThinkInterval": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 201
            }
          ]
        },
        "BirdCageElevator_SwitchOn": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Emission",
              "canBeHandledOnRecover": true,
              "patternName": "_EmissionStrength",
              "value": 4
            },
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_GEARSTART",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetGlobalValue",
              "key": "_IS_DENY",
              "value": 1,
              "otherTargets": {
                "$type": "SelectTargetsBySelfGroup",
                "operation": "OR",
                "value": 2, //markflag为1是开关，2是电梯
                "compareType": "Equal"
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_GEARSTART",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetGlobalValue",
              "key": "_IS_DENY",
              "value": 0,
              "otherTargets": {
                "$type": "SelectTargetsBySelfGroup",
                "operation": "OR",
                "value": 2, //markflag为1是开关，
                "compareType": "Equal"
              }
            }
          ]
        },
        "BirdCageElevator_SwitchOff": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Emission",
              "canBeHandledOnRecover": true,
              "patternName": "_EmissionStrength",
              "value": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_IS_DENY",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_IS_DENY",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        "BirdCageElevator_SwitchReady": {
          "onAdded": [
            {
              "$type": "SetMaterialParamFloatByTransform",
              "matName": "Emission",
              "canBeHandledOnRecover": true,
              "patternName": "_EmissionStrength",
              "value": 0
            }
          ],
          "thinkInterval": 0.5,
          "onThinkInterval": [
            //每次计算前先清零
            {
              "$type": "SetGlobalValue",
              "key": "TOTAL_WEIGHT",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            {
              "$type": "SumTargetWeightToSelfGlobalValue",
              "key": "TOTAL_WEIGHT",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR0_9H1_2",
                "centerBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "Self"
              }
            },
            //根据重力设置状态
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "TOTAL_WEIGHT",
                  "value": 19,
                  "compareType": "LessAndEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ExecuteGadgetLua",
                  "param1": 0
                },
                {
                  "$type": "RemoveModifier",
                  "modifierName": "Delay_To_State201"
                },
                {
                  "$type": "SetMaterialParamFloatByTransform",
                  "matName": "Emission",
                  "canBeHandledOnRecover": true,
                  "patternName": "_EmissionStrength",
                  "value": 0
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Delay_To_State201",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_IN_GEARSTART",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    },
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_DENY",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    },
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_IN_WAITING",
                      "value": 0,
                      "compareType": "NoneOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    }
  }
]
