[
  ////////////////////////////////////////////////////////////////////
  //
  //	陨石点名器
  //	关联ID：
  //
  ////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Environment_Collision_MeteoriteDebuffController",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "AddDebuff"
        }
      ],
      "abilitySpecials": {},
      "modifiers": {
        "AddDebuff": {
          "duration": 10,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "DebuffTimer",
              "target": "CurLocalAvatar"
            }
          ]
        },

        "DebuffTimer": {
          "duration": 5,
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Element_Crystal_Ice_Shield"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_BombBarrel_01_Explode"
            },
            {
              "$type": "CreateGadget",
              "campID": 5001,
              "gadgetID": 70900360,
              "born": {
                "$type": "ConfigBornBySelf"
              },
              "onGround": true
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////////
  //
  //	陨石屏障
  //	关联ID：
  //
  ////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Environment_Collision_MeteoriteSeal",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Eff_Barrier"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "DeBuffController"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Timmer"
        }
      ],
      "abilitySpecials": {
        "DebuffDuration": 20
      },
      "modifiers": {
        "Timmer": {
          "duration": "%DebuffDuration",
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },
        "Eff_Barrier": {
          "elementType": "None",
          "elementDurability": 150,
          "modifierMixins": [
            {
              "$type": "ShieldBarMixin"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Debuff_01_Imprison"
            }
          ],
          "onBeingHit": [
            {
              "$type": "AddElementDurability",
              "modifierName": "Eff_Barrier",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 150.0,
              "minValue": 0.0
            },
            {
              "$type": "SetGlobalDir",
              "target": "Self",
              "key": "_AVATAR_HIT_DIR",
              "born": {
                "$type": "ConfigBornByHitPoint",
                "direction": {
                  "$type": "ConfigDirectionByBackToHitBoxCenter"
                }
              },
              "setTarget": false
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Aster_Debuff_01_ImprisonHit", //护盾受击特效
              "born": {
                "$type": "ConfigBornByHitPoint",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByBackToHitBoxCenter"
                },
                "onGround": true
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ],
          "onKill": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Aster_Debuff_01_ImprisonBroken"
            }
          ]
        },

        "DeBuffController": {
          "onAdded": [
            //给圈内的玩家上Debuff
            {
              "$type": "AttachModifier",
              "modifierName": "AttackDebuff",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR6",
                "centerBasedOn": "Self",
                "campTargetType": "All",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onKill": []
        },

        "AttackDebuff": {
          "duration": "%DebuffDuration",
          "stacking": "Refresh",
          "isLimitedProperties": true,
          "state": "SpeedDown",
          "properties": {
            "Actor_AttackRatio": -0.8
          }
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////////
  //
  //	大陨石
  //	关联ID：
  //
  ////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Aster_BigAster",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "IS_BIG_ASTER",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "GearDefault"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Mode1"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "Mode2"
        }
      ],
      "abilitySpecials": {
        "curteamscore": 0.0
      },
      "modifiers": {
        "Mode1": {
          "onAdded": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "floatID": "Blend",
              "value": 1,
              "MPTriggerOnRemote": true
            },
            //陨石常驻特效
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_Idle",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "attachPoint"
                //"alongGround": true,
              }
            }
          ]
        },

        "Mode2": {
          "onAdded": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "floatID": "Blend",
              "value": 1,
              "MPTriggerOnRemote": true
            }
          ]
        },

        "GearDefault": {
          "onAdded": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "floatID": "Blend",
              "value": 0,
              "MPTriggerOnRemote": true
            }
          ]
        }
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  陨石 怪物死亡给附近玩家加分
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "MonsterAffix_Aster_Score",
      "onKill": [
        {
          "$type": "ApplyModifier",
          "modifierName": "AddScore_To_CurAvatar",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR5",
            "centerBasedOn": "Self",
            "campTargetType": "Enemy",
            "campBasedOn": "Self",
            "sortType": "Nearest"
          },
          "predicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ]
        }
      ],
      "modifiers": {
        "AddScore_To_CurAvatar": {
          "duration": 0.5,
          "stacking": "Refresh",
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "AVATAR_ASTER_SCORE",
              "target": "Team",
              "value": 10,
              "useLimitRange": true,
              "maxValue": 100,
              "minValue": 0
            }
            // {
            // 	"$type":"AddElementDurability",//加分时更新一下计数条
            // 	"value":-20,
            // 	"modifierName":"Dummy_Ready",
            // 	"elementType":"Wind",
            // 	"useLimitRange":true,
            // 	"maxValue":101,
            // 	"minValue":1,
            // 	"otherTargets":
            // 	{
            //            "$type": "SelectTargetsByShape",
            //            "shapeName": "CircleR2",
            //            "centerBasedOn": "Self",
            //            "campTargetType": "All",
            //            "campBasedOn": "Self",
            //        },
            //       "predicates":
            // 	[
            // 		{
            // 			"$type": "ByTargetGlobalValue",
            // 			"key": "IS_SCOREDUMMY",
            // 			"value": 1,
            // 			"compareType": "Equal",
            // 		},
            // 	],
            // 	"doOffStage":true,
            // },
          ]
        }
      }
    }
  },

  //////////////////////////////////
  //
  //  大陨石分数提交器
  //
  //////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Aster_UpLoader",
      "onFieldEnter": [
        {
          "$type": "ApplyModifier",
          "target": "Target",
          "modifierName": "SetAbilityEnableT"
        }
      ],
      "onFieldExit": [
        {
          "$type": "ApplyModifier",
          "target": "Target",
          "modifierName": "SetAbilityEnableF"
        }
      ],
      "onKill": [
        {
          "$type": "ApplyModifier",
          "modifierName": "SetAbilityEnableF",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR5",
            "centerBasedOn": "Self",
            "campTargetType": "Enemy",
            "campBasedOn": "Self"
          },
          "predicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ]
        }
      ],
      "modifiers": {
        "SetAbilityEnableT": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetExtraAbilityEnable",
              "enable": true
            }
          ]
        },
        "SetAbilityEnableF": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetExtraAbilityEnable",
              "enable": false
            }
          ]
        }
      }
    }
  },

  //////////////////////////////////
  //
  //  大陨石分数提交器
  //
  //////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Aster_UpLoader_Small",
      "onFieldEnter": [
        {
          "$type": "ApplyModifier",
          "target": "Target",
          "modifierName": "SetAbilityEnableT"
        }
      ],
      "onFieldExit": [
        {
          "$type": "ApplyModifier",
          "target": "Target",
          "modifierName": "SetAbilityEnableF"
        }
      ],
      "onKill": [
        {
          "$type": "ApplyModifier",
          "modifierName": "SetAbilityEnableF",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR2",
            "centerBasedOn": "Self",
            "campTargetType": "Enemy",
            "campBasedOn": "Self"
          },
          "predicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ]
        }
      ],
      "modifiers": {
        "SetAbilityEnableT": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetExtraAbilityEnable",
              "enable": true
            }
          ]
        },
        "SetAbilityEnableF": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetExtraAbilityEnable",
              "enable": false
            }
          ]
        }
      }
    }
  },
  //////////////////////////////////
  //
  //  大陨石玩家计分dummy
  //
  //////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Aster_ScoreDummy",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Dummy_Ready" //关卡初始化的时候标记Dummy已经创建完成
        },
        {
          "$type": "AddGlobalValue",
          "key": "IS_SCOREDUMMY",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "key": "DUMMY_ASTER_SCORE",
          "value": 0,
          "useLimitRange": true,
          "maxValue": 100,
          "minValue": 0
        }
      ],
      "abilitySpecials": {
        "dummyscore": 0.0
      },
      "modifiers": {
        "Dummy_Ready": {
          "elementType": "Wind",
          "elementDurability": 101,
          "modifierMixins": [
            {
              "$type": "ShieldBarMixin",
              "revert": true
            }
          ],
          "onAdded": [
            //每次上modifer更新下自身计分条显示
            {
              "$type": "AddGlobalValueToTarget",
              "srcTarget": "Team",
              "dstTarget": "Self",
              "srcKey": "AVATAR_ASTER_SCORE",
              "dstKey": "DUMMY_ASTER_SCORE"
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "ASTER_CUR",
              "overrideMapKey": "curteamscore"
            },
            {
              "$type": "AddElementDurability",
              "value": "0-%dummyscore",
              "modifierName": "Dummy_Ready",
              "elementType": "Wind",
              "useLimitRange": true,
              "maxValue": 101,
              "minValue": 1,
              "doOffStage": true
            },

            {
              "$type": "DamageByAttackValue",
              "target": "Self",
              "attackInfo": {
                "attackProperty": {
                  "damageExtra": 1
                }
              }
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////////
  //
  //	大陨石playentity  简单
  //	关联ID：
  //
  ////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Aster_PlayEntity_Esay",
      "onAbilityStart": [
        //这里要强行切一下角色的动画状态
        {
          "$type": "SetAnimatorTrigger",
          "target": "CurLocalAvatar",
          "triggerID": "StartChannelTrigger"
        }
      ],
      "onKill": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_SkillButtonController"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "AvatarInChannel"
        }
      ],
      "onAdded": [
        //技能显示管理
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_SkillButtonController"
        },

        //分数初始化
        {
          "$type": "AttachModifier",
          "modifierName": "Init",
          "target": "Team"
        },

        //玩家状态管理
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_AvatarStateController",
          "target": "Team"
        },

        //挂载BUFF监听器，用于接收lua层发送的点名
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_PlayerNotify"
        },
        //嘲讽监听
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_TuntController"
        },

        {
          "$type": "SetGlobalValue",
          "key": "AVATAR_ASTER_SCORE",
          "value": 0
        }
      ],
      "abilitySpecials": {
        "MaxScore": 200,
        "SubScore": -0.3,
        "CurScore": 0
      },
      "modifiers": {
        "Init": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "AVATAR_ASTER_SCORE",
              "target": "Team",
              "value": 0
            }
          ]
        },
        ////////////////////////////////////////技能按键管理////////////////////////////////////////////////////////

        "UNIQUE_SkillButtonController": {
          "isUnique": true,
          "onAdded": [
            //显示按键
            {
              "$type": "ShowExtraAbility",
              "skillID": 20003
            },
            {
              "$type": "SetExtraAbilityEnable",
              "enable": false
            }
          ],
          "onRemoved": [
            //隐藏按键
            {
              "$type": "ShowExtraAbility",
              "skillID": 0
            }
          ]
        },
        /////////////////////////////////////////按键管理结束//////////////////////////////////////////////////

        ////////////////////////////////////////嘲讽监听/////////////////////////////////////////////////////////////

        "UNIQUE_TuntController": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "AVATAR_ASTER_SCORE",
              "valueSteps": [0, 99.5, 100.5],
              "modifierNameSteps": ["Blank", "SetTaunt"]
            }
          ]
        },

        "Blank": {},

        "SetTaunt": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "target": "CurLocalAvatar",
              "modifierName": "Avatar_Taunt"
            }
          ]
        },

        "Avatar_Taunt": {
          "onAdded": [
            {
              "$type": "TriggerTaunt",
              "careValue": 50,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR25",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                }
              ]
            }
          ]
        },

        ////////////////////////////////////////点名监听部分///////////////////////////////////////////////////////////

        "UNIQUE_PlayerNotify": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            //通过点名清空自己分数
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "clear_energy",
              "opType": 1,
              "logic": "Equal",
              "actions": [
                //清空自己的分数
                {
                  "$type": "AddGlobalValue",
                  "key": "AVATAR_ASTER_SCORE",
                  "target": "Team",
                  "value": 0,
                  "useLimitRange": true,
                  "maxValue": 0,
                  "minValue": 0
                }
              ]
            },

            //通过点名上BUFF
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 1,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_DamageUp_Arua",
                  "target": "Team"
                }
              ]
            },
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 2,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_ChannelBlock_Arua",
                  "target": "Team"
                }
              ]
            },
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 3,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_ScoreMult_Arua",
                  "target": "Team"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 4,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_DebuffTimer_Team",
                  "target": "Team"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 5,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_UperScoreMult_Arua",
                  "target": "Team"
                }
              ]
            }
          ]
        },

        "UNIQUE_DebuffTimer_Team": {
          "duration": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "DebuffTimer"
            }
          ]
        },

        "DebuffTimer": {
          "onAdded": [
            //放一个循环特效
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Debuff_01"
            }
          ],
          "onRemoved": [
            {
              "$type": "CreateGadget",
              "byServer": true,
              "gadgetID": 70900360,
              "born": {
                "$type": "ConfigBornBySelf"
              },
              "onGround": true
            }
          ]
        },

        "UNIQUE_Team_DamageUp_Arua": {
          "duration": 120,
          "thinkInterval": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_DamageUp_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "DamageUp",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "DamageUp",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "Team_DamageUp_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },
        "DamageUp": {
          "stacking": "Refresh",
          "duration": 5.5,
          "state": "AttackUp",
          "isLimitedProperties": true,
          "buffID": 10001,
          "properties": {
            "Actor_AttackRatio": 0.8
          },
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_MQ1002_XueyueBuff"
            }
          ]
        },

        "UNIQUE_Team_ChannelBlock_Arua": {
          "duration": 30,
          "thinkInterval": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_ChannelBlock_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ChannelBlock",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ChannelBlock",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "ChannelBlock": {
          "stacking": "Refresh",
          "duration": 5.5,
          "properties": {
            "Actor_EndureDelta": 10
          },
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_MQ1002_XueyueBuff"
            },
            {
              "$type": "AddGlobalValue",
              "key": "CHANNEL_BLOCK",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "CHANNEL_BLOCK",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ]
        },
        "Team_ChannelBlock_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },

        "UNIQUE_Team_ScoreMult_Arua": {
          "duration": 120,
          "isUnique": true,
          "stacking": "Unique",
          "thinkInterval": 5,
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_ScoreMult_Arua_Eff"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ScoreMult",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ScoreMult",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "ScoreMult": {
          "duration": 6,
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02"
            },
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_PROGRESS_RATIO",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_PROGRESS_RATIO",
              "value": 0
            }
          ]
        },
        "Team_ScoreMult_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Circle"
            }
          ]
        },

        "UNIQUE_Team_UperScoreMult_Arua": {
          "duration": 120,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_UperScoreMult_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_ENERGY_RATIO",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_ENERGY_RATIO",
              "value": 0
            }
          ]
        },
        "Team_UperScoreMult_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },

        //////////////////////////////////////点名监听部分结束/////////////////////////////////////////////////////

        ////////////////////////////////////////玩家状态管理/////////////////////////////////////////////////////////

        "UNIQUE_AvatarStateController": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Avatar_State"
            },
            {
              "$type": "ServerUpdateGlobalValueMixin",
              "key": "AVATAR_ASTER_SCORE",
              "useLimitRange": true,
              "minValue": 0,
              "maxValue": "%MaxScore"
            }
          ]
        },

        "Avatar_State": {
          "modifierMixins": [
            {
              "$type": "AttachToStateIDMixin",
              "stateIDs": ["Channel_Loop", "Channel_AS", "Channel_BS"],
              "modifierName": "AvatarInChannel"
            }
          ]
        },

        "AvatarInChannel": {
          "stacking": "Unique",
          "thinkInterval": 5,
          "onAdded": [
            //切换下按键状态
            {
              "$type": "SetExtraAbilityState",
              "target": "Caster",
              "state": "Start"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "LineEff_FindAster",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            // {
            // 	"$type" : "AttachEffect",
            // 	"effectPattern" : "Eff_SceneObj_AsterLarge_Recevie",
            // 	"target" : "Self",
            // 	"born" :
            // 	{
            // 		"$type":"ConfigBornByGlobalValue",
            // 		"positionKey":"_ASTER_POS",
            // 	},
            // },
            //标记读条开始
            {
              "$type": "SetGlobalValue",
              "key": "CHARGE_SUCCESS",
              "target": "CurLocalAvatar",
              "value": 0
            },

            //通过group找到大陨石，播一个循环特效
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_Active",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ],
          "onThinkInterval": [
            //读条结束，打上标记remove自己
            {
              "$type": "SetGlobalValue",
              "key": "CHARGE_SUCCESS",
              "target": "CurLocalAvatar",
              "value": 1
            },

            // {
            // 	"$type": "SetExtraAbilityState",
            // 	"state": "Success",
            // },

            //提交完成放个特效庆祝下
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_RecevieFinish",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            {
              "$type": "ServerLuaCall",
              "target": "Team",
              "luaCallType": "CurScenePlay",
              "funcName": "UpdateAsterProgress"
            },

            //这里要强行切一下角色的动画状态
            {
              "$type": "SetAnimatorTrigger",
              "target": "CurLocalAvatar",
              "triggerID": "EndChannelTrigger"
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "AvatarInChannel"
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "CurLocalAvatar",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHANNEL_BLOCK",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                //把算好的分数同步回team
                {
                  "$type": "CopyGlobalValue",
                  "srcTarget": "Team",
                  "dstTarget": "Caster",
                  "srcKey": "AVATAR_ASTER_SCORE",
                  "dstKey": "AVATAR_ASTER_SCORE"
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "target": "Caster",
                  "globalValueKey": "AVATAR_ASTER_SCORE",
                  "overrideMapKey": "CurScore"
                },
                {
                  "$type": "ServerLuaCall",
                  "target": "Team",
                  "luaCallType": "CurScenePlay",
                  "funcName": "UpdateAsterInterrupt"
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "AVATAR_ASTER_SCORE",
                  "target": "Team",
                  "value": "0.7*%CurScore"
                },
                {
                  "$type": "SetAnimatorTrigger",
                  "target": "CurLocalAvatar",
                  "triggerID": "EndChannelTrigger"
                },
                {
                  "$type": "RemoveModifier",
                  "target": "CurLocalAvatar",
                  "modifierName": "AvatarInChannel"
                }
              ],
              "failActions": []
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorTrigger",
              "target": "CurLocalAvatar",
              "triggerID": "EndChannelTrigger",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHARGE_SUCCESS",
                  "target": "CurLocalAvatar",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "SetExtraAbilityState",
              "state": "Interrupt",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHARGE_SUCCESS",
                  "target": "CurLocalAvatar",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "LineEff_FindAster": {
          "onAdded": [
            // {
            // 	"$type": "SetGlobalPos",
            // 	"target": "Applier",
            // 	"key": "_ASTER_POS",
            // 	"born":
            // 	{
            // 		"$type": "ConfigBornBySelf",
            // 		"offset":
            // 		{
            // 			"x": 0.0,
            // 			"y": 5.0,
            // 			"z": 0.0,
            // 		},
            // 	},
            // },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_Recevie",
              "target": "Applier",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffPoint",
                "attachPointTargetType": "Self"
              }
            }
          ]
        }
        //////////////////////////////////////////角色状态控制结束//////////////////////////////////////////////////////////////
      }
    }
  },
  ////////////////////////////////////////////////////////////////////
  //
  //	大陨石playentity  普通
  //	关联ID：
  //
  ////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Aster_PlayEntity_Normal",
      "onAbilityStart": [
        //这里要强行切一下角色的动画状态
        {
          "$type": "SetAnimatorTrigger",
          "target": "CurLocalAvatar",
          "triggerID": "StartChannelTrigger"
        }
      ],
      "onKill": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_SkillButtonController"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "AvatarInChannel"
        }
      ],
      "onAdded": [
        //技能显示管理
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_SkillButtonController"
        },

        //分数初始化
        {
          "$type": "AttachModifier",
          "modifierName": "Init",
          "target": "Team"
        },

        //玩家状态管理
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_AvatarStateController",
          "target": "Team"
        },

        //挂载BUFF监听器，用于接收lua层发送的点名
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_PlayerNotify"
        },
        //嘲讽监听
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_TuntController"
        },

        {
          "$type": "SetGlobalValue",
          "key": "AVATAR_ASTER_SCORE",
          "value": 0
        }
      ],
      "abilitySpecials": {
        "MaxScore": 200,
        "SubScore": -0.5,
        "CurScore": 0
      },
      "modifiers": {
        "Init": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "AVATAR_ASTER_SCORE",
              "target": "Team",
              "value": 0
            }
          ]
        },
        ////////////////////////////////////////技能按键管理////////////////////////////////////////////////////////

        "UNIQUE_SkillButtonController": {
          "isUnique": true,
          "onAdded": [
            //显示按键
            {
              "$type": "ShowExtraAbility",
              "skillID": 20004
            },
            {
              "$type": "SetExtraAbilityEnable",
              "enable": false
            }
          ],
          "onRemoved": [
            //隐藏按键
            {
              "$type": "ShowExtraAbility",
              "skillID": 0
            }
          ]
        },
        /////////////////////////////////////////按键管理结束//////////////////////////////////////////////////

        ////////////////////////////////////////嘲讽监听/////////////////////////////////////////////////////////////

        "UNIQUE_TuntController": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "AVATAR_ASTER_SCORE",
              "valueSteps": [0, 99.5, 100.5],
              "modifierNameSteps": ["Blank", "SetTaunt"]
            }
          ]
        },

        "Blank": {},

        "SetTaunt": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "target": "CurLocalAvatar",
              "modifierName": "Avatar_Taunt"
            }
          ]
        },

        "Avatar_Taunt": {
          "onAdded": [
            {
              "$type": "TriggerTaunt",
              "careValue": 50,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR25",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                }
              ]
            }
          ]
        },

        ////////////////////////////////////////点名监听部分///////////////////////////////////////////////////////////

        "UNIQUE_PlayerNotify": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            //通过点名清空自己分数
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "clear_energy",
              "opType": 1,
              "logic": "Equal",
              "actions": [
                //清空自己的分数
                {
                  "$type": "AddGlobalValue",
                  "key": "AVATAR_ASTER_SCORE",
                  "target": "Team",
                  "value": 0,
                  "useLimitRange": true,
                  "maxValue": 0,
                  "minValue": 0
                }
              ]
            },

            //通过点名上BUFF
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 1,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_DamageUp_Arua",
                  "target": "Team"
                }
              ]
            },
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 2,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_ChannelBlock_Arua",
                  "target": "Team"
                }
              ]
            },
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 3,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_ScoreMult_Arua",
                  "target": "Team"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 4,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_DebuffTimer_Team",
                  "target": "Team"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 5,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_UperScoreMult_Arua",
                  "target": "Team"
                }
              ]
            }
          ]
        },

        "UNIQUE_DebuffTimer_Team": {
          "duration": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "DebuffTimer"
            }
          ]
        },

        "DebuffTimer": {
          "onAdded": [
            //放一个循环特效
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Debuff_01"
            }
          ],
          "onRemoved": [
            {
              "$type": "CreateGadget",
              "byServer": true,
              "gadgetID": 70900360,
              "born": {
                "$type": "ConfigBornBySelf"
              },
              "onGround": true
            }
          ]
        },

        "UNIQUE_Team_DamageUp_Arua": {
          "duration": 30,
          "thinkInterval": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_DamageUp_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "DamageUp",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "DamageUp",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "Team_DamageUp_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },
        "DamageUp": {
          "stacking": "Refresh",
          "duration": 5.5,
          "state": "AttackUp",
          "isLimitedProperties": true,
          "buffID": 10001,
          "properties": {
            "Actor_AttackRatio": 0.8
          },
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_MQ1002_XueyueBuff"
            }
          ]
        },

        "UNIQUE_Team_ChannelBlock_Arua": {
          "duration": 30,
          "thinkInterval": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_ChannelBlock_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ChannelBlock",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ChannelBlock",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "ChannelBlock": {
          "stacking": "Refresh",
          "duration": 5.5,
          "properties": {
            "Actor_EndureDelta": 10
          },
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_MQ1002_XueyueBuff"
            },
            {
              "$type": "AddGlobalValue",
              "key": "CHANNEL_BLOCK",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "CHANNEL_BLOCK",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ]
        },
        "Team_ChannelBlock_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },

        "UNIQUE_Team_ScoreMult_Arua": {
          "duration": 30,
          "isUnique": true,
          "stacking": "Unique",
          "thinkInterval": 5,
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_ScoreMult_Arua_Eff"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ScoreMult",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ScoreMult",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "ScoreMult": {
          "duration": 6,
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02"
            },
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_PROGRESS_RATIO",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_PROGRESS_RATIO",
              "value": 0
            }
          ]
        },
        "Team_ScoreMult_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Circle"
            }
          ]
        },

        "UNIQUE_Team_UperScoreMult_Arua": {
          "duration": 30,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_UperScoreMult_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_ENERGY_RATIO",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_ENERGY_RATIO",
              "value": 0
            }
          ]
        },
        "Team_UperScoreMult_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },

        //////////////////////////////////////点名监听部分结束/////////////////////////////////////////////////////

        ////////////////////////////////////////玩家状态管理/////////////////////////////////////////////////////////

        "UNIQUE_AvatarStateController": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Avatar_State"
            },
            {
              "$type": "ServerUpdateGlobalValueMixin",
              "key": "AVATAR_ASTER_SCORE",
              "useLimitRange": true,
              "minValue": 0,
              "maxValue": "%MaxScore"
            }
          ]
        },

        "Avatar_State": {
          "modifierMixins": [
            {
              "$type": "AttachToStateIDMixin",
              "stateIDs": ["Channel_Loop", "Channel_AS", "Channel_BS"],
              "modifierName": "AvatarInChannel"
            }
          ]
        },

        "AvatarInChannel": {
          "stacking": "Unique",
          "thinkInterval": 5,
          "onAdded": [
            //切换下按键状态
            {
              "$type": "SetExtraAbilityState",
              "target": "Caster",
              "state": "Start"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "LineEff_FindAster",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            // {
            // 	"$type" : "AttachEffect",
            // 	"effectPattern" : "Eff_SceneObj_AsterLarge_Recevie",
            // 	"target" : "Self",
            // 	"born" :
            // 	{
            // 		"$type":"ConfigBornByGlobalValue",
            // 		"positionKey":"_ASTER_POS",
            // 	},
            // },
            //标记读条开始
            {
              "$type": "SetGlobalValue",
              "key": "CHARGE_SUCCESS",
              "target": "CurLocalAvatar",
              "value": 0
            },

            //通过group找到大陨石，播一个循环特效
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_Active",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ],
          "onThinkInterval": [
            //读条结束，打上标记remove自己
            {
              "$type": "SetGlobalValue",
              "key": "CHARGE_SUCCESS",
              "target": "CurLocalAvatar",
              "value": 1
            },

            // {
            // 	"$type": "SetExtraAbilityState",
            // 	"state": "Success",
            // },

            //提交完成放个特效庆祝下
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_RecevieFinish",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            {
              "$type": "ServerLuaCall",
              "target": "Team",
              "luaCallType": "CurScenePlay",
              "funcName": "UpdateAsterProgress"
            },

            //这里要强行切一下角色的动画状态
            {
              "$type": "SetAnimatorTrigger",
              "target": "CurLocalAvatar",
              "triggerID": "EndChannelTrigger"
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "AvatarInChannel"
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "CurLocalAvatar",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHANNEL_BLOCK",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                //把算好的分数同步回team
                {
                  "$type": "CopyGlobalValue",
                  "srcTarget": "Team",
                  "dstTarget": "Caster",
                  "srcKey": "AVATAR_ASTER_SCORE",
                  "dstKey": "AVATAR_ASTER_SCORE"
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "target": "Caster",
                  "globalValueKey": "AVATAR_ASTER_SCORE",
                  "overrideMapKey": "CurScore"
                },
                {
                  "$type": "ServerLuaCall",
                  "target": "Team",
                  "luaCallType": "CurScenePlay",
                  "funcName": "UpdateAsterInterrupt"
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "AVATAR_ASTER_SCORE",
                  "target": "Team",
                  "value": "0.5*%CurScore"
                },
                {
                  "$type": "SetAnimatorTrigger",
                  "target": "CurLocalAvatar",
                  "triggerID": "EndChannelTrigger"
                },
                {
                  "$type": "RemoveModifier",
                  "target": "CurLocalAvatar",
                  "modifierName": "AvatarInChannel"
                }
              ],
              "failActions": []
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorTrigger",
              "target": "CurLocalAvatar",
              "triggerID": "EndChannelTrigger",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHARGE_SUCCESS",
                  "target": "CurLocalAvatar",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "SetExtraAbilityState",
              "state": "Interrupt",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHARGE_SUCCESS",
                  "target": "CurLocalAvatar",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "LineEff_FindAster": {
          "onAdded": [
            // {
            // 	"$type": "SetGlobalPos",
            // 	"target": "Applier",
            // 	"key": "_ASTER_POS",
            // 	"born":
            // 	{
            // 		"$type": "ConfigBornBySelf",
            // 		"offset":
            // 		{
            // 			"x": 0.0,
            // 			"y": 5.0,
            // 			"z": 0.0,
            // 		},
            // 	},
            // },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_Recevie",
              "target": "Applier",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffPoint",
                "attachPointTargetType": "Self"
              }
            }
          ]
        }
        //////////////////////////////////////////角色状态控制结束//////////////////////////////////////////////////////////////
      }
    }
  },

  ////////////////////////////////////////////////////////////////////
  //
  //	大陨石playentity  困难
  //	关联ID：
  //
  ////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Aster_PlayEntity_Hard",
      "onAbilityStart": [
        //这里要强行切一下角色的动画状态
        {
          "$type": "SetAnimatorTrigger",
          "target": "CurLocalAvatar",
          "triggerID": "StartChannelTrigger"
        }
      ],
      "onKill": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_SkillButtonController"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "AvatarInChannel"
        }
      ],
      "onAdded": [
        //技能显示管理
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_SkillButtonController"
        },

        //分数初始化
        {
          "$type": "AttachModifier",
          "modifierName": "Init",
          "target": "Team"
        },

        //玩家状态管理
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_AvatarStateController",
          "target": "Team"
        },

        //挂载BUFF监听器，用于接收lua层发送的点名
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_PlayerNotify"
        },
        //嘲讽监听
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_TuntController"
        },

        {
          "$type": "SetGlobalValue",
          "key": "AVATAR_ASTER_SCORE",
          "value": 0
        }
      ],
      "abilitySpecials": {
        "MaxScore": 300,
        "SubScore": -1,
        "CurScore": 0
      },
      "modifiers": {
        "Init": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "AVATAR_ASTER_SCORE",
              "target": "Team",
              "value": 0
            }
          ]
        },
        ////////////////////////////////////////技能按键管理////////////////////////////////////////////////////////

        "UNIQUE_SkillButtonController": {
          "isUnique": true,
          "onAdded": [
            //显示按键
            {
              "$type": "ShowExtraAbility",
              "skillID": 20005
            },
            {
              "$type": "SetExtraAbilityEnable",
              "enable": false
            }
          ],
          "onRemoved": [
            //隐藏按键
            {
              "$type": "ShowExtraAbility",
              "skillID": 0
            }
          ]
        },
        /////////////////////////////////////////按键管理结束//////////////////////////////////////////////////

        ////////////////////////////////////////嘲讽监听/////////////////////////////////////////////////////////////

        "UNIQUE_TuntController": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "AVATAR_ASTER_SCORE",
              "valueSteps": [0, 99.5, 100.5],
              "modifierNameSteps": ["Blank", "SetTaunt"]
            }
          ]
        },

        "Blank": {},

        "SetTaunt": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "target": "CurLocalAvatar",
              "modifierName": "Avatar_Taunt"
            }
          ]
        },

        "Avatar_Taunt": {
          "onAdded": [
            {
              "$type": "TriggerTaunt",
              "careValue": 50,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR25",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                }
              ]
            }
          ]
        },

        ////////////////////////////////////////点名监听部分///////////////////////////////////////////////////////////

        "UNIQUE_PlayerNotify": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            //通过点名清空自己分数
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "clear_energy",
              "opType": 1,
              "logic": "Equal",
              "actions": [
                //清空自己的分数
                {
                  "$type": "AddGlobalValue",
                  "key": "AVATAR_ASTER_SCORE",
                  "target": "Team",
                  "value": 0,
                  "useLimitRange": true,
                  "maxValue": 0,
                  "minValue": 0
                }
              ]
            },

            //通过点名上BUFF
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 1,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_DamageUp_Arua",
                  "target": "Team"
                }
              ]
            },
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 2,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_ChannelBlock_Arua",
                  "target": "Team"
                }
              ]
            },
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 3,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_ScoreMult_Arua",
                  "target": "Team"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 4,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_DebuffTimer_Team",
                  "target": "Team"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 5,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_UperScoreMult_Arua",
                  "target": "Team"
                }
              ]
            }
          ]
        },

        "UNIQUE_DebuffTimer_Team": {
          "duration": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "DebuffTimer"
            }
          ]
        },

        "DebuffTimer": {
          "onAdded": [
            //放一个循环特效
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Debuff_01"
            }
          ],
          "onRemoved": [
            {
              "$type": "CreateGadget",
              "byServer": true,
              "gadgetID": 70900360,
              "born": {
                "$type": "ConfigBornBySelf"
              },
              "onGround": true
            }
          ]
        },

        "UNIQUE_Team_DamageUp_Arua": {
          "duration": 30,
          "thinkInterval": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_DamageUp_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "DamageUp",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "DamageUp",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "Team_DamageUp_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },
        "DamageUp": {
          "stacking": "Refresh",
          "duration": 6,
          "state": "AttackUp",
          "isLimitedProperties": true,
          "buffID": 10001,
          "properties": {
            "Actor_AttackRatio": 0.8
          },
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_MQ1002_XueyueBuff"
            }
          ]
        },

        "UNIQUE_Team_ChannelBlock_Arua": {
          "duration": 30,
          "thinkInterval": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_ChannelBlock_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ChannelBlock",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ChannelBlock",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "ChannelBlock": {
          "stacking": "Refresh",
          "duration": 5.5,
          "properties": {
            "Actor_EndureDelta": 10
          },
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_MQ1002_XueyueBuff"
            },
            {
              "$type": "AddGlobalValue",
              "key": "CHANNEL_BLOCK",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "CHANNEL_BLOCK",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ]
        },
        "Team_ChannelBlock_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },

        "UNIQUE_Team_ScoreMult_Arua": {
          "duration": 30,
          "isUnique": true,
          "stacking": "Unique",
          "thinkInterval": 5,
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_ScoreMult_Arua_Eff"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ScoreMult",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ScoreMult",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "ScoreMult": {
          "duration": 6,
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02"
            },
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_PROGRESS_RATIO",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_PROGRESS_RATIO",
              "value": 0
            }
          ]
        },
        "Team_ScoreMult_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Circle"
            }
          ]
        },

        "UNIQUE_Team_UperScoreMult_Arua": {
          "duration": 30,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_UperScoreMult_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_ENERGY_RATIO",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_ENERGY_RATIO",
              "value": 0
            }
          ]
        },
        "Team_UperScoreMult_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },

        //////////////////////////////////////点名监听部分结束/////////////////////////////////////////////////////

        ////////////////////////////////////////玩家状态管理/////////////////////////////////////////////////////////

        "UNIQUE_AvatarStateController": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Avatar_State"
            },
            {
              "$type": "ServerUpdateGlobalValueMixin",
              "key": "AVATAR_ASTER_SCORE",
              "useLimitRange": true,
              "minValue": 0,
              "maxValue": "%MaxScore"
            }
          ]
        },

        "Avatar_State": {
          "modifierMixins": [
            {
              "$type": "AttachToStateIDMixin",
              "stateIDs": ["Channel_Loop", "Channel_AS", "Channel_BS"],
              "modifierName": "AvatarInChannel"
            }
          ]
        },

        "AvatarInChannel": {
          "stacking": "Unique",
          "thinkInterval": 5,
          "onAdded": [
            //切换下按键状态
            {
              "$type": "SetExtraAbilityState",
              "target": "Caster",
              "state": "Start"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "LineEff_FindAster",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            // {
            // 	"$type" : "AttachEffect",
            // 	"effectPattern" : "Eff_SceneObj_AsterLarge_Recevie",
            // 	"target" : "Self",
            // 	"born" :
            // 	{
            // 		"$type":"ConfigBornByGlobalValue",
            // 		"positionKey":"_ASTER_POS",
            // 	},
            // },
            //标记读条开始
            {
              "$type": "SetGlobalValue",
              "key": "CHARGE_SUCCESS",
              "target": "CurLocalAvatar",
              "value": 0
            },

            //通过group找到大陨石，播一个循环特效
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_Active",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ],
          "onThinkInterval": [
            //读条结束，打上标记remove自己
            {
              "$type": "SetGlobalValue",
              "key": "CHARGE_SUCCESS",
              "target": "CurLocalAvatar",
              "value": 1
            },

            // {
            // 	"$type": "SetExtraAbilityState",
            // 	"state": "Success",
            // },

            //提交完成放个特效庆祝下
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_RecevieFinish",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            {
              "$type": "ServerLuaCall",
              "target": "Team",
              "luaCallType": "CurScenePlay",
              "funcName": "UpdateAsterProgress"
            },

            //这里要强行切一下角色的动画状态
            {
              "$type": "SetAnimatorTrigger",
              "target": "CurLocalAvatar",
              "triggerID": "EndChannelTrigger"
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "AvatarInChannel"
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "CurLocalAvatar",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHANNEL_BLOCK",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "AVATAR_ASTER_SCORE",
                  "target": "Team",
                  "value": 0
                },
                {
                  "$type": "ServerLuaCall",
                  "target": "Team",
                  "luaCallType": "CurScenePlay",
                  "funcName": "UpdateAsterInterrupt"
                },
                {
                  "$type": "SetAnimatorTrigger",
                  "target": "CurLocalAvatar",
                  "triggerID": "EndChannelTrigger"
                },
                {
                  "$type": "RemoveModifier",
                  "target": "CurLocalAvatar",
                  "modifierName": "AvatarInChannel"
                }
              ],
              "failActions": []
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorTrigger",
              "target": "CurLocalAvatar",
              "triggerID": "EndChannelTrigger",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHARGE_SUCCESS",
                  "target": "CurLocalAvatar",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "SetExtraAbilityState",
              "state": "Interrupt",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHARGE_SUCCESS",
                  "target": "CurLocalAvatar",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "LineEff_FindAster": {
          "onAdded": [
            // {
            // 	"$type": "SetGlobalPos",
            // 	"target": "Applier",
            // 	"key": "_ASTER_POS",
            // 	"born":
            // 	{
            // 		"$type": "ConfigBornBySelf",
            // 		"offset":
            // 		{
            // 			"x": 0.0,
            // 			"y": 5.0,
            // 			"z": 0.0,
            // 		},
            // 	},
            // },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_Recevie",
              "target": "Applier",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffPoint",
                "attachPointTargetType": "Self"
              }
            }
          ]
        }
        //////////////////////////////////////////角色状态控制结束//////////////////////////////////////////////////////////////
      }
    }
  },
  ////////////////////////////////////////////////////////////////////
  //
  //	大陨石playentity  单人
  //	关联ID：
  //
  ////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Aster_PlayEntity_Single",
      "onAbilityStart": [
        //这里要强行切一下角色的动画状态
        {
          "$type": "SetAnimatorTrigger",
          "target": "CurLocalAvatar",
          "triggerID": "StartChannelTrigger"
        }
      ],
      "onKill": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_SkillButtonController"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "AvatarInChannel"
        }
      ],
      "onAdded": [
        //技能显示管理
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_SkillButtonController"
        },

        //分数初始化
        {
          "$type": "AttachModifier",
          "modifierName": "Init",
          "target": "Team"
        },

        //玩家状态管理
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_AvatarStateController",
          "target": "Team"
        },

        //挂载BUFF监听器，用于接收lua层发送的点名
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_PlayerNotify"
        },
        //嘲讽监听
        {
          "$type": "AttachModifier",
          "target": "Team",
          "modifierName": "UNIQUE_TuntController"
        },

        {
          "$type": "SetGlobalValue",
          "key": "AVATAR_ASTER_SCORE",
          "value": 0
        }
      ],
      "abilitySpecials": {
        "MaxScore": 400,
        "SubScore": -0.3,
        "CurScore": 0
      },
      "modifiers": {
        "Init": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "AVATAR_ASTER_SCORE",
              "target": "Team",
              "value": 0
            }
          ]
        },
        ////////////////////////////////////////技能按键管理////////////////////////////////////////////////////////

        "UNIQUE_SkillButtonController": {
          "isUnique": true,
          "onAdded": [
            //显示按键
            {
              "$type": "ShowExtraAbility",
              "skillID": 20006
            },
            {
              "$type": "SetExtraAbilityEnable",
              "enable": false
            }
          ],
          "onRemoved": [
            //隐藏按键
            {
              "$type": "ShowExtraAbility",
              "skillID": 0
            }
          ]
        },
        /////////////////////////////////////////按键管理结束//////////////////////////////////////////////////

        ////////////////////////////////////////嘲讽监听/////////////////////////////////////////////////////////////

        "UNIQUE_TuntController": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "AVATAR_ASTER_SCORE",
              "valueSteps": [0, 99.5, 100.5],
              "modifierNameSteps": ["Blank", "SetTaunt"]
            }
          ]
        },

        "Blank": {},

        "SetTaunt": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "target": "CurLocalAvatar",
              "modifierName": "Avatar_Taunt"
            }
          ]
        },

        "Avatar_Taunt": {
          "onAdded": [
            {
              "$type": "TriggerTaunt",
              "careValue": 50,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR25",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                }
              ]
            }
          ]
        },

        ////////////////////////////////////////点名监听部分///////////////////////////////////////////////////////////

        "UNIQUE_PlayerNotify": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            //通过点名清空自己分数
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "clear_energy",
              "opType": 1,
              "logic": "Equal",
              "actions": [
                //清空自己的分数
                {
                  "$type": "AddGlobalValue",
                  "key": "AVATAR_ASTER_SCORE",
                  "target": "Team",
                  "value": 0,
                  "useLimitRange": true,
                  "maxValue": 0,
                  "minValue": 0
                }
              ]
            },

            //通过点名上BUFF
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 1,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_DamageUp_Arua",
                  "target": "Team"
                }
              ]
            },
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 2,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_ChannelBlock_Arua",
                  "target": "Team"
                }
              ]
            },
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 3,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_ScoreMult_Arua",
                  "target": "Team"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 4,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_DebuffTimer_Team",
                  "target": "Team"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_buff_aster",
              "opType": 5,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Team_UperScoreMult_Arua",
                  "target": "Team"
                }
              ]
            }
          ]
        },

        "UNIQUE_DebuffTimer_Team": {
          "duration": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "DebuffTimer"
            }
          ]
        },

        "DebuffTimer": {
          "onAdded": [
            //放一个循环特效
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Debuff_01"
            }
          ],
          "onRemoved": [
            {
              "$type": "CreateGadget",
              "byServer": true,
              "gadgetID": 70900360,
              "born": {
                "$type": "ConfigBornBySelf"
              },
              "onGround": true
            }
          ]
        },

        "UNIQUE_Team_DamageUp_Arua": {
          "duration": 30,
          "thinkInterval": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_DamageUp_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "DamageUp",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "DamageUp",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "Team_DamageUp_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },
        "DamageUp": {
          "stacking": "Refresh",
          "duration": 5.5,
          "state": "AttackUp",
          "isLimitedProperties": true,
          "buffID": 10001,
          "properties": {
            "Actor_AttackRatio": 0.8
          },
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_MQ1002_XueyueBuff"
            }
          ]
        },

        "UNIQUE_Team_ChannelBlock_Arua": {
          "duration": 30,
          "thinkInterval": 5,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_ChannelBlock_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ChannelBlock",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ChannelBlock",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "ChannelBlock": {
          "stacking": "Refresh",
          "duration": 5.5,
          "properties": {
            "Actor_EndureDelta": 10
          },
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_MQ1002_XueyueBuff"
            },
            {
              "$type": "AddGlobalValue",
              "key": "CHANNEL_BLOCK",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "CHANNEL_BLOCK",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ]
        },
        "Team_ChannelBlock_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },

        "UNIQUE_Team_ScoreMult_Arua": {
          "duration": 30,
          "isUnique": true,
          "stacking": "Unique",
          "thinkInterval": 5,
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_ScoreMult_Arua_Eff"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ScoreMult",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ],
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "CurLocalAvatar",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Wave"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ScoreMult",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "ScoreMult": {
          "duration": 6,
          "onAdded": [
            //放一个循环特效意思意思
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02"
            },
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_PROGRESS_RATIO",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_PROGRESS_RATIO",
              "value": 0
            }
          ]
        },
        "Team_ScoreMult_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_02_Circle"
            }
          ]
        },

        "UNIQUE_Team_UperScoreMult_Arua": {
          "duration": 30,
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Team_UperScoreMult_Arua_Eff"
            }
          ],
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_ENERGY_RATIO",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "ASTER_ENERGY_RATIO",
              "value": 0
            }
          ]
        },
        "Team_UperScoreMult_Arua_Eff": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Aster_Buff_01"
            }
          ]
        },

        //////////////////////////////////////点名监听部分结束/////////////////////////////////////////////////////

        ////////////////////////////////////////玩家状态管理/////////////////////////////////////////////////////////

        "UNIQUE_AvatarStateController": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Avatar_State"
            },
            {
              "$type": "ServerUpdateGlobalValueMixin",
              "key": "AVATAR_ASTER_SCORE",
              "useLimitRange": true,
              "minValue": 0,
              "maxValue": "%MaxScore"
            }
          ]
        },

        "Avatar_State": {
          "modifierMixins": [
            {
              "$type": "AttachToStateIDMixin",
              "stateIDs": ["Channel_Loop", "Channel_AS", "Channel_BS"],
              "modifierName": "AvatarInChannel"
            }
          ]
        },

        "AvatarInChannel": {
          "stacking": "Unique",
          "thinkInterval": 5,
          "onAdded": [
            //切换下按键状态
            {
              "$type": "SetExtraAbilityState",
              "target": "Caster",
              "state": "Start"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "LineEff_FindAster",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            // {
            // 	"$type" : "AttachEffect",
            // 	"effectPattern" : "Eff_SceneObj_AsterLarge_Recevie",
            // 	"target" : "Self",
            // 	"born" :
            // 	{
            // 		"$type":"ConfigBornByGlobalValue",
            // 		"positionKey":"_ASTER_POS",
            // 	},
            // },
            //标记读条开始
            {
              "$type": "SetGlobalValue",
              "key": "CHARGE_SUCCESS",
              "target": "CurLocalAvatar",
              "value": 0
            },

            //通过group找到大陨石，播一个循环特效
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_Active",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ],
          "onThinkInterval": [
            //读条结束，打上标记remove自己
            {
              "$type": "SetGlobalValue",
              "key": "CHARGE_SUCCESS",
              "target": "CurLocalAvatar",
              "value": 1
            },

            // {
            // 	"$type": "SetExtraAbilityState",
            // 	"state": "Success",
            // },

            //提交完成放个特效庆祝下
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_RecevieFinish",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "AllExceptSelf",
                "campBasedOn": "CurLocalAvatar"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IS_BIG_ASTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            {
              "$type": "ServerLuaCall",
              "target": "Team",
              "luaCallType": "CurScenePlay",
              "funcName": "UpdateAsterProgress"
            },

            //这里要强行切一下角色的动画状态
            {
              "$type": "SetAnimatorTrigger",
              "target": "CurLocalAvatar",
              "triggerID": "EndChannelTrigger"
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "AvatarInChannel"
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "CurLocalAvatar",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHANNEL_BLOCK",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                //把算好的分数同步回team
                {
                  "$type": "CopyGlobalValue",
                  "srcTarget": "Team",
                  "dstTarget": "Caster",
                  "srcKey": "AVATAR_ASTER_SCORE",
                  "dstKey": "AVATAR_ASTER_SCORE"
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "target": "Caster",
                  "globalValueKey": "AVATAR_ASTER_SCORE",
                  "overrideMapKey": "CurScore"
                },
                {
                  "$type": "ServerLuaCall",
                  "target": "Team",
                  "luaCallType": "CurScenePlay",
                  "funcName": "UpdateAsterInterrupt"
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "AVATAR_ASTER_SCORE",
                  "target": "Team",
                  "value": "0.7*%CurScore"
                },
                {
                  "$type": "SetAnimatorTrigger",
                  "target": "CurLocalAvatar",
                  "triggerID": "EndChannelTrigger"
                },
                {
                  "$type": "RemoveModifier",
                  "target": "CurLocalAvatar",
                  "modifierName": "AvatarInChannel"
                }
              ],
              "failActions": []
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorTrigger",
              "target": "CurLocalAvatar",
              "triggerID": "EndChannelTrigger",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHARGE_SUCCESS",
                  "target": "CurLocalAvatar",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "SetExtraAbilityState",
              "state": "Interrupt",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "CHARGE_SUCCESS",
                  "target": "CurLocalAvatar",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "LineEff_FindAster": {
          "onAdded": [
            // {
            // 	"$type": "SetGlobalPos",
            // 	"target": "Applier",
            // 	"key": "_ASTER_POS",
            // 	"born":
            // 	{
            // 		"$type": "ConfigBornBySelf",
            // 		"offset":
            // 		{
            // 			"x": 0.0,
            // 			"y": 5.0,
            // 			"z": 0.0,
            // 		},
            // 	},
            // },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_AsterLarge_Recevie",
              "target": "Applier",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "EffPoint",
                "attachPointTargetType": "Self"
              }
            }
          ]
        }
        //////////////////////////////////////////角色状态控制结束//////////////////////////////////////////////////////////////
      }
    }
  }
]
