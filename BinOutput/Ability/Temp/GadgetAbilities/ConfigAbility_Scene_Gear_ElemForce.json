[
  /*搬运元素之力*/
  /* 炼金GlobalValue定义区 */
  //_Team_Has_Chemistry_Step_1	Team炼金槽位1
  //_Team_Has_Chemistry_Step_2	Team炼金槽位2
  //_Team_Has_Chemistry_Step_3	Team炼金槽位3
  //_Team_Chemistry_Full_Flag		用于标记Team是否需要继续判断槽位
  //_Team_Chemistry_Forbid_Pick	用于标记Team是否允许拾取同类元素
  //_Team_Chemistry_Type			用于标记Team当前的元素携带类型
  //_Team_Chemistry_Value			Team上球的实际价值
  ////////////////////////////////////////////////////////
  //
  //	炼金成功BUFF
  //
  ////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_SuccessBuff",
      "modifiers": {
        "SERVER_SuccessBuff_Attack": {
          "stacking": "Multiple",
          "isLimitedProperties": true,
          "state": "AttackUp",
          "buffID": 10001,
          "properties": {
            "Actor_AttackRatio": 0.2
          }
        }
      }
    }
  },

  ////////////////////////////////////////////////////////
  //
  //	炼金初始化
  //
  ////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Initial",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "GlobalValueMannager"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "BulletCreater"
        }
      ],
      "modifiers": {
        "Initial": {
          "onAdded": [
            //初始化
            //移除Team炼金球
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },

            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },

            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },

            //带子弹标记清除
            {
              "$type": "AddGlobalValue",
              "key": "_HAS_ELEMFORCE_BULLET",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },

            //身上计分清除
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Sum_Inferior",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Sum_Superior",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },

            //身上元素类型清除
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Chemistry_Type",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },

            //爆发状态清除
            {
              "$type": "AddGlobalValue",
              "key": "_IS_IN_BURST",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },

            //收回元素标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Chemistry_Type",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Crucible_Initialized",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        "GlobalValueMannager": {
          "onKill": [
            {
              "$type": "ApplyModifier",
              "modifierName": "RemoveAllModifer",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR200",
                "centerBasedOn": "Self",
                "campTargetType": "Alliance",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "KillAllBullet",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR200",
                "centerBasedOn": "Self",
                "campTargetType": "Alliance",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },

        "KillAllBullet": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "RemoveAllModifer": {
          "duration": 0.5,
          "onAdded": [
            //回收team上的所有计数
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Crucible_Initialized",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            //收回元素标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ]
        },

        "BulletCreater": {
          "thinkInterval": 1,
          "onThinkInterval": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Initial",
              "target": "AllTeams",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Target",
                  "key": "_Team_Crucible_Initialized",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "CreateBulletForPlayer",
              "target": "AllTeams"
            }
          ],
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Initial",
              "target": "AllTeams"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "CreateBulletForPlayer",
              "target": "AllTeams"
            }
          ]
        },

        //给每个玩家上一个子弹
        "CreateBulletForPlayer": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            {
              "$type": "CreateGadget",
              "target": "CurLocalAvatar",
              "gadgetID": 70330010,
              "campID": 1001,
              "campTargetType": "Enemy",
              "ownerIs": "Other",
              //"byServer": true,
              "lifeByOwnerIsAlive": true,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_HAS_ELEMFORCE_BULLET",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            }
          ]
        }
      }
    }
  },

  ///////////////////////////////////////////////////
  //
  //	炼金炉
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Base",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Default_0"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "Check_Around_Target"
        },
        // {
        // 	"$type": "AttachToGadgetStateMixin",
        // 	"gadgetState": 201,
        // 	"modifierName": "Add_Taunt_To_Player",
        // },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "ChallengeFailed"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 203,
          "modifierName": "ChallengeSuccess"
        }
      ],
      "abilitySpecials": {
        "BurstDuration": 60,
        "Cur_Inferior_Num": 0,
        "Cur_Superior_Num": 0,
        "Cur_Chemistry_Type": 0
      },
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "StageManager"
        }
      ],
      "modifiers": {
        "Default_0": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Default_Material"
            },
            {
              "$type": "SetAnimatorInt",
              "target": "Self",
              "intID": "gadgetState",
              "value": 0,
              "MPTriggerOnRemote": true
            }
          ]
        },
        "Add_Taunt_To_Player": {
          "thinkInterval": 20,
          "onThinkInterval": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Taunting",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR20",
                "centerBasedOn": "Self",
                "campTargetType": "All",
                "campBasedOn": "Self",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "Taunting": {
          "onAdded": [
            {
              "$type": "TriggerTaunt",
              "careValue": 50,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR25",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                }
              ]
            }
          ]
        },

        "KillMonster": {
          "duration": 0.4,
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        // "SuccessBuff_Attack":
        // {
        // 	"isLimitedProperties": true,
        // 	"state": "AttackUp",
        // 	"properties":
        // 	{
        // 		"Actor_AttackRatio": 0.2,
        // 	},
        // },

        // "SuccessBuff_Attack_Team":
        // {
        // 	"duration": 30,
        // 	"modifierMixins":
        // 	[
        // 		{
        // 			"$type": "ApplyModifierWithSharedDurabilityMixin",
        // 			"modifierName": "SuccessBuff_Attack",
        // 		},
        // 	],
        // },

        "ChallengeSuccess": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Default_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Water_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Fire_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Ice_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Wind_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Electric_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Rock_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Grass_Material"
            },

            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 0,
              "MPTriggerOnRemote": true
            },
            {
              "$type": "SetAnimatorInt",
              "target": "Self",
              "intID": "gadgetState",
              "value": 203,
              "MPTriggerOnRemote": true
            }
          ]
        },
        "ChallengeFailed": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "target": "AllTeams",
              "key": "_Crucible_Grume_Player_Sum_Superior",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "AllTeams",
              "key": "_Crucible_Grume_Player_Sum_Inferior",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "AllTeams",
              "key": "_Team_Crucible_Initialized",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },

            {
              "$type": "SetAnimatorInt",
              "target": "Self",
              "intID": "gadgetState",
              "value": 202,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "Water_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Fire_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Ice_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Wind_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Electric_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Rock_Material"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Grass_Material"
            }
          ]
        },
        //默认底座特效
        "Default_Material": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Base_Main"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Core_Main"
            }
          ]
        },
        //火爆发
        "Fire_Material": {
          "duration": "%BurstDuration",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Base_Fire"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Core_Fire"
            },
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 1,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "Default_Material"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 0,
              "MPTriggerOnRemote": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Default_Material"
            }
          ]
        },

        //雷爆发
        "Electric_Material": {
          "duration": "%BurstDuration",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Base_Electric"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Core_Electric"
            },
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 1,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "Default_Material"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 0,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "ApplyModifier",
              "modifierName": "Default_Material"
            }
          ]
        },

        //冰爆发
        "Ice_Material": {
          "duration": "%BurstDuration",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Base_Ice"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Core_Ice"
            },
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 1,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "Default_Material"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 0,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "ApplyModifier",
              "modifierName": "Default_Material"
            }
          ]
        },

        //水爆发
        "Water_Material": {
          "duration": "%BurstDuration",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Base_Water"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Core_Water"
            },
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 1,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "Default_Material"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 0,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "ApplyModifier",
              "modifierName": "Default_Material"
            }
          ]
        },

        //风爆发
        "Wind_Material": {
          "duration": "%BurstDuration",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Base_Wind"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Core_Wind"
            },
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 1,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "Default_Material"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 0,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "ApplyModifier",
              "modifierName": "Default_Material"
            }
          ]
        },

        //岩爆发
        "Rock_Material": {
          "duration": "%BurstDuration",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Base_Rock"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Core_Rock"
            },
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 1,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "Default_Material"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 0,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "ApplyModifier",
              "modifierName": "Default_Material"
            }
          ]
        },

        //草爆发
        "Grass_Material": {
          "duration": "%BurstDuration",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Base_Grass"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Core_Grass"
            },
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 1,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "RemoveModifier",
              "modifierName": "Default_Material"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "intID": "Blend",
              "value": 0,
              "MPTriggerOnRemote": true
            },

            {
              "$type": "ApplyModifier",
              "modifierName": "Default_Material"
            }
          ]
        },

        "StageManager": {
          "modifierMixins": [
            // //通过点名上一个随机BUFF
            // {
            // 	"$type": "PlayerUidNotifyMixin",
            // 	"opParam": "random_buff",
            // 	"opType": 1,
            // 	"logic": "Equal",
            // 	"actions":
            // 	[
            // 		{
            // 			"$type": "ApplyModifier",
            // 			"modifierName": "SuccessBuff_Attack_Team",
            // 			"target": "AllTeams",
            // 	  //      "predicates":
            // 			// [
            // 			// 	{
            // 			// 		"$type": "ByTargetPositionToSelfPosition",
            // 			// 		"target": "Target",
            // 			// 		"compareType": "XYZ",
            // 			// 		"value": 50,
            // 			// 		"logic": "LesserOrEqual",
            // 			// 	},
            // 			// ],
            // 		},
            // 	],
            // },

            //通过点名mixin获取当前元素爆发状态
            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_user",
              "opType": 1,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Water_Material"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_user",
              "opType": 2,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Fire_Material"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_user",
              "opType": 3,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Electric_Material"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_user",
              "opType": 4,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Ice_Material"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_user",
              "opType": 5,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Wind_Material"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_user",
              "opType": 6,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Rock_Material"
                }
              ]
            },

            {
              "$type": "PlayerUidNotifyMixin",
              "opParam": "random_user",
              "opType": 7,
              "logic": "Equal",
              "actions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Grass_Material"
                }
              ]
            },

            {
              "$type": "AttachToPlayStageMixin",
              "stage": 1,
              "actions": []
            },

            {
              "$type": "AttachToPlayStageMixin",
              "stage": 2,
              "actions": []
            },

            {
              "$type": "AttachToPlayStageMixin",
              "stage": 3,
              "actions": []
            },

            {
              "$type": "AttachToPlayStageMixin",
              "stage": 4,
              "actions": []
            }
          ]
        },

        "Check_Around_Target": {
          "thinkInterval": 1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Default_Material"
            },
            {
              "$type": "SetAnimatorInt",
              "target": "Self",
              "intID": "gadgetState",
              "value": 201,
              "MPTriggerOnRemote": true
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Core_Burst"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "KillMonster",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                }
              ]
            }
          ],
          "onThinkInterval": [
            //播一次搜寻特效
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Base_Absorb"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Team_Chemistry",
              "target": "AllTeams",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Target",
                  "key": "_Team_Has_Chemistry",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetPositionToSelfPosition",
                  "target": "Target",
                  "compareType": "XYZ",
                  "value": 5,
                  "logic": "LesserOrEqual"
                }
              ]
            }
          ]
        },

        "Crucible_Accumulate": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //把globalvalue写到override
            {
              "$type": "SetGlobalValueToOverrideMap",
              "target": "Self",
              "globalValueKey": "_Crucible_Grume_Player_Cur_Inferior",
              "overrideMapKey": "Cur_Inferior_Num"
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "target": "Self",
              "globalValueKey": "_Crucible_Grume_Player_Cur_Superior",
              "overrideMapKey": "Cur_Superior_Num"
            },
            //从override读数
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_Crucible_Grume_Player_Sum_Inferior",
              "value": "%Cur_Inferior_Num"
            },
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_Crucible_Grume_Player_Sum_Superior",
              "value": "%Cur_Superior_Num"
            },

            //把算好的分数同步回team
            {
              "$type": "CopyGlobalValue",
              "srcTarget": "Self",
              "dstTarget": "Applier",
              "srcKey": "_Crucible_Grume_Player_Sum_Inferior",
              "dstKey": "_Crucible_Grume_Player_Sum_Inferior"
            },
            {
              "$type": "CopyGlobalValue",
              "srcTarget": "Self",
              "dstTarget": "Applier",
              "srcKey": "_Crucible_Grume_Player_Sum_Superior",
              "dstKey": "_Crucible_Grume_Player_Sum_Superior"
            },

            //给Team加一个modifier用来算分
            {
              "$type": "ApplyModifier",
              "target": "Applier",
              "modifierName": "Team_Accumulate"
            }
          ]
        },

        "Team_Accumulate": {
          "duration": 0.1,
          "stacking": "Multiple",
          "onRemoved": [
            {
              "$type": "ExecuteGadgetLua",
              "target": "Applier",
              "param2": 1
            }
          ]
        },

        //每当角色被上了这个modifier后,就自动检查下当前炼金值,并进行回传
        "Check_Team_Chemistry": {
          "duration": 1,
          "onAdded": [
            //播一次吸收特效
            {
              "$type": "FireEffect",
              "target": "Applier",
              "effectPattern": "Eff_SceneObj_Alchemy_Absorb_Main"
            },

            //把当前值累加进总值
            {
              "$type": "AddGlobalValueToTarget",
              "srcTarget": "Self",
              "dstTarget": "Self",
              "srcKey": "_Crucible_Grume_Player_Cur_Inferior",
              "dstKey": "_Crucible_Grume_Player_Sum_Inferior"
            },
            {
              "$type": "AddGlobalValueToTarget",
              "srcTarget": "Self",
              "dstTarget": "Self",
              "srcKey": "_Crucible_Grume_Player_Cur_Superior",
              "dstKey": "_Crucible_Grume_Player_Sum_Superior"
            },

            {
              "$type": "ExecuteGadgetLua",
              "target": "Applier",
              "param2": 1
            },

            // {
            // 	"$type": "ApplyModifier",
            // 	"target": "Applier",
            // 	"modifierName": "Crucible_Accumulate",
            // },

            // //把globalvalue写到override
            // {
            // 	"$type": "SetGlobalValueToOverrideMap",
            // 	"target": "Team",
            // 	"globalValueKey": "_Crucible_Grume_Player_Cur_Inferior",
            // 	"overrideMapKey": "Cur_Inferior_Num",
            // },
            // {
            // 	"$type": "SetGlobalValueToOverrideMap",
            // 	"target": "Team",
            // 	"globalValueKey": "_Crucible_Grume_Player_Cur_Superior",
            // 	"overrideMapKey": "Cur_Superior_Num",
            // },
            // //从override读数
            // {
            // 	"$type": "AddGlobalValue",
            // 	"target": "Team",
            // 	"key": "_Crucible_Grume_Player_Sum_Inferior",
            // 	"value": "%Cur_Inferior_Num",
            // },
            // {
            // 	"$type": "AddGlobalValue",
            // 	"target": "Team",
            // 	"key": "_Crucible_Grume_Player_Sum_Superior",
            // 	"value": "%Cur_Superior_Num",
            // },

            // {
            // 	"$type": "ExecuteGadgetLua",
            // 	"target": "Applier",
            // 	"param2": 1,
            // },

            //移除Team炼金球
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //收回元素标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////
  //
  //	炼金领奖台
  //
  ////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Operator",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "FireStartEff"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "ExecuteGadgetLua",
          "param1": 201
        }
      ],
      "modifiers": {
        "FireStartEff": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Award"
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////
  //
  //	炼金子弹
  //
  ////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElementForce_Bullet",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "target": "Self",
          "key": "_IS_ELEMFORCE_BULLET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_HAS_ELEMFORCE_BULLET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },

        //初始化team上的所有计数
        {
          "$type": "RemoveUniqueModifier",
          "target": "Team",
          "modifierName": "UNIQUE_Team_Chemistry_Step_1"
        },
        {
          "$type": "RemoveUniqueModifier",
          "target": "Team",
          "modifierName": "UNIQUE_Team_Chemistry_Step_2"
        },
        {
          "$type": "RemoveUniqueModifier",
          "target": "Team",
          "modifierName": "UNIQUE_Team_Chemistry_Step_3"
        },
        //收回元素标记
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_Team_Chemistry_Type",
          "value": 0,
          "useLimitRange": true,
          "maxValue": 0,
          "minValue": 0
        }
        //只污染，不治理
        // {
        // 	"$type": "RemoveUniqueModifier",
        // 	"target": "Team",
        // 	"modifierName": "UNIQUE_CreateFollowBullet",
        // },
      ],
      "onKill": [
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_HAS_ELEMFORCE_BULLET",
          "value": -1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "KillSelf"
        }
      ],
      "modifiers": {}
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉小水球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Water",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        //挨打modifer
        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_WaterMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "abilitySpecials": {},
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_WaterMaterial": {
          "duration": 60,
          "elementType": "Water",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //小球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Water_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
            // {
            // 	"$type": "AttachModifier",
            // 	"modifierName": "Kill_ElementSeed",
            // 	"otherTargets":
            // 	{
            //            "$type": "SelectTargetsByShape",
            //            "shapeName": "CircleR2",
            //            "centerBasedOn": "CurLocalAvatar",
            //            "campTargetType": "All",
            //            "campBasedOn": "Self",
            //            "topLimit":1,
            //           				"sortType": "Nearest", //从近开始选
            //        },
            //       "predicates":
            // 	[
            // 		{
            // 			"$type": "ByTargetGlobalValue",
            // 			"key": "_IS_ELEMENTSEED",
            // 			"value": 1,
            // 			"compareType": "Equal",
            // 		},
            // 	],
            // },
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Water",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Water",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Water",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉大水球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Water_Big",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_WaterMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_WaterMaterial": {
          "duration": 60,
          "elementType": "Water",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //大水球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Water_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Water",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Water",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Water",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Water03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉小火球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Fire",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_FireMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "abilitySpecials": {},
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 2,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_FireMaterial": {
          "duration": 60,
          "elementType": "Fire",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //小球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Fire_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 2,
              "useLimitRange": true,
              "maxValue": 2,
              "minValue": 2
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 2,
              "useLimitRange": true,
              "maxValue": 2,
              "minValue": 2
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Fire",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Fire",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Fire",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉大火球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Fire_Big",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_FireMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 2,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_FireMaterial": {
          "duration": 60,
          "elementType": "Fire",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //大火球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Fire_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 2,
              "useLimitRange": true,
              "maxValue": 2,
              "minValue": 2
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 2,
              "useLimitRange": true,
              "maxValue": 2,
              "minValue": 2
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Fire",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Fire",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Fire",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Fire03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉小雷球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Electric",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_ElectricMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "abilitySpecials": {},
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 3,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_ElectricMaterial": {
          "duration": 60,
          "elementType": "Electric",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //小球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Electric_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 3
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 3
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Electric",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Electric",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Electric",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉大雷球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Electric_Big",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_ElectricMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 3,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_ElectricMaterial": {
          "duration": 60,
          "elementType": "Electric",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //大水球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Electric_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 3
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 3
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Electric",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Electric",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Electric",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Electric03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉小冰球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Ice",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_IceMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "abilitySpecials": {},
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 4,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_IceMaterial": {
          "duration": 60,
          "elementType": "Ice",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //小球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Ice_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 4,
              "useLimitRange": true,
              "maxValue": 4,
              "minValue": 4
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 4,
              "useLimitRange": true,
              "maxValue": 4,
              "minValue": 4
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Ice",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Ice",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Ice",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉大冰球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Ice_Big",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_IceMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 4,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_IceMaterial": {
          "duration": 60,
          "elementType": "Ice",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //大水球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Ice_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 4,
              "useLimitRange": true,
              "maxValue": 4,
              "minValue": 4
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 4,
              "useLimitRange": true,
              "maxValue": 4,
              "minValue": 4
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Ice",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Ice",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Ice",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Ice03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉小风球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Wind",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_WindMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "abilitySpecials": {},
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 5,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_WindMaterial": {
          "duration": 60,
          "elementType": "Wind",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //小球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Wind_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 5,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 5
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 5,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 5
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Wind",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Wind",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Wind",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉大风球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Wind_Big",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_WindMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 5,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_WindMaterial": {
          "duration": 60,
          "elementType": "Wind",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //大水球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Wind_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 5,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 5
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 5,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 5
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Wind",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Wind",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Wind",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Wind03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉小岩球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Rocky",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_RockMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "abilitySpecials": {},
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 6,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_RockMaterial": {
          "duration": 60,
          "elementType": "Rock",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //小球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Rock_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 6,
              "useLimitRange": true,
              "maxValue": 6,
              "minValue": 6
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 6,
              "useLimitRange": true,
              "maxValue": 6,
              "minValue": 6
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Rock",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Rock",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Rock",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉大岩球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Rocky_Big",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_RockMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 6,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_RockMaterial": {
          "duration": 60,
          "elementType": "Rock",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //大水球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Rock_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 6,
              "useLimitRange": true,
              "maxValue": 6,
              "minValue": 6
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 6,
              "useLimitRange": true,
              "maxValue": 6,
              "minValue": 6
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Rock",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Rock",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Rock",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Rock03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉小草球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Grass",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_GrassMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "abilitySpecials": {},
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 7,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_GrassMaterial": {
          "duration": 60,
          "elementType": "Grass",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //小球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Grass_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 7,
              "useLimitRange": true,
              "maxValue": 7,
              "minValue": 7
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 7,
              "useLimitRange": true,
              "maxValue": 7,
              "minValue": 7
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Grass",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Grass",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录小球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Inferior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Grass",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	炼金炉大草球
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Grass_Big",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "failActions": [],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Check_Self_Chemisrty",
              "target": "Target"
            }
          ]
        }
      ],
      "onAdded": [
        //标识自身，用于最后自杀
        {
          "$type": "AddGlobalValue",
          "key": "_IS_ELEMENTSEED",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 1
        },

        {
          "$type": "ApplyModifier",
          "modifierName": "CrucibleSeed_GrassMaterial"
        }

        //thinkinterval找玩家，找到就上BUFF
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Find_Near_Player",
        // },
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_Block_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletPos1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "modifiers": {
        "Find_Near_Player": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "failActions": [],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Check_Self_Chemisrty",
                  "target": "AllTeams",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "target": "Target",
                      "compareType": "XYZ",
                      "value": 1,
                      "logic": "LesserOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        },

        "Check_Self_Chemisrty": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            //检测是否为自己类型的元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_Team_Chemistry_Type",
                      "value": 7,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Same_Chemistry_Pick"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Self",
                  "modifierName": "Different_Chemistry_Pick"
                }
              ]
            }
          ]
        },

        "CrucibleSeed_GrassMaterial": {
          "duration": 60,
          "elementType": "Grass",
          "elementDurability": 1,
          "thinkInterval": 50,
          "onAdded": [
            //大水球特效
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass_Ground"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass_Ground"
            },
            {
              "$type": "AttachEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Hint_01_Grass_NearFade"
            },
            {
              "$type": "FireEffect",
              "target": "Self",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Birth"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Kill_ElementSeed": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },

        "Different_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //清空身上所有炼金槽
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            },
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            },
            //重新执行槽位填充
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        "Same_Chemistry_Pick": {
          "duration": 1,
          "onAdded": [
            //这部分完全是建立在元素类型相同时的
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Try_Add_Chemistry_Step"
            }
          ]
        },
        //遍历角色空槽位,添加元素球
        "Try_Add_Chemistry_Step": {
          "duration": 1,
          "onAdded": [
            //检测开启前强行置1
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //槽位1填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                //槽位仍然空着
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                //判定检测开启
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_1"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位2填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_2"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //槽位3填充判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  //"target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //设置炼金种子为不可用
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_CHEMISTRY_BE_CAST",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 1,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR2",
                    "centerBasedOn": "CurLocalAvatar",
                    "campTargetType": "All",
                    "campBasedOn": "CurLocalAvatar",
                    "topLimit": 1,
                    "sortType": "Nearest" //从近开始选
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_IS_ELEMENTSEED",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                },

                //先下后上保证刷新
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Team",
                  "modifierName": "UNIQUE_Team_Chemistry_Step_3"
                },
                //说明该槽位空着,或者不需要检测该槽位
                //关闭槽位监测
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Full_Flag",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            },
            //检测完成后强行置0
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Full_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            //由玩家可否拾取判断
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "failActions": [
                // {
                // 	"$type": "KillSelf",
                // 	"target": "Applier",
                // },
              ]
            },
            //三个槽位全部占满时,禁止拾取同元素
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_1",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_2",
                  "value": 0,
                  "compareType": "MoreThan"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_Team_Has_Chemistry_Step_3",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                //全槽位遍历失败后说明其禁止拾取
                {
                  "$type": "AddGlobalValue",
                  "target": "Team",
                  "key": "_Team_Chemistry_Forbid_Pick",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        },
        ////////////////////////////////////////////////////////////////////
        //  以下为实际处理每个槽位的更新，在替换时应当保证先remove再重新add
        ////////////////////////////////////////////////////////////////////
        //占用Team的炼金1号槽位
        "UNIQUE_Team_Chemistry_Step_1": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff"
            }
          ],
          "onAdded": [
            //在第1槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },

            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_1_Buff",
						},*/
            //首次设置首个槽位时标记其元素属性
            //被炼金炉回收buff时要同步回收此标记
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Type",
              "value": 7,
              "useLimitRange": true,
              "maxValue": 7,
              "minValue": 7
            },
            //用于上传的元素标记，不清理
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Real_Grume_ElemType",
              "value": 7,
              "useLimitRange": true,
              "maxValue": 7,
              "minValue": 7
            },
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //有空位后允许拾取
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        //给位置1填充buff
        "UNIQUE_Team_Chemistry_Step_1_Buff": {
          "elementType": "Grass",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_1"
            }
          ]
        },

        //1号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff1": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金2号槽位
        "UNIQUE_Team_Chemistry_Step_2": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff"
            }
          ],
          "onAdded": [
            //在第2槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff2",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_2_Buff",
						},*/
            //Team所带小球个数记录
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Infenior_Count",
              "value": 1
            },

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置2填充buff
        "UNIQUE_Team_Chemistry_Step_2_Buff": {
          "elementType": "Grass",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_2"
            }
          ]
        },
        //2号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff2": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_02"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass02"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        },

        //占用Team的炼金3号槽位
        "UNIQUE_Team_Chemistry_Step_3": {
          "duration": 60,
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff"
            }
          ],
          "onAdded": [
            //在第3槽位上挂载特效
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_ElementForce_Bullet_Eff3",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR2",
                "centerBasedOn": "CurLocalAvatar",
                "campTargetType": "All",
                "campBasedOn": "CurLocalAvatar",
                "topLimit": 1,
                "sortType": "Nearest" //从近开始选
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BULLET",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //占用时要给出value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            /*{
							"$type": "AttachModifier",
							"target": "Team",
							"modifierName": "UNIQUE_Team_Chemistry_Step_3_Buff",
						},*/

            //执行完所有逻辑，杀死炼金种子
            {
              "$type": "KillSelf",
              "target": "Caster"
            }
          ],
          "onRemoved": [
            //移除时还原value标记
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry_Step_3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Team_Has_Chemistry",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //记录大球数量
            {
              "$type": "AddGlobalValue",
              "key": "_Crucible_Grume_Player_Cur_Superior",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_Team_Chemistry_Forbid_Pick",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        //给位置3填充buff
        "UNIQUE_Team_Chemistry_Step_3_Buff": {
          "elementType": "Grass",
          "elementDurability": 50,
          "isUnique": true,
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "target": "Team",
              "modifierName": "UNIQUE_Team_Chemistry_Step_3"
            }
          ]
        },
        //3号槽位特效
        "UNIQUE_ElementForce_Bullet_Eff3": {
          "isUnique": true,
          "thinkInterval": 50,
          "onThinkInterval": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Crucible_Block_Warning_03"
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass03",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Size",
              "type": "Int",
              "value": 1,
              "effectPattern": "Eff_SceneObj_Alchemy_Block_Grass03"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Block_Disappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////
  //
  //	岩元素之力子弹
  //
  ////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_RockForce_Bullet",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "target": "Self",
          "key": "_IS_ELEMFORCE_BULLET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_HAS_ELEMFORCE_BULLET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "key": "ELEMENT_COUNT",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 3,
          "minValue": 0
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Rock_Material"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Rock_Durability"
        }
        // {
        // 	"$type": "DebugLog",
        // 	"doOffStage":true,
        // 	"content": "Bullet On！！！！！！！！！！！！！！！",
        // },
      ],
      "onKill": [
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_HAS_ELEMFORCE_BULLET",
          "value": -1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        }
        // {
        // 	"$type": "DebugLog",
        // 	"doOffStage":true,
        // 	"content": "Its Being Killed！！！！！！！！！！！！！！！",
        // },
      ],
      "modifiers": {
        "Rock_Durability": {
          "elementType": "None",
          "elementDurability": 50,
          "duration": 20,
          "modifierMixins": [
            {
              "$type": "AttachModifierToElementDurabilityMixin",
              "valueSteps": [0.5, 10, 50.5],
              "modifierNameSteps": ["Shining", "Nothing"]
            }
          ],
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "Rock_DefenceUp",
              "target": "CurTeamAvatars"
            }
          ],
          "onRemoved": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "Die",
              "effectPattern": "Eff_RockFragment_Fly01"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Die",
              "effectPattern": "Eff_RockFragment_Fly02"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Die",
              "effectPattern": "Eff_RockFragment_Fly03"
            },
            {
              "$type": "KillSelf"
            }
          ],
          "onKill": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "Die",
              "effectPattern": "Eff_RockFragment_Fly01"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Die",
              "effectPattern": "Eff_RockFragment_Fly02"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Die",
              "effectPattern": "Eff_RockFragment_Fly03"
            }
          ]
        },

        "Nothing": {
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_RockFragment_Fly01"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_RockFragment_Fly02"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 0,
              "effectPattern": "Eff_RockFragment_Fly03"
            }
          ]
        },

        "Shining": {
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 201,
              "effectPattern": "Eff_RockFragment_Fly01"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 201,
              "effectPattern": "Eff_RockFragment_Fly02"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "gadgetState",
              "type": "Int",
              "value": 201,
              "effectPattern": "Eff_RockFragment_Fly03"
            }
          ]
        },

        "Rock_DefenceUp": {
          "properties": {
            "Actor_DefenceRatio": 0.3
          }
        },

        "Rock_Material": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_RockFragment_Fly01",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletPos1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////
  //
  //  岩元素吸收子弹
  //
  ////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Rock_AbsorbBullet",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_RockFragment_Fly"
        }
      ],
      "onKill": [],
      "modifiers": {},
      "onAbilityStart": [
        {
          "$type": "ExecuteGadgetLua",
          "target": "Target",
          "param1": 201,
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "IS_ROCKFORCE_BASE",
              "value": 1,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "IS_ROCKFORCE_BASE",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "KillSelf",
              "target": "Self"
            }
          ]
        }
      ]
    }
  },
  ///////////////////////////////////////////////////
  //
  //	岩片
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_RockSeed",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Rocky"
        }
      ],
      "modifiers": {
        "Rocky": {
          "elementDurability": 50,
          "elementType": "Rock",
          "modifierMixins": [
            {
              "$type": "ShieldBarMixin"
            }
          ],
          "onRemoved": [
            {
              "$type": "CreateGadget",
              "gadgetID": 70330017,
              "campTargetType": "Enemy",
              "ownerIs": "Other",
              "byServer": true,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.8,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "ExecuteGadgetLua",
              "target": "Owner",
              "param1": 201
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_RockFragment_Destory"
            },
            {
              "$type": "KillSelf"
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	岩元素之力
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Rock",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_RockFragment_Fly"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "LifeTime"
        }
      ],
      "onFieldEnter": [
        {
          "$type": "ApplyModifier",
          "target": "Target",
          "modifierName": "Avartr_To_Team"
        },

        {
          "$type": "KillSelf",
          "target": "Self"
        }
      ],
      "modifiers": {
        "LifeTime": {
          "duration": 20,
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },
        "Avartr_To_Team": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_ELEMFORCE_ROCK",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            //第一层BUFF特效
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "UNIQUE_RockSeed",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_HAS_ELEMFORCE_ROCK",
                  "value": 1,
                  "compareType": "LessAndEqual"
                }
              ]
            },
            //二次触发加持续时间
            {
              "$type": "AddElementDurability",
              "target": "Team",
              "modifierName": "UNIQUE_RockSeed",
              "value": 50,
              "useLimitRange": true,
              "maxValue": 50.0,
              "minValue": 0.0
            }
          ]
        },

        "UNIQUE_RockSeed": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": 15,
          "elementType": "None",
          "elementDurability": 50,
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_HAS_ELEMFORCE_ROCK",
              "valueSteps": [-1, 0.5, 1.5, 2.5, 3.5],
              "modifierNameSteps": [
                "RemoveRockSeed",
                "Team_Avatar_Eff1",
                "Team_Avatar_Eff2",
                "Team_Avatar_Eff3"
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "_HAS_ELEMFORCE_ROCK",
              "value": 0
            }
          ]
        },

        "RemoveRockSeed": {
          "onAdded": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_RockSeed"
            }
          ]
        },

        "Team_Avatar_Eff1": {
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "Avatar_Eff1"
            }
          ]
        },

        "Team_Avatar_Eff2": {
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "Avatar_Eff2"
            }
          ]
        },
        "Team_Avatar_Eff3": {
          "modifierMixins": [
            {
              "$type": "ApplyModifierWithSharedDurabilityMixin",
              "modifierName": "Avatar_Eff3"
            }
          ]
        },

        "Avatar_Eff1": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_RockFragment_Around_01"
            }
          ]
        },
        "Avatar_Eff2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_RockFragment_Around_02"
            }
          ]
        },
        "Avatar_Eff3": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_RockFragment_Around_03"
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //  元素之力基座 岩
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Base_Rock",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "AbsorbRock_Continue"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "AttachEffect_201"
        }
      ],
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "IS_ROCKFORCE_BASE",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "key": "HAS_ROCK_FORCE",
          "value": 0,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_Rockstraight_01"
        }
      ],
      "modifiers": {
        "AttachEffect_201": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_RockFragment_Fly",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "AttachPoint",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Acitve_01"
            }
          ]
        },
        "AbsorbRock_Continue": {
          "thinkInterval": 0.5,
          "onThinkInterval": [
            {
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_AbsorbRock_Add_2_Avatar",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5H4",
                "centerBasedOn": "Self",
                "campTargetType": "All",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IN_TRIGGRE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            }
          ]
        },
        "UNIQUE_AbsorbRock_Add_2_Avatar": {
          "stacking": "Unique",
          "isUnique": true,
          "duration": 1,
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "doOffStage": true,
              "key": "IN_TRIGGRE",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ],
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "IN_TRIGGRE",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            },
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_HAS_ELEMFORCE_ROCK",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                {
                  "$type": "AddGlobalValue",
                  "key": "_HAS_ELEMFORCE_ROCK",
                  "target": "Team",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 3,
                  "minValue": 0
                },
                {
                  "$type": "SetSelfAttackTarget",
                  "target": "Applier"
                },
                {
                  "$type": "TriggerBullet",
                  "bulletID": 70330020,
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "RootNode",
                    "offset": {
                      "x": 0.0,
                      "y": 1.0,
                      "z": 0.0
                    }
                  }
                }
              ]
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	搬运元素之力-火之力 挨打
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Fire_Hit",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Hit"
        }
      ],
      "modifiers": {
        "Hit": {
          "onBeingHit": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "ElemForce_Fire_A"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_BombBarrel_01_Explode"
            },
            {
              "$type": "ExecuteGadgetLua",
              "param1": 1
            }
          ]
        },
        "ElemForce_Fire_A": {
          "stacking": "Refresh",
          "thinkInterval": 0.5,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "CurTeamAvatars",
              "modifierName": "Unique_Fake_Shield_30"
            },
            {
              "$type": "ApplyModifier",
              "target": "CurTeamAvatars",
              "modifierName": "Unique_Fake_Shield_60"
            },
            {
              "$type": "ApplyModifier",
              "target": "CurTeamAvatars",
              "modifierName": "Unique_Fake_Shield_100"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_In_Base",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "RemoveModifier",
                  "target": "Team",
                  "modifierName": "ElemForce_Fire_A"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "target": "CurLocalAvatar",
              "modifierName": "Select_By_Avatar"
            },
            {
              "$type": "RemoveModifier",
              "target": "CurTeamAvatars",
              "modifierName": "Unique_Fake_Shield_30"
            },
            {
              "$type": "RemoveModifier",
              "target": "CurTeamAvatars",
              "modifierName": "Unique_Fake_Shield_60"
            },
            {
              "$type": "RemoveModifier",
              "target": "CurTeamAvatars",
              "modifierName": "Unique_Fake_Shield_100"
            }
          ]
        },
        "Unique_Fake_Shield_30": {
          "stacking": "Refresh",
          "elementType": "Fire",
          "elementDurability": 100,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Test_ElemForce_Ice01"
            }
          ]
        },
        "Unique_Fake_Shield_60": {
          "stacking": "Refresh",
          "elementType": "Fire",
          "elementDurability": 200,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Test_ElemForce_Ice02"
            }
          ]
        },
        "Unique_Fake_Shield_100": {
          "stacking": "Refresh",
          "elementType": "Fire",
          "elementDurability": 300,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Test_ElemForce_Ice03"
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "target": "Caster",
              "modifierName": "Recover_State"
            }
          ]
        },
        "Select_By_Avatar": {
          "duration": 5,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Change_State",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR10",
                "centerBasedOn": "Self",
                "campTargetType": "All",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_ELEMFORCE_BASE",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "Recover_State": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 0
            },
            {
              "$type": "RemoveModifier",
              "target": "CurTeamAvatars",
              "modifierName": "Unique_Fake_Shield_30"
            },
            {
              "$type": "RemoveModifier",
              "target": "CurTeamAvatars",
              "modifierName": "Unique_Fake_Shield_60"
            },
            {
              "$type": "RemoveModifier",
              "target": "CurTeamAvatars",
              "modifierName": "Unique_Fake_Shield_100"
            }
          ]
        },
        "Change_State": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "ExecuteGadgetLua",
              "param1": 1
            }
          ]
        }
      }
    }
  },

  ////////////////////////////////////////////////////////
  //
  //	元素之力子弹
  //
  ////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_ElemForce_Bullet",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "target": "Self",
          "key": "_IS_ELEMFORCE_BULLET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_HAS_ELEMFORCE_BULLET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        }
      ],
      "onKill": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_SceneObj_BombBarrel_01_Explode"
        },
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_HAS_ELEMFORCE_BULLET",
          "value": -1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "KillSelf"
        }
      ]
    }
  },

  ///////////////////////////////////////////////////
  //
  //	莫得灵魂的风元素之力
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_GrassWind_Fake",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "WindSeed_Material"
        }
      ],
      "onFieldEnter": [
        {
          "$type": "ExecuteGadgetLua",
          "target": "Owner",
          "param1": 201
        },
        {
          "$type": "ApplyModifier",
          "target": "Target",
          "modifierName": "WindForce_Handle"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Avartar_Count",
          //"$type": "KillSelf",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR10",
            "centerBasedOn": "Self",
            "campTargetType": "All",
            "campBasedOn": "Self"
          },
          "predicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ]
        },
        //播放AOE特效
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Item_WindSeed_AoE",
          "born": {
            "$type": "ConfigBornBySelf",
            "alongGround": true
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "HAS_AVATAR_NEAR",
              "value": 1,
              "compareType": "MoreThan"
            }
          ]
        }
        // {
        // 	"$type": "AddGlobalValue",
        // 	"target": "Self",
        // 	"key": "HAS_AVATAR_NEAR",
        // 	"value": 0,
        // 	"useLimitRange": true,
        // 	"maxValue": 0,
        // 	"minValue": 0,
        // },
      ],
      "modifiers": {
        "Avartar_Count": {
          "duration": 0.2,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "target": "Applier",
              "key": "HAS_AVATAR_NEAR",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 4,
              "minValue": 0
            }
          ]
        },
        "WindForce_Handle": {
          "duration": 0.5,
          "stacking": "Multiple",
          "fireEventWhenApply": true,
          "stackingOption": {
            "maxModifierNumForMultipleType": 3
          },
          "onAdded": [
            //空modifer打标记
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "WindForce"
            }
          ]
        },
        "WindSeed_Material": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Item_WindSeed"
            }
          ],
          "onKill": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "Disappear"
            }
          ]
        },
        "WindForce": {
          "duration": 0.5,
          "stacking": "Multiple",
          "stackingOption": {
            "maxModifierNumForMultipleType": 3
          }
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	风元素之力
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_GrassWind",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "WindSeed_Material"
        }
      ],
      "onFieldEnter": [
        {
          "$type": "ApplyModifier",
          "target": "Target",
          "modifierName": "WindForce_Handle"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Avartar_Count",
          //"$type": "KillSelf",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR10",
            "centerBasedOn": "Self",
            "campTargetType": "All",
            "campBasedOn": "Self"
          },
          "predicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ]
        },
        //播放AOE特效
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Item_WindSeed_AoE",
          "born": {
            "$type": "ConfigBornBySelf",
            "alongGround": true
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "HAS_AVATAR_NEAR",
              "value": 1,
              "compareType": "MoreThan"
            }
          ]
        }
        // {
        // 	"$type": "AddGlobalValue",
        // 	"target": "Self",
        // 	"key": "HAS_AVATAR_NEAR",
        // 	"value": 0,
        // 	"useLimitRange": true,
        // 	"maxValue": 0,
        // 	"minValue": 0,
        // },
      ],
      "modifiers": {
        "Avartar_Count": {
          "duration": 0.2,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "target": "Applier",
              "key": "HAS_AVATAR_NEAR",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 4,
              "minValue": 0
            }
          ]
        },
        "WindForce_Handle": {
          "duration": 0.5,
          "stacking": "Multiple",
          "fireEventWhenApply": true,
          "stackingOption": {
            "maxModifierNumForMultipleType": 3
          },
          "onAdded": [
            //空modifer打标记
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "WindForce"
            }
          ]
        },
        "WindSeed_Material": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Item_WindSeed"
            }
          ],
          "onKill": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "Disappear"
            }
          ]
        },
        "WindForce": {
          "duration": 0.5,
          "stacking": "Multiple",
          "stackingOption": {
            "maxModifierNumForMultipleType": 3
          }
        }
      }
    }
  },
  ////////////////////////////////////////////////////////
  //
  //	草生风子弹
  //
  ////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",

      "abilityName": "SceneObj_Gear_GrassWind_Bullet",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "target": "Self",
          "key": "_IS_ELEMENT_WIND_BULLET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_HAS_ELEMENT_WIND_BULLET1",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "LightLock_Bullet"
        }
      ],
      "modifiers": {
        "LightLock_Bullet": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Item_Element_WindForce_01"
            }
          ],
          "onKill": [
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_ELEMFORCE_WIND",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_ELEMENT_WIND_BULLET1",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Item_Element_WindForce_Dissipate_01"
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////
  //
  //	草生风子弹02
  //
  ////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_GrassWind_Bullet02",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_HAS_ELEMENT_WIND_BULLET2",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "target": "Self",
          "key": "_IS_ELEMENT_WIND_BULLET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "LightLock_Bullet2"
        }
      ],
      "modifiers": {
        "LightLock_Bullet2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Item_Element_WindForce_WhiteBox02"
            }
          ],
          "onKill": [
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_ELEMFORCE_WIND",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 99,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_ELEMENT_WIND_BULLET2",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////
  //
  //	草生风子弹03
  //
  ////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Gear_GrassWind_Bullet03",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "target": "Team",
          "key": "_HAS_ELEMENT_WIND_BULLET3",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "target": "Self",
          "key": "_IS_ELEMENT_WIND_BULLET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "LightLock_Bullet3"
        }
      ],
      "modifiers": {
        "LightLock_Bullet3": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Item_Element_WindForce_WhiteBox03"
            }
          ],
          "onKill": [
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_ELEMFORCE_WIND",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 99,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_ELEMENT_WIND_BULLET3",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //	鬼火
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_Guiguo_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "Phase1"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "None"
        }
      ],
      /*
		"onAdded":
		[
			{
				"$type": "AttachEffect",
				"effectPattern": "Eff_SceneObj_FireGhost_Bullet",	
			}
		],
		*/
      "onFieldEnter": [
        {
          "$type": "ApplyModifier",
          "target": "Target",
          "modifierName": "Avartr_To_Team",
          "predicates": [
            {
              "$type": "ByTargetGadgetState",
              "target": "Self",
              "gadgetState": 0
            }
          ]
        },
        {
          "$type": "ExecuteGadgetLua",
          "target": "Self",
          "param1": 201
        }
      ],
      "modifiers": {
        "None": {},
        "Phase1": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireGhost_Bullet"
            }
          ]
          /*
				"onFieldEnter":
				[
					{
						"$type": "ApplyModifier",
						"target": "Target",
						"modifierName": "Avartr_To_Team",
					},

					{
						"$type": "ExecuteGadgetLua",
						"target": "Self",
	 					"param1": 201,
	 				},
				],
				*/
        },
        "Avartr_To_Team": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_GUIHUO",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 2,
              "minValue": 0
            },
            //第一层BUFF特效
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "UNIQUE_GuiHuo",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Team",
                  "key": "_HAS_GUIHUO",
                  "value": 1,
                  "compareType": "LessAndEqual"
                }
              ]
            },
            //二次触发加持续时间
            {
              "$type": "AddElementDurability",
              "target": "Team",
              "modifierName": "UNIQUE_GuiHuo",
              "value": 50,
              "useLimitRange": true,
              "maxValue": 50.0,
              "minValue": 0.0
            }
          ]
        },

        "UNIQUE_GuiHuo": {
          "isUnique": true,
          "stacking": "Unique",
          //"duration": 15,
          "elementType": "None",
          //"elementDurability": 50,
          "modifierMixins": [
            /*
					{
						"$type": "ApplyModifierWithSharedDurabilityMixin",
						"modifierName": "RockForce_Avatar_Handler",
					},
					*/
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_HAS_GUIHUO",
              "valueSteps": [-1, 0.5, 1.5, 2.5],
              "modifierNameSteps": [
                "RemoveGuiHuo",
                "Team_Avatar_Eff1",
                "Team_Avatar_Eff2"
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "_HAS_GUIHUO",
              "value": 0
            }
          ]
        },

        "RemoveGuiHuo": {
          "onAdded": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_GuiHuo"
            }
          ]
        },
        /*
			"RockForce_Avatar_Handler":
			{
				"isLimitedProperties": true,
				"properties":
				{
					"Actor_CostStaminaRatio" : -0.3,
				},
			},
*/
        "Team_Avatar_Eff1": {
          "thinkInterval": 5,
          "onThinkInterval": [
            {
              "$type": "AttachModifier",
              "target": "CurLocalAvatar",
              "modifierName": "UNIQUE_Avatar_Eff1",
              "doOffStage": true
            }
          ],
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "UNIQUE_Avatar_Eff1"
            }
          ]
        },

        "Team_Avatar_Eff2": {
          "thinkInterval": 5,
          "onThinkInterval": [
            {
              "$type": "AttachModifier",
              "target": "CurLocalAvatar",
              "modifierName": "UNIQUE_Avatar_Eff2",
              "doOffStage": true
            }
          ],
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "UNIQUE_Avatar_Eff2"
            }
          ]
        },
        "UNIQUE_Avatar_Eff1": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireGhost_Around_01",
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "RemoveModifier",
              "doOffStage": true,
              "modifierName": "UNIQUE_Avatar_Eff1"
            }
          ]
        },
        "UNIQUE_Avatar_Eff2": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireGhost_Around_02",
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "RemoveModifier",
              "doOffStage": true,
              "modifierName": "UNIQUE_Avatar_Eff2"
            }
          ]
        }
      }
    }
  },

  ///////////////////////////////////////////////////
  //
  //	鬼火逻辑恢复器
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_Guiguo_Revert",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "None"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "LEVEL1"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 202,
          "modifierName": "LEVEL2"
        }
      ],
      "modifiers": {
        "None": {},
        "LEVEL1": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_GUIHUO",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 2,
              "minValue": 0
            },
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "UNIQUE_GuiHuo"
            }
          ]
        },
        "LEVEL2": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "target": "Team",
              "key": "_HAS_GUIHUO",
              "value": 2,
              "useLimitRange": true,
              "maxValue": 2,
              "minValue": 0
            },
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "UNIQUE_GuiHuo"
            }
          ]
        },
        "UNIQUE_GuiHuo": {
          "isUnique": true,
          "stacking": "Unique",
          "elementType": "None",
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_HAS_GUIHUO",
              "valueSteps": [-1, 0.5, 1.5, 2.5],
              "modifierNameSteps": [
                "RemoveRockSeed",
                "Team_Avatar_Eff1",
                "Team_Avatar_Eff2"
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "target": "Team",
              "key": "_HAS_GUIHUO",
              "value": 0
            }
          ]
        },

        "RemoveRockSeed": {
          "onAdded": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_GuiHuo"
            }
          ]
        },
        "Team_Avatar_Eff1": {
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Avatar_Eff1"
            }
          ]
        },

        "Team_Avatar_Eff2": {
          "modifierMixins": [
            {
              "$type": "CurLocalAvatarMixin",
              "modifierName": "Avatar_Eff2"
            }
          ]
        },
        "Avatar_Eff1": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireGhost_Around_01"
            }
          ]
        },
        "Avatar_Eff2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireGhost_Around_02"
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////
  //
  //  鬼火基座
  //
  ///////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SceneObj_Level_Common_Property_Prop_GuihuoJizuo_01",
      "abilityMixins": [
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 0,
          "modifierName": "AbsorbRock_Continue"
        },
        {
          "$type": "AttachToGadgetStateMixin",
          "gadgetState": 201,
          "modifierName": "AttachEffect_201"
        }
      ],
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "IS_ROCKFORCE_BASE",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "key": "HAS_ROCK_FORCE",
          "value": 0,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_SceneObj_Rockstraight_02"
        }
      ],
      "modifiers": {
        "AttachEffect_201": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_SceneObj_FireGhost_Bullet",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "AttachPoint",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_SceneObj_Acitve_02"
            }
          ]
        },
        "AbsorbRock_Continue": {
          "thinkInterval": 0.5,
          "onThinkInterval": [
            {
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_AbsorbRock_Add_2_Avatar",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5H4",
                "centerBasedOn": "Self",
                "campTargetType": "All",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "IN_TRIGGRE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            }
          ]
        },
        "UNIQUE_AbsorbRock_Add_2_Avatar": {
          "stacking": "Unique",
          "isUnique": true,
          "duration": 1,
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "doOffStage": true,
              "key": "IN_TRIGGRE",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ],
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "IN_TRIGGRE",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 1
            },
            {
              "$type": "Predicated",
              "target": "Team",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_HAS_GUIHUO",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "successActions": [
                {
                  "$type": "AddGlobalValue",
                  "key": "_HAS_GUIHUO",
                  "target": "Team",
                  "value": -1,
                  "useLimitRange": true,
                  "maxValue": 2,
                  "minValue": 0
                },
                {
                  "$type": "ExecuteGadgetLua",
                  "target": "Applier",
                  "param1": 201
                }
              ]
            }
          ]
        }
      }
    }
  }
]
