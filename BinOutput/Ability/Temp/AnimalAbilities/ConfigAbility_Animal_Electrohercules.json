[
  /////////////////////////////////////////////////////////////////////////////////////////////
  //
  // Properties
  //
  /////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_Properties",
      "abilitySpecials": {
        "Electrohercules_Property_MaxStamina": 100.0,
        "Electrohercules_Property_StaminaRecoverRate": 5.0
      },
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_MAX",
          "value": "%Electrohercules_Property_MaxStamina"
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
          "value": "%Electrohercules_Property_MaxStamina"
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_PARTNER_CANRECOVERSTAMINA",
          "value": 1
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_PARTNER_JUMPBACK_USEABLE",
          "value": 1
        }
      ],
      "abilityMixins": [
        // {
        // 	"$type": "AttachToStateIDMixin",
        // 	"stateIDs":
        // 	[
        // 		"Born",
        // 		"NormalIdle",
        // 		"BeHit",
        // 		"BeHitThrow",
        // 		"Struggle",
        // 		"Warning",
        // 	],
        // 	"modifierName": "UNIQUE_StaminaRecoverStart",
        // },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["JumpBack"],
          "modifierName": "Partner_Animal_Electrohercules_JumpBack_InputUnuseable"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ONIKABUTOBATTLE_PARTNER_CANRECOVERSTAMINA",
          "valueSteps": [-0.5, 0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["Stamina_NoRecover", "Stamina_CanRecover"]
        },
        {
          "$type": "InputActionUseableMixin",
          "inputActionControllerType": "ElectroherculesBattle",
          "useableList": [
            {
              "inputActionType": "Action1",
              "checkCanDoSkill": true,
              "conditions": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
                  "value": 25,
                  "compareType": "MoreThanAndEqual"
                }
              ]
            },
            {
              "inputActionType": "Action2",
              "checkCanDoSkill": false,
              "conditions": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
                  "value": 25,
                  "compareType": "MoreThanAndEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "_ONIKABUTOBATTLE_PARTNER_JUMPBACK_USEABLE",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        }
      ],
      "modifiers": {
        "Stamina_NoRecover": {},
        "Stamina_CanRecover": {
          "thinkInterval": 0.2,
          // "onAdded":
          // [
          // 	{
          // 		"$type": "AddGlobalValue",
          // 		"target": "Self",
          // 		"key" : "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
          // 		"value" : "%Electrohercules_Property_StaminaRecoverRate",
          // 		"useLimitRange" : true,
          // 		"maxValue" : "%Electrohercules_Property_MaxStamina",
          // 		"minValue" : 0,
          // 	},
          // ],
          "onThinkInterval": [
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
              "value": "%Electrohercules_Property_StaminaRecoverRate",
              "useLimitRange": true,
              "maxValue": "%Electrohercules_Property_MaxStamina",
              "minValue": 0
            }
          ]
        },
        "UNIQUE_StaminaRecoverStart": {
          "isUnique": true,
          "stacking": "Refresh",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_PARTNER_CANRECOVERSTAMINA",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_PARTNER_CANRECOVERSTAMINA",
              "value": 0
            }
          ]
        },
        "Partner_Animal_Electrohercules_JumpBack_InputUnuseable": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_PARTNER_JUMPBACK_USEABLE",
              "value": 0
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_PARTNER_JUMPBACK_USEABLE",
              "value": 1
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Properties",
      "abilitySpecials": {
        "Electrohercules_Property_MaxHP": 20.0
      },
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_HP_MAX",
          "value": "%Electrohercules_Property_MaxHP"
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_HP",
          "value": "%Electrohercules_Property_MaxHP"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_HP",
          "valueSteps": [-0.5, 0.5, "%Electrohercules_Property_MaxHP+0.5"],
          "defaultGlobalValueOnCreate": "%Electrohercules_Property_MaxHP",
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "Animal_Electrohercules_Die",
            "Animal_Electrohercules_Alive"
          ]
        }
      ],
      "modifiers": {
        "Animal_Electrohercules_Die": {
          "onAdded": [
            {
              "$type": "KillSelf"
            }
          ]
        },
        "Animal_Electrohercules_Alive": {}
      }
    }
  },
  /////////////////////////////////////////////////////////////////////////////////////////////
  //
  // General handlers
  //
  /////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_BattleStateHandler",
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ONIKABUTOBATTLE_ENEMY_BATTLESTATE",
          "globalValueTarget": "Self",
          "removeAppliedModifier": true,
          "valueSteps": [-0.5, 0.5, 1.5],
          "modifierNameSteps": [
            "Electrohercules_NotInBattle",
            "Electrohercules_InBattle"
          ]
        }
      ],
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_ENEMY_BATTLESTATE",
          "value": 0
        },
        {
          "$type": "SetPoseBool",
          "target": "Self",
          "boolID": "IsInBattle",
          "value": false
        }
      ],
      "modifiers": {
        "Electrohercules_NotInBattle": {
          "onAdded": [
            {
              "$type": "SetPoseBool",
              "target": "Self",
              "boolID": "IsInBattle",
              "value": false
            }
          ]
        },
        "Electrohercules_InBattle": {
          "onAdded": [
            {
              "$type": "SetPoseBool",
              "target": "Self",
              "boolID": "IsInBattle",
              "value": true
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_PlayAlert",
      "abilityMixins": [
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": ["Alert"],
          "modifierName": "IsPlayingAlert"
        }
      ],
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_ENEMY_ALERTISFINISHED",
          "value": 0
        }
      ],
      "onAbilityStart": [
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "PlayAlert"
        }
      ],
      "modifiers": {
        "IsPlayingAlert": {
          "duration": 4.0,
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_ENEMY_ALERTISFINISHED",
              "value": 1
            }
          ]
        }
      }
    }
  },
  /////////////////////////////////////////////////////////////////////////////////////////////
  //
  // Partner control and skills
  //
  /////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_AttackManager",
      "abilitySpecials": {
        "JumpForward_Damage": 1.0,
        "JumpForward_Critical_Damage": 3.0,
        "ChargeState": 0.0
      },
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Partner_Animal_Electrohercules_AttackManager"
        }
      ],
      "abilityMixins": [
        {
          "$type": "DoActionByAnimatorStateIDMixin",
          "stateIDs": ["JumpForward_Once", "JumpForward_Long"],
          "enterActions": [
            {
              "$type": "TriggerBullet",
              "bulletID": 43805001,
              "trackTarget": "Self",
              "born": {
                "$type": "ConfigBornByTarget"
              }
            }
          ],
          "exitActions": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 43805001,
                "sortType": "Reversed"
              }
            }
          ]
        },
        {
          "$type": "DoActionByAnimatorStateIDMixin",
          "stateIDs": [
            "JumpForward_Once_CanTriggerCritical",
            "JumpForward_Long_CanTriggerCritical"
          ],
          "enterActions": [
            {
              "$type": "TriggerBullet",
              "bulletID": 43805002,
              "trackTarget": "Self",
              "born": {
                "$type": "ConfigBornByTarget"
              }
            }
          ],
          "exitActions": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 43805002,
                "sortType": "Reversed"
              }
            }
          ]
        }
      ],
      "modifiers": {
        "Partner_Animal_Electrohercules_AttackManager": {
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Electrohercules_JumpForward"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "target": "Self",
                  "globalValueKey": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGESTATE",
                  "overrideMapKey": "ChargeState"
                },
                {
                  "$type": "AddGlobalValue",
                  "target": "Target",
                  "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_HP",
                  "value": "-1*%JumpForward_Damage-%ChargeState*%JumpForward_Damage",
                  "useLimitRange": true,
                  "maxValue": 999999,
                  "minValue": 0
                }
                // {
                // 	"$type": "SetAnimatorTrigger",
                // 	"target": "Self",
                // 	"triggerID": "RecoilTrigger",
                // },
                // {
                // 	"$type": "SetAnimatorInt",
                // 	"target": "Target",
                // 	"intID": "HitFlag",
                // 	"value": 3,
                // },
                // {
                // 	"$type": "SetAnimatorTrigger",
                // 	"target": "Target",
                // 	"triggerID": "BeHit",
                // },
              ]
            },
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Electrohercules_JumpForward_CriticalTrigger"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "target": "Self",
                  "globalValueKey": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGESTATE",
                  "overrideMapKey": "ChargeState"
                },
                {
                  "$type": "AddGlobalValue",
                  "target": "Target",
                  "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_HP",
                  "value": "-1*%JumpForward_Damage-%ChargeState*%JumpForward_Damage-1*%JumpForward_Critical_Damage",
                  "useLimitRange": true,
                  "maxValue": 999999,
                  "minValue": 0
                }
                // {
                // 	"$type": "SetAnimatorTrigger",
                // 	"target": "Self",
                // 	"triggerID": "CriticalTrigger",
                // },
                // {
                // 	"$type": "SetAnimatorInt",
                // 	"target": "Target",
                // 	"intID": "HitFlag",
                // 	"value": 3,
                // },
                // {
                // 	"$type": "SetAnimatorTrigger",
                // 	"target": "Target",
                // 	"triggerID": "BeHit",
                // },
              ]
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_JumpForward_ChargeHandler",
      "abilitySpecials": {
        "Electrohercules_ChargeState": 0.0,
        "Electrohercules_Stamina_Prededucted": 0.0,
        "Electrohercules_Property_CurrentStamina": 0.0,
        "Electrohercules_Property_MaxStamina": 100.0
      },
      "onAdded": [
        // Initialize charge & stamina prededuct
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGESTATE",
          "value": 0.0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGEDISPLAY",
          "value": 0.0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
          "value": 0.0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_MAX",
          "value": "%Electrohercules_Property_MaxStamina"
        }
        ////////////////////////////////
      ],
      "abilityMixins": [
        {
          "$type": "InputActionHoldChargeMixin",
          "inputActionControllerType": "ElectroherculesBattle",
          "inputActionType": "Action1",
          "chargeTime": 0.2,
          "secondChargeTime": 2.2,
          "OnBeginUncharged": [
            // Get current Stamina
            // Clear prededuct
            {
              "$type": "SetGlobalValueToOverrideMap",
              "target": "Self",
              "globalValueKey": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
              "overrideMapKey": "Electrohercules_Property_CurrentStamina"
            },
            /////////////////////////////
            // Add prededuct
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
              "value": 0.0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
              "value": 25,
              "useLimitRange": true,
              "maxValue": "%Electrohercules_Property_CurrentStamina",
              "minValue": 0
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "target": "Self",
              "globalValueKey": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
              "overrideMapKey": "Electrohercules_Stamina_Prededucted"
            },
            ////////////////////////////////
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "IsCharging"
            }
          ],
          "OnReleaseUncharged": [
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
              "value": 0.0
            },
            // Deduct stamina
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "value": "-1*%Electrohercules_Stamina_Prededucted",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
              "useLimitRange": true,
              "maxValue": "%Electrohercules_Property_MaxStamina",
              "minValue": 0
            },
            /////////////////////////////
            // Do skill
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1011
            }
            ////////////////////////////////
          ],
          "OnBeginCharged": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Partner_Animal_Electrohercules_IsCharging"
            }
          ],
          "OnReleaseCharged": [
            // Deduct stamina
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "value": "-1*%Electrohercules_Stamina_Prededucted",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
              "useLimitRange": true,
              "maxValue": "%Electrohercules_Property_MaxStamina",
              "minValue": 0
            },
            /////////////////////////////
            // Do skill
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1012
            },
            ////////////////////////////////
            {
              "$type": "RemoveModifier",
              "modifierName": "Partner_Animal_Electrohercules_IsCharging"
            }
          ],
          "OnReleaseSecondCharged": [
            // Deduct stamina
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "value": "-1*%Electrohercules_Stamina_Prededucted",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
              "useLimitRange": true,
              "maxValue": "%Electrohercules_Property_MaxStamina",
              "minValue": 0
            },
            /////////////////////////////
            // Do skill
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1012
            },
            ////////////////////////////////
            {
              "$type": "RemoveModifier",
              "modifierName": "Partner_Animal_Electrohercules_IsCharging"
            }
          ],
          "OnCancelCharged": [
            // Interrupt skill
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "ChargeEnd"
            },
            ////////////////////////////////
            {
              "$type": "RemoveModifier",
              "modifierName": "Partner_Animal_Electrohercules_IsCharging"
            }
          ],
          "chargeStateIDs": ["JumpForward_Charging"]
        }
      ],
      "modifiers": {
        "Partner_Animal_Electrohercules_IsCharging": {
          "thinkInterval": 0.05,
          "onAdded": [
            // Add prededuct
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
              "value": 1,
              "useLimitRange": true,
              "maxValue": "%Electrohercules_Property_CurrentStamina",
              "minValue": 0
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "target": "Self",
              "globalValueKey": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
              "overrideMapKey": "Electrohercules_Stamina_Prededucted"
            },
            /////////////////////////////
            // Do chargestate calculate
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGEDISPLAY",
              "value": 0.025,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "target": "Self",
              "globalValueKey": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGEDISPLAY",
              "overrideMapKey": "Electrohercules_ChargeState"
            },
            {
              "$type": "SetAnimatorFloat",
              "target": "Self",
              "floatID": "ChargeState",
              "value": "%Electrohercules_ChargeState"
            },
            /////////////////////////////
            // pause stamina recover
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_PARTNER_CANRECOVERSTAMINA",
              "value": 0
            }
          ],
          "onThinkInterval": [
            // TODO:
            // if (chargebar is topped) or (preducted stamina will clear all stamina),
            // then Do skill base on current chargeState
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByAny",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "target": "Self",
                      "key": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGEDISPLAY",
                      "value": 1,
                      "compareType": "Equal"
                    },
                    {
                      "$type": "ByTargetGlobalValue",
                      "target": "Self",
                      "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
                      "value": "%Electrohercules_Property_CurrentStamina",
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              // "successActions":
              // [
              // 	// Deduct stamina
              // 	{
              // 		"$type": "AddGlobalValue",
              // 		"target": "Self",
              // 		"value" : "-1*%Electrohercules_Stamina_Prededucted",
              // 		"key" : "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
              // 		"useLimitRange" : true,
              // 		"maxValue" : "%Electrohercules_Property_MaxStamina",
              // 		"minValue" : 0,
              // 	},
              // 	/////////////////////////////
              // 	// Do skill
              // 	// End charging
              // 	{
              // 		"$type": "SetAnimatorTrigger",
              // 		"triggerID": "DoSkill",
              // 	},
              // 	{
              // 		"$type": "SetAnimatorInt",
              // 		"intID": "SkillID",
              // 		"value": 1012,
              // 	},
              // 	{
              // 		"$type": "RemoveModifier",
              // 		"modifierName": "Partner_Animal_Electrohercules_IsCharging",
              // 	},
              // 	/////////////////////////////
              // ],
              "successActions": [
                // Stop charging
                /////////////////////////////
              ],
              "failActions": [
                // TODO:
                // chargebar has not yet topped and stamina is not cleared
                // Do prededuct
                {
                  "$type": "AddGlobalValue",
                  "target": "Self",
                  "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": "%Electrohercules_Property_CurrentStamina",
                  "minValue": 0
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "target": "Self",
                  "globalValueKey": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
                  "overrideMapKey": "Electrohercules_Stamina_Prededucted"
                },
                /////////////////////////////
                // Add chargestate
                // and maintain related animator preperties
                {
                  "$type": "AddGlobalValue",
                  "target": "Self",
                  "key": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGEDISPLAY",
                  "value": 0.025,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "target": "Self",
                  "globalValueKey": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGEDISPLAY",
                  "overrideMapKey": "Electrohercules_ChargeState"
                },
                {
                  "$type": "SetAnimatorFloat",
                  "target": "Self",
                  "floatID": "ChargeState",
                  "value": "%Electrohercules_ChargeState"
                }
                /////////////////////////////
              ]
            }
          ],
          "onRemoved": [
            // End charging
            // Clear chargebar
            // Clear stamina prededuction
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGESTATE",
              "value": "%Electrohercules_ChargeState"
            },
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "_ONIKABUTOBATTLE_PLAYERCONTROL_CHARGEDISPLAY",
              "value": 0.0
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA_PREDEDUCTED",
              "value": 0.0
            },
            ////////////////////////////////
            // resume stamina recover
            {
              "$type": "SetGlobalValue",
              "key": "_ONIKABUTOBATTLE_PARTNER_CANRECOVERSTAMINA",
              "value": 1
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_JumpBack_Handler",
      "abilityMixins": [
        {
          "$type": "InputActionHoldChargeMixin",
          "inputActionControllerType": "ElectroherculesBattle",
          "inputActionType": "Action2",
          "chargeTime": 0.0,
          "OnBeginCharged": [
            // Jump base cost
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_STAMINA",
              "value": -25,
              "useLimitRange": true,
              "maxValue": 100,
              "minValue": 0
            },
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1021
            }
          ],
          "chargeStateIDs": ["JumpBack"]
        }
      ]
    }
  },
  /////////////////////////////////////////////////////////////////////////////////////////////
  //
  // Jump Skill Attack
  //
  /////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_JumpForward_Attack",
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 0.5,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "attackTag": "Electrohercules_JumpForward",
              "attackProperty": {
                "damagePercentage": 0,
                "strikeType": "Blunt",
                "attackType": "Melee",
                "enBreak": 0
              },
              "forceCameraShake": true,
              "cameraShake": {
                "shakeRange": 0.05,
                "shakeTime": 0.5,
                "shakeDistance": 35,
                "shakeType": "CustomVector",
                "shakeDir": {
                  "x": 0,
                  "y": 1,
                  "z": 0
                },
                "extension": {
                  "baseOnCamera": true,
                  "rangeAttenuation": 0.0
                }
              }
            }
          }
        },
        {
          "$type": "SetAnimatorTrigger",
          "target": "Owner",
          "triggerID": "RecoilTrigger"
        },
        {
          "$type": "SetAnimatorInt",
          "target": "Target",
          "intID": "HitFlag",
          "value": 2
        },
        {
          "$type": "SetAnimatorTrigger",
          "target": "Target",
          "triggerID": "BeHit"
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_JumpForward_CriticalTrigger",
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 0.5,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "attackTag": "Electrohercules_JumpForward_CriticalTrigger",
              "attackProperty": {
                "damagePercentage": 0,
                "strikeType": "Blunt",
                "attackType": "Melee",
                "enBreak": 0
              },
              "forceCameraShake": true,
              "cameraShake": {
                "shakeRange": 0.35,
                "shakeTime": 0.5,
                "shakeDistance": 15,
                "shakeType": "CustomVector",
                "shakeDir": {
                  "x": 0,
                  "y": 1,
                  "z": 0
                },
                "extension": {
                  "baseOnCamera": true,
                  "rangeAttenuation": 0.0
                }
              }
            }
          }
        },
        {
          "$type": "SetAnimatorTrigger",
          "target": "Owner",
          "triggerID": "CriticalTrigger"
        },
        {
          "$type": "SetAnimatorInt",
          "target": "Target",
          "intID": "HitFlag",
          "value": 3
        },
        {
          "$type": "SetAnimatorTrigger",
          "target": "Target",
          "triggerID": "BeHit"
        }
      ]
    }
  },
  /////////////////////////////////////////////////////////////////////////////////////////////
  //
  // Enemy Skills
  //
  /////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Enemy01_SkillManager",
      "abilitySpecials": {
        "MeleeAttack01_Damage": 1.0
      },
      "abilityMixins": [
        {
          "$type": "DoActionByAnimatorStateIDMixin",
          "stateIDs": ["MeleeAttack01_01"],
          "enterActions": [
            {
              "$type": "TriggerBullet",
              "bulletID": 43805004,
              "trackTarget": "Self",
              "born": {
                "$type": "ConfigBornByTarget"
              }
            }
          ],
          "exitActions": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 43805004,
                "sortType": "Reversed"
              }
            }
          ]
        }
      ],
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Animal_Electrohercules_Enemy_MeleeAttack01"
        }
      ],
      "modifiers": {
        "Animal_Electrohercules_Enemy_MeleeAttack01": {
          "onAttackLanded": [
            // {
            // 	"$type":"Predicated",
            // 	"target":"Target",
            // 	"targetPredicates":
            // 	[
            // 		{
            // 			"$type":"ByAttackTags",
            // 			"attackTags":["Electrohercules_MeleeAttack01"]
            // 		},
            // 	],
            // 	"successActions":
            // 	[
            // 		{
            // 			"$type": "AddGlobalValue",
            // 			"target": "Target",
            // 			"key" : "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_HP_MAX",
            // 			"value" : -1,
            // 			"useLimitRange" : true,
            // 			"maxValue" : 999999,
            // 			"minValue" : 0,
            // 		},
            // 		{
            // 			"$type": "SetAnimatorInt",
            // 			"target": "Target",
            // 			"intID": "HitFlag",
            // 			"value": 3,
            // 		},
            // 		{
            // 			"$type": "SetAnimatorTrigger",
            // 			"target": "Target",
            // 			"triggerID": "BeHit",
            // 		},
            // 	],
            // },
            // {
            // 	"$type":"Predicated",
            // 	"target":"Target",
            // 	"targetPredicates":
            // 	[
            // 		{
            // 			"$type":"ByAttackTags",
            // 			"attackTags":["Electrohercules_RangedAttack01"]
            // 		},
            // 	],
            // 	"successActions":
            // 	[
            // 		{
            // 			"$type": "AddGlobalValue",
            // 			"target": "Target",
            // 			"key" : "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_HP_MAX",
            // 			"value" : -1,
            // 			"useLimitRange" : true,
            // 			"maxValue" : 999999,
            // 			"minValue" : 0,
            // 		},
            // 		{
            // 			"$type": "SetAnimatorInt",
            // 			"target": "Target",
            // 			"intID": "HitFlag",
            // 			"value": 3,
            // 		},
            // 		{
            // 			"$type": "SetAnimatorTrigger",
            // 			"target": "Target",
            // 			"triggerID": "BeHit",
            // 		},
            // 	],
            // },
            {
              "$type": "AddGlobalValue",
              "target": "Target",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_HP",
              "value": -3,
              "useLimitRange": true,
              "maxValue": 999999,
              "minValue": 0
            },
            {
              "$type": "SetAnimatorInt",
              "target": "Target",
              "intID": "HitFlag",
              "value": 3
            },
            {
              "$type": "SetAnimatorTrigger",
              "target": "Target",
              "triggerID": "BeHit"
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Enemy02_SkillManager",
      "abilitySpecials": {
        "MeleeAttack01_Damage": 1.0
      },
      "abilityMixins": [
        {
          "$type": "DoActionByAnimatorStateIDMixin",
          "stateIDs": [
            "MeleeAttack01_01",
            "MeleeAttack01_02",
            "MeleeAttack01_03"
          ],
          "enterActions": [
            {
              "$type": "TriggerBullet",
              "bulletID": 43805004,
              "trackTarget": "Self",
              "born": {
                "$type": "ConfigBornByTarget"
              }
            }
          ],
          "exitActions": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 43805004,
                "sortType": "Reversed"
              }
            }
          ]
        }
      ],
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Animal_Electrohercules_Enemy_MeleeAttack01"
        }
      ],
      "modifiers": {
        "Animal_Electrohercules_Enemy_MeleeAttack01": {
          "onAttackLanded": [
            {
              "$type": "AddGlobalValue",
              "target": "Target",
              "key": "_ONIKABUTOBATTLE_MONSTER_ELECTROHERCULES_HP",
              "value": -3,
              "useLimitRange": true,
              "maxValue": 999999,
              "minValue": 0
            },
            {
              "$type": "SetAnimatorInt",
              "target": "Target",
              "intID": "HitFlag",
              "value": 3
            },
            {
              "$type": "SetAnimatorTrigger",
              "target": "Target",
              "triggerID": "BeHit"
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Enemy_RangedAttack01_Chasing",
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 43805003,
          "campID": 4003,
          "lifeByOwnerIsAlive": true,
          "target": "SelfAttackTarget",
          "born": {
            "$type": "ConfigBornByPredicatePoint",
            "timeForPredictive": 0.0,
            "bornRandom": {
              "$type": "BornRandomFromCenter",
              "minRandomRange": 0.0,
              "maxRandomRange": 0.0
            },
            "onGround": true,
            "onGroundRaycastUpDist": 0.2
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Enemy_RangedAttack01_ExLongRange",
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 43805003,
          "campID": 4003,
          "lifeByOwnerIsAlive": true,
          "target": "Self",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0,
              "y": 0,
              "z": 3.0
            },
            "onGround": true
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Enemy_RangedAttack01_LongRange",
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 43805003,
          "campID": 4003,
          "lifeByOwnerIsAlive": true,
          "target": "Self",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0,
              "y": 0,
              "z": 2
            },
            "onGround": true
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Enemy_RangedAttack01_MidRange",
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 43805003,
          "campID": 4003,
          "lifeByOwnerIsAlive": true,
          "target": "Self",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0,
              "y": 0,
              "z": 1.5
            },
            "onGround": true
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Enemy_RangedAttack01_CloseRange",
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 43805003,
          "campID": 4003,
          "lifeByOwnerIsAlive": true,
          "target": "Self",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0,
              "y": 0,
              "z": 1.0
            },
            "onGround": true
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Enemy_CreateElectricBall_MidRange",
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 43805005,
          "campID": 4003,
          "lifeByOwnerIsAlive": true,
          "target": "Self",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0,
              "y": 0.2,
              "z": 1.5
            }
            //"onGround": true,
          }
        }
      ]
    }
  },
  {
    "Default": {
      //子弹触发逻辑
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_Enemy_RangedAttack01_Attack",
      "onAdded": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Animal_Electrohercules_RangedAttack01_Alert",
          "born": {
            "$type": "ConfigBornByTarget",
            "onGround": true,
            "alongGround": true
          }
        },
        {
          "$type": "TriggerAudio",
          "responder": "Caster",
          "operation": {
            "$type": "ConfigAudioEventOp",
            "operation": {
              "text": "Play_sfx_monster_effigy_ice_vfx_spikeStrike_alert"
            }
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Damage_Timer"
        }
      ],
      "modifiers": {
        "Damage_Timer": {
          "duration": 1.0,
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Animal_Electrohercules_RangedAttack01_Attack",
              "born": {
                "$type": "ConfigBornByTarget",
                "onGround": true,
                "alongGround": true
              }
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_sfx_monster_effigy_ice_vfx_spikeStrike_attack"
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "SingleDamage",
              "target": "Self"
            }
          ]
        },
        "SingleDamage": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "fanAngle": 360.0,
                  "height": 2,
                  "radius": 1.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0, // + means up, - means down
                      "y": 0, // + means left, - means right
                      "z": 0 // + means forward, - means backward
                    },
                    "onGround": true,
                    "alongGround": true
                  }
                },
                "attackInfo": {
                  "attackTag": "Electrohercules_RangedAttack01",
                  "attackProperty": {
                    "damagePercentage": 0,
                    "strikeType": "Blunt",
                    "attackType": "Melee",
                    "enBreak": 0
                  }
                }
              }
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Bullet_Animal_Electrohercules_ElectricBall_OnGround",
      "onAdded": [
        // init kicked marker
        {
          "$type": "SetGlobalValue",
          "key": "_ONIKABUTOBATTLE_BULLET_ELECTRICBALL_KICKED",
          "value": 0
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Animal_Electrohercules_ElectricBall_OnGround"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "KillSelf"
        }
      ],
      "modifiers": {
        //TODO
        //
        "Animal_Electrohercules_ElectricBall_OnGround": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Animal_Electrohercules_ElectricBall_OnGround",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "onGround": true
              }
            }
          ],
          "onBeingHit": [
            // check if hit by Electrohercules_MeleeAttack01 & not yet kicked
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "_ONIKABUTOBATTLE_BULLET_ELECTRICBALL_KICKED",
                  "value": 0,
                  "compareType": "Equal"
                },
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Electrohercules_MeleeAttack01"]
                }
              ],
              "successActions": [
                //Trigger camerashake
                {
                  "$type": "TriggerAttackEvent",
                  "targetType": "None",
                  "attackEvent": {
                    "attackPattern": {
                      "$type": "ConfigAttackBox",
                      "triggerType": "TriggerNoRepeat",
                      "size": {
                        "x": 0.1,
                        "y": 0.1,
                        "z": 0.1
                      },
                      "born": {
                        "$type": "ConfigBornBySelf"
                      },
                      "ignoreMassive": true
                    },
                    "attackInfo": {
                      "attackProperty": {
                        "damagePercentage": 0
                      },
                      "hitPattern": {
                        "onHitEffectName": "none",
                        "hitImpulseType": "LV0",
                        "reboundRatio": 0,
                        "hitHaltTime": 0.0,
                        "hitHaltTimeScale": 0.05,
                        "muteHitText": false
                      },
                      "forceCameraShake": true,
                      "cameraShake": {
                        "shakeRange": 1.0,
                        "shakeTime": 0.2,
                        "shakeDistance": 10,
                        "shakeType": "CustomVector",
                        "shakeDir": {
                          "x": 0,
                          "y": 0,
                          "z": 2
                        },
                        "extension": {
                          "baseOnCamera": true
                        }
                      }
                    }
                  }
                },
                //trigger bullet
                {
                  "$type": "TriggerBullet",
                  "bulletID": 43805006,
                  "target": "Self",
                  "isPeerIdFromPlayer": true,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 0.0
                    }
                  }
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ONIKABUTOBATTLE_BULLET_ELECTRICBALL_KICKED",
                  "value": 1
                },
                {
                  "$type": "KillSelf"
                }
              ]
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Bullet_Animal_Electrohercules_ElectricBall_Kicked",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Animal_Electrohercules_ElectricBall_Kicked_Bullet"
        }
      ],
      "onAbilityStart": [
        // if hit, deal damage
        {
          "$type": "FireEffect",
          //"target": "Self",
          "effectPattern": "Eff_Animal_Electrohercules_ElectricBall_Kicked_Bullet_Hit",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "onGround": true
          }
        }
      ],
      "modifiers": {}
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Animal_Electrohercules_MeleeAttack01_Attack",
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 0.5,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "attackTag": "Electrohercules_MeleeAttack01",
              "attackProperty": {
                "damagePercentage": 0,
                "strikeType": "Blunt",
                "attackType": "Melee",
                "enBreak": 0
              }
            }
          }
        },
        {
          "$type": "SetAnimatorInt",
          "target": "Target",
          "intID": "HitFlag",
          "value": 3
        },
        {
          "$type": "SetAnimatorTrigger",
          "target": "Target",
          "triggerID": "BeHit"
        }
      ]
    }
  },
  /////////////////////////////////////////////////////////////////////////////////////////////
  //
  // ToDEL
  //
  /////////////////////////////////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_Stamina_StartRecover"
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_Stamina_StopRecover"
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_JumpForward_Once_Test"
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_JumpForward_Long01_Test"
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_JumpForward_Long02_Test"
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_JumpForward_Long03_Test"
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Partner_Animal_Electrohercules_JumpBack_Test"
    }
  }
]
