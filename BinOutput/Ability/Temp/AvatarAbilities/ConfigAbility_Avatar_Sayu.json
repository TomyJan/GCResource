[
  ///////////////////////////////////////////////////////////////
  //
  // 普攻和重击
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ExtraAttack",
      "abilityMixins": [
        {
          "$type": "ButtonHoldChargeMixin",
          "skillID": 10531,
          "chargeTime": 0.25,
          "secondChargeTime": "%ExtraAttack_Claymore_MaxTime",
          "OnBeginUncharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1
            },
            {
              "$type": "ResetAnimatorTrigger",
              "triggerID": "EndHoldTrigger"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "SetTrigger"
            }
          ],
          "OnReleaseUncharged": [],
          "OnBeginCharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 6
            }
          ],
          "OnReleaseCharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "EndHoldTrigger"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "SetTrigger"
            }
          ],
          "OnBeginSecondCharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "EndHoldTrigger"
            }
          ],
          "chargeStateIDs": [
            "Attack01_BS",
            "Attack01",
            "Attack02",
            "Attack03",
            "Attack04",
            "ExtraAttack",
            "ExtraAttack1"
          ]
        },
        {
          "$type": "AvatarSteerByCameraMixin",
          "stateIDs": ["ExtraAttack1"],
          "angularSpeed": 360
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "ExtraAttack",
            "ExtraAttack1",
            "ExtraAttack2",
            "ExtraAttack3"
          ],
          "modifierName": "Camera"
        },

        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["ExtraAttack1"],
          "modifierName": "Cost"
        }
      ],
      "modifiers": {
        "SetTrigger": {
          "duration": 1,
          "onRemoved": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "EndHoldTrigger"
            }
          ]
        },
        "Camera": {
          "onRemoved": [
            {
              "$type": "AvatarExitCameraShot",
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "AvatarExitCameraShot",
              "doOffStage": true
            }
          ]
        },
        "Cost": {
          "modifierMixins": [
            {
              "$type": "CostStaminaMixin",
              "costStaminaDelta": "%ExtraAttack_Claymore_Stamina_Cost",
              "onStaminaEmpty": [
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "EndHoldTrigger"
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "ExtraAttack_Claymore_Stamina_Cost": 0,
        "ExtraAttack_Claymore_MaxTime": 0
      }
    }
  },

  //普攻的一些ability控制
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_NormalAttack_Handler",
      "abilityMixins": [
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Attack04",
          "modifierName": "Avatar_Sayu_NormalAttack_Hide",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.095
        }
      ],
      "modifiers": {
        //隐身， 但是不穿怪
        "Avatar_Sayu_NormalAttack_Hide": {
          "onAdded": [
            {
              "$type": "TriggerSetVisible",
              "visible": false,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerSetVisible",
              "visible": true,
              "doOffStage": true
            }
          ]
        }
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  元素战技按键检测(点按、长按区分)
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Check",
      "abilityMixins": [
        {
          "$type": "SkillButtonHoldChargeMixin",
          "skillID": 10532,
          "beforeStateIDs": ["Sayu_ElementalArt_BS"],
          "chargeLoopStateIDs": ["Sayu_ElementalArt_Charge"],
          "chargeLoopDurations": [3],
          "nextLoopTriggerID": "NextLoopTrigger",
          "endHoldTrigger": "EndHoldTrigger"
        }
      ],
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Avatar_Sayu_ElementalArt_DropBall_Handler"
        }
      ],
      "modifiers": {
        //早柚小技能掉球检测
        "Avatar_Sayu_ElementalArt_DropBall_Handler": {
          "onAttackLanded": [
            {
              //点按或长按的脚踢掉球检测
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Elemental_Art"]
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Strike_DropBall",
                  "target": "Self",
                  "doOffStage": true
                }
              ]
            },
            {
              //长按滚球状态下的掉球检测
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Elemental_Art_Hold"]
                },
                {
                  "$type": "ByHitElement", //限制打击的风元素伤害才掉球
                  "element": "Wind"
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_ClickOrHold_Mark", //判定为长按的滚球
                  "value": 2,
                  "compareType": "Equal",
                  "target": "Caster"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Roll_DropBall",
                  "target": "Self",
                  "doOffStage": true
                }
              ]
            }
          ]
        },
        //点按或长按脚踢掉球 均为6点能量
        "UNIQUE_Strike_DropBall": {
          "duration": 0.5,
          "isUnique": true,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "GenerateElemBall",
              "configID": 2021,
              "baseEnergy": 6,
              "ratio": 1,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.5,
                  "z": 1.0
                }
              },
              "doOffStage": true
            }
          ]
        },
        //长按滚球状态下的掉球 3点能量（带内置CD）
        "UNIQUE_Roll_DropBall": {
          "duration": 3.0,
          "isUnique": true,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "GenerateElemBall",
              "configID": 2021,
              "baseEnergy": 3,
              "ratio": 1,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.5,
                  "z": 0.5
                }
              },
              "doOffStage": true
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  //  点按__元素战技__转球
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Click",
      "onAbilityStart": [
        //翻滚起身脚踢
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackCircle",
              "triggerType": "TriggerNoRepeat",
              "fanAngle": 360.0,
              "height": 1.8,
              "radius": 2.5,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": -0.5,
                  "z": 0.5
                }
              }
            },
            "attackInfo": {
              "attackTag": "Elemental_Art",
              // "attenuationTag": "Elemental_Art",   //脚踢不走衰减
              "attackProperty": {
                "damagePercentage": "%Click_StrikeDamage",
                "elementType": "Wind",
                "elementDurability": 25,
                "enBreak": 120,
                "attackType": "Melee",
                "strikeType": "Default"
              },
              "hitPattern": {
                "onHitEffectName": "default",
                "hitImpulseType": "LV3",
                "reboundRatio": 0,
                "retreatType": "ByHitDirection",
                "canBeDefenceHalt": false,
                "hitHaltTime": 0.02,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeType": "CustomVector",
                "shakeRange": 0.36,
                "shakeTime": 0.15,
                "shakeDistance": 30,
                "shakeDir": {
                  "x": 0,
                  "y": 1,
                  "z": 0
                },
                "extension": {
                  "baseCycle": 0.24,
                  "cycleDamping": 0,
                  "rangeAttenuation": 0.3
                }
              }
            }
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Strike"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Strike"],
          "modifierName": "Avatar_Sayu_ElementalArt_Click_EnterCD"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Roll"],
          "modifierName": "Avatar_Sayu_ElementalArt_Click_TriggerBullet"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Roll"],
          "modifierName": "Avatar_Sayu_ElementalArt_Click_Effect"
        }
      ],
      "modifiers": {
        //点按CD控制
        "Avatar_Sayu_ElementalArt_Click_EnterCD": {
          "onAdded": [
            {
              "$type": "AvatarSkillStart",
              "skillID": 10532,
              "cdRatio": 1.0,
              "predicates": [
                {
                  "$type": "BySkillReady",
                  "skillID": 10532
                }
              ]
            }
          ]
        },
        //随身创建一个Bullet
        "Avatar_Sayu_ElementalArt_Click_TriggerBullet": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_ClickOrHold_Mark", //上个点按的标记
              "value": 1
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41053001,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 41053001,
                "sortType": "Default"
              },
              "doOffStage": true
            }
          ]
        },
        //点按滚动特效管理
        "Avatar_Sayu_ElementalArt_Click_Effect": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_HideSpark"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Roll"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Roll_Fade"
            }
          ]
        }
      },
      "abilitySpecials": {
        "Click_StrikeDamage": 0
      }
    }
  },

  //41053001 Gadget 早柚点按随身创建的子弹
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Bullet",
      "onAbilityStart": [
        {
          //点按滚球时的撞击伤害
          "$type": "DamageByAttackValue",
          "target": "Target",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0,
              "y": 1.0,
              "z": 0
            }
          },
          "attackInfo": {
            "canBeModifiedBy": "OriginOwner",
            "attackTag": "Elemental_Art_Hold",
            "attenuationTag": "Elemental_Art_Wind",
            "attackProperty": {
              "damagePercentage": "%Roll_Damage",
              "elementType": "Wind",
              "elementDurability": 25,
              "enBreak": 25,
              "attackType": "Melee",
              "strikeType": "Default"
            },
            "hitPattern": {
              "onHitEffectName": "default",
              "hitImpulseType": "LV2",
              "reboundRatio": 0,
              "retreatType": "ByHitDirection",
              "canBeDefenceHalt": false,
              "hitHaltTime": 0.01,
              "hitHaltTimeScale": 0.05,
              "muteHitText": false
            }
          }
        }
      ],
      "abilitySpecials": {
        "Roll_Damage": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  //  长按__元素战技__滚球
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Hold",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Avatar_Sayu_ElementalArt_Hold_Strike"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AvatarSteerByCameraMixin",
          "stateIDs": ["Sayu_ElementalArt_Hold_Roll"],
          "angularSpeed": 3600
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Hold_Roll"],
          "modifierName": "Avatar_Sayu_ElementalArt_Roll_CDHandler"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Hold_Roll"],
          "modifierName": "Avatar_Sayu_ElementalArt_Roll_Handler"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Hold_Roll"],
          "modifierName": "Avatar_Sayu_ElementalArt_Roll_CloseCollider"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Hold_Roll"],
          "modifierName": "Avatar_Sayu_ElementalArt_Roll_Effect"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Hold_Roll"],
          "modifierName": "Avatar_Sayu_ElementalArt_Roll_TriggerBullet"
        }
      ],
      "modifiers": {
        //长按滚球处理CD计算逻辑 预期是6-11秒
        "Avatar_Sayu_ElementalArt_Roll_CDHandler": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_CD_Count",
              "value": 1
            }
          ],
          "thinkInterval": 0.5,
          "onThinkInterval": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_CD_Count",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 20,
              "doOffStage": true
            }
          ],
          //移除状态时计算CD
          "onRemoved": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Sayu_ElementalArt_CD_Count",
              "overrideMapKey": "CD_Count",
              "doOffStage": true
            },
            {
              "$type": "AvatarSkillStart",
              "skillID": 10532,
              "cdRatio": "1+%CD_Count*0.0417",
              "predicates": [
                {
                  "$type": "BySkillReady",
                  "skillID": 10532
                }
              ],
              "doOffStage": true
            }
          ],
          //换人时也需要计算CD
          "onAvatarOut": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Sayu_ElementalArt_CD_Count",
              "overrideMapKey": "CD_Count",
              "doOffStage": true
            },
            {
              "$type": "AvatarSkillStart",
              "skillID": 10532,
              "cdRatio": "1+%CD_Count*0.0417",
              "predicates": [
                {
                  "$type": "BySkillReady",
                  "skillID": 10532
                }
              ],
              "doOffStage": true
            }
          ]
        },
        //滚球起身Trigger控制器
        "Avatar_Sayu_ElementalArt_Roll_Handler": {
          "duration": 10.5, //稍微延长一点点避免延迟卡断
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_ClickOrHold_Mark",
              "value": 2
            }
          ],
          "modifierMixins": [
            {
              "$type": "SwitchSkillIDMixin", //这个mixin是永续的，只是在remove的时候发动了B替换回A（如果查找不到B整个替换回行为就会失效）
              "priority": "AvatarSpecial",
              "skillIndex": 1,
              "skillID": 10533
            },
            {
              "$type": "CostStaminaMixin",
              "costStaminaDelta": 0.1 //消耗非常低 保持自己不恢复体力
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "PRIVATE_ElementalArt_End",
              "doOffStage": true
            }
          ],
          "thinkInterval": 0.5,
          //检测处于一定水深时就要直接起身了，防止在水上滚时卡动作
          "onThinkInterval": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "PRIVATE_ElementalArt_End",
              "predicates": [
                {
                  "$type": "ByAvatarInWaterDepth",
                  "compareType": "MoreThan",
                  "depth": 1.0
                }
              ]
            }
          ]
        },
        //关闭碰撞盒
        "Avatar_Sayu_ElementalArt_Roll_CloseCollider": {
          "onAdded": [
            {
              "$type": "TriggerSetPassThrough",
              "passThrough": true,
              "doOffStage": true
            },
            {
              "$type": "EnableHDMesh",
              "enable": false,
              "hdMeshKey": "Default"
            },
            {
              "$type": "EnableHDMesh",
              "enable": true,
              "hdMeshKey": "ElementalArt"
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerSetPassThrough",
              "passThrough": false,
              "doOffStage": true,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnableHDMesh",
              "enable": false,
              "hdMeshKey": "ElementalArt",
              "canBeHandledOnRecover": true,
              "doOffStage": true
            },
            {
              "$type": "EnableHDMesh",
              "enable": true,
              "hdMeshKey": "Default",
              "doOffStage": true,
              "canBeHandledOnRecover": true
            }
          ]
        },
        //长按滚动特效管理
        "Avatar_Sayu_ElementalArt_Roll_Effect": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Charge_Spark"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Roll"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Roll_Fade"
            }
          ]
        },
        //进入滚球状态创建随身Bullet
        "Avatar_Sayu_ElementalArt_Roll_TriggerBullet": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_MixType", //挂在角色上时用于攻击伤害判定
              "value": 0
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41053002,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "RootNode",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 41053002,
                "sortType": "Default"
              },
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 41053002,
                "sortType": "Default"
              },
              "doOffStage": true
            }
          ]
        },
        //长按滚球结束时的脚踢伤害
        "Avatar_Sayu_ElementalArt_Hold_Strike": {
          "duration": 0.5,
          "onAdded": [
            //固有风元素伤害
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "fanAngle": 360.0,
                  "height": 2.5,
                  "radius": 3.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": -0.5,
                      "z": 0.5
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "Elemental_Art",
                  // "attenuationTag": "Elemental_Art",   //脚踢不走衰减
                  "attackProperty": {
                    "damagePercentage": "%Hold_StrikeDamage",
                    "elementType": "Wind",
                    "elementDurability": 25,
                    "enBreak": 200,
                    "attackType": "Melee",
                    "strikeType": "Default"
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV3",
                    "reboundRatio": 0,
                    "retreatType": "ByHitDirection",
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0.02,
                    "hitHaltTimeScale": 0.05,
                    "muteHitText": false
                  },
                  "forceCameraShake": false,
                  "cameraShake": {
                    "shakeType": "CustomVector",
                    "shakeRange": 0.36,
                    "shakeTime": 0.15,
                    "shakeDistance": 30,
                    "shakeDir": {
                      "x": 0,
                      "y": 1,
                      "z": 0
                    },
                    "extension": {
                      "baseCycle": 0.24,
                      "cycleDamping": 0,
                      "rangeAttenuation": 0.3
                    }
                  }
                }
              }
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Hold_Strike",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "forceByCaster": true,
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            //附加额外火元素伤害
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "forceByCaster": true,
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "TriggerAttackEvent",
                  "targetType": "Enemy",
                  "attackEvent": {
                    "attackPattern": {
                      "$type": "ConfigAttackCircle",
                      "triggerType": "TriggerNoRepeat",
                      "fanAngle": 360.0,
                      "height": 2.5,
                      "radius": 3.0,
                      "born": {
                        "$type": "ConfigBornBySelf",
                        "offset": {
                          "x": 0.0,
                          "y": -0.5,
                          "z": 0.5
                        }
                      }
                    },
                    "attackInfo": {
                      "attackTag": "Elemental_Art",
                      // "attenuationTag": "Elemental_Art_Fire",  //脚踢不走衰减
                      "attackProperty": {
                        "damagePercentage": "%Hold_Mix_StrikeDamage",
                        "elementType": "Fire",
                        "elementDurability": 25,
                        "enBreak": 0,
                        "attackType": "Melee",
                        "strikeType": "Default"
                      },
                      "hitPattern": {
                        "onHitEffectName": "default",
                        "hitImpulseType": "LV3",
                        "reboundRatio": 0,
                        "retreatType": "ByHitDirection",
                        "canBeDefenceHalt": false,
                        "hitHaltTime": 0,
                        "hitHaltTimeScale": 0.05,
                        "muteHitText": false
                      },
                      "forceCameraShake": false
                    }
                  }
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Hold_Strike_Fire"
                }
              ]
            },
            //附加额外水元素伤害
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "forceByCaster": true,
                  "value": 2,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "TriggerAttackEvent",
                  "targetType": "Enemy",
                  "attackEvent": {
                    "attackPattern": {
                      "$type": "ConfigAttackCircle",
                      "triggerType": "TriggerNoRepeat",
                      "fanAngle": 360.0,
                      "height": 2.5,
                      "radius": 3.0,
                      "born": {
                        "$type": "ConfigBornBySelf",
                        "offset": {
                          "x": 0.0,
                          "y": -0.5,
                          "z": 0.5
                        }
                      }
                    },
                    "attackInfo": {
                      "attackTag": "Elemental_Art",
                      // "attenuationTag": "Elemental_Art_Water",   //脚踢不走衰减
                      "attackProperty": {
                        "damagePercentage": "%Hold_Mix_StrikeDamage",
                        "elementType": "Water",
                        "elementDurability": 25,
                        "enBreak": 0,
                        "attackType": "Melee",
                        "strikeType": "Default"
                      },
                      "hitPattern": {
                        "onHitEffectName": "default",
                        "hitImpulseType": "LV3",
                        "reboundRatio": 0,
                        "retreatType": "ByHitDirection",
                        "canBeDefenceHalt": false,
                        "hitHaltTime": 0,
                        "hitHaltTimeScale": 0.05,
                        "muteHitText": false
                      },
                      "forceCameraShake": false
                    }
                  }
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Hold_Strike_Water"
                }
              ]
            },
            //附加额外雷元素伤害
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "forceByCaster": true,
                  "value": 3,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "TriggerAttackEvent",
                  "targetType": "Enemy",
                  "attackEvent": {
                    "attackPattern": {
                      "$type": "ConfigAttackCircle",
                      "triggerType": "TriggerNoRepeat",
                      "fanAngle": 360.0,
                      "height": 2.5,
                      "radius": 3.0,
                      "born": {
                        "$type": "ConfigBornBySelf",
                        "offset": {
                          "x": 0.0,
                          "y": -0.5,
                          "z": 0.5
                        }
                      }
                    },
                    "attackInfo": {
                      "attackTag": "Elemental_Art",
                      // "attenuationTag": "Elemental_Art_Electric",   //脚踢不走衰减
                      "attackProperty": {
                        "damagePercentage": "%Hold_Mix_StrikeDamage",
                        "elementType": "Electric",
                        "elementDurability": 25,
                        "enBreak": 0,
                        "attackType": "Melee",
                        "strikeType": "Default"
                      },
                      "hitPattern": {
                        "onHitEffectName": "default",
                        "hitImpulseType": "LV3",
                        "reboundRatio": 0,
                        "retreatType": "ByHitDirection",
                        "canBeDefenceHalt": false,
                        "hitHaltTime": 0,
                        "hitHaltTimeScale": 0.05,
                        "muteHitText": false
                      },
                      "forceCameraShake": false
                    }
                  }
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Hold_Strike_Electric"
                }
              ]
            },
            //附加额外冰元素伤害
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "forceByCaster": true,
                  "value": 4,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "TriggerAttackEvent",
                  "targetType": "Enemy",
                  "attackEvent": {
                    "attackPattern": {
                      "$type": "ConfigAttackCircle",
                      "triggerType": "TriggerNoRepeat",
                      "fanAngle": 360.0,
                      "height": 2.5,
                      "radius": 3.0,
                      "born": {
                        "$type": "ConfigBornBySelf",
                        "offset": {
                          "x": 0.0,
                          "y": -0.5,
                          "z": 0.5
                        }
                      }
                    },
                    "attackInfo": {
                      "attackTag": "Elemental_Art",
                      // "attenuationTag": "Elemental_Art_Ice",   //脚踢不走衰减
                      "attackProperty": {
                        "damagePercentage": "%Hold_Mix_StrikeDamage",
                        "elementType": "Ice",
                        "elementDurability": 25,
                        "enBreak": 0,
                        "attackType": "Melee",
                        "strikeType": "Default"
                      },
                      "hitPattern": {
                        "onHitEffectName": "default",
                        "hitImpulseType": "LV3",
                        "reboundRatio": 0,
                        "retreatType": "ByHitDirection",
                        "canBeDefenceHalt": false,
                        "hitHaltTime": 0,
                        "hitHaltTimeScale": 0.05,
                        "muteHitText": false
                      },
                      "forceCameraShake": false
                    }
                  }
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Hold_Strike_Ice"
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "CD_Count": 0, //OverrideMapKey  冷却CD层数

        "Hold_StrikeDamage": 0,
        "Hold_Mix_StrikeDamage": 0
      }
    }
  },

  //Avatar 子弹Trigger自身的特效去控制变色
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Roll_TriggerFire",
      "onAbilityStart": [
        {
          "$type": "SendEffectTrigger",
          "parameter": "Get_Fire",
          "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Roll"
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Roll_TriggerWater",
      "onAbilityStart": [
        {
          "$type": "SendEffectTrigger",
          "parameter": "Get_Water",
          "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Roll"
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Roll_TriggerElectric",
      "onAbilityStart": [
        {
          "$type": "SendEffectTrigger",
          "parameter": "Get_Electric",
          "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Roll"
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Roll_TriggerIce",
      "onAbilityStart": [
        {
          "$type": "SendEffectTrigger",
          "parameter": "Get_Ice",
          "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalArt_Roll"
        }
      ]
    }
  },

  //Gadget_41053002 滚球碰撞触发伤害计算
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Roll_Bullet",
      "onAbilityStart": [
        {
          //固有风元素伤害
          "$type": "DamageByAttackValue",
          "target": "Target",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0,
              "y": 1.0,
              "z": 0
            }
          },
          "attackInfo": {
            "canBeModifiedBy": "OriginOwner",
            "attackTag": "Elemental_Art_Hold",
            "attenuationTag": "Elemental_Art_Wind",
            "attackProperty": {
              "damagePercentage": "%Roll_Damage",
              "elementType": "Wind",
              "elementDurability": 25,
              "enBreak": 25,
              "attackType": "Melee",
              "strikeType": "Default"
            },
            "hitPattern": {
              "onHitEffectName": "default",
              "hitImpulseType": "LV2",
              "reboundRatio": 0,
              "retreatType": "ByHitDirection",
              "canBeDefenceHalt": false,
              "hitHaltTime": 0.01,
              "hitHaltTimeScale": 0.05,
              "muteHitText": false
            }
          }
        },
        {
          //变质附加火元素伤害
          "$type": "DamageByAttackValue",
          "target": "Target",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0,
              "y": 1.0,
              "z": 0
            }
          },
          "attackInfo": {
            "canBeModifiedBy": "OriginOwner",
            "attackTag": "Elemental_Art_Hold",
            "attenuationTag": "Elemental_Art_Fire",
            "attackProperty": {
              "damagePercentage": "%MixRoll_Damage",
              "elementType": "Fire",
              "elementDurability": 25,
              "enBreak": 0,
              "attackType": "Melee",
              "strikeType": "Default"
            },
            "hitPattern": {
              "onHitEffectName": "default",
              "hitImpulseType": "LV2",
              "reboundRatio": 0,
              "retreatType": "ByHitDirection",
              "canBeDefenceHalt": false,
              "hitHaltTime": 0,
              "hitHaltTimeScale": 0.05,
              "muteHitText": false
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_MixType",
              "forceByCaster": true,
              "value": 1,
              "compareType": "Equal"
            }
          ]
        },
        {
          //变质附加水元素伤害
          "$type": "DamageByAttackValue",
          "target": "Target",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0,
              "y": 1.0,
              "z": 0
            }
          },
          "attackInfo": {
            "canBeModifiedBy": "OriginOwner",
            "attackTag": "Elemental_Art_Hold",
            "attenuationTag": "Elemental_Art_Water",
            "attackProperty": {
              "damagePercentage": "%MixRoll_Damage",
              "elementType": "Water",
              "elementDurability": 25,
              "enBreak": 0,
              "attackType": "Melee",
              "strikeType": "Default"
            },
            "hitPattern": {
              "onHitEffectName": "default",
              "hitImpulseType": "LV2",
              "reboundRatio": 0,
              "retreatType": "ByHitDirection",
              "canBeDefenceHalt": false,
              "hitHaltTime": 0,
              "hitHaltTimeScale": 0.05,
              "muteHitText": false
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_MixType",
              "forceByCaster": true,
              "value": 2,
              "compareType": "Equal"
            }
          ]
        },
        {
          //变质附加雷元素伤害
          "$type": "DamageByAttackValue",
          "target": "Target",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0,
              "y": 1.0,
              "z": 0
            }
          },
          "attackInfo": {
            "canBeModifiedBy": "OriginOwner",
            "attackTag": "Elemental_Art_Hold",
            "attenuationTag": "Elemental_Art_Electric",
            "attackProperty": {
              "damagePercentage": "%MixRoll_Damage",
              "elementType": "Electric",
              "elementDurability": 25,
              "enBreak": 0,
              "attackType": "Melee",
              "strikeType": "Default"
            },
            "hitPattern": {
              "onHitEffectName": "default",
              "hitImpulseType": "LV2",
              "reboundRatio": 0,
              "retreatType": "ByHitDirection",
              "canBeDefenceHalt": false,
              "hitHaltTime": 0,
              "hitHaltTimeScale": 0.05,
              "muteHitText": false
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_MixType",
              "forceByCaster": true,
              "value": 3,
              "compareType": "Equal"
            }
          ]
        },
        {
          //变质附加冰元素伤害
          "$type": "DamageByAttackValue",
          "target": "Target",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0,
              "y": 1.0,
              "z": 0
            }
          },
          "attackInfo": {
            "canBeModifiedBy": "OriginOwner",
            "attackTag": "Elemental_Art_Hold",
            "attenuationTag": "Elemental_Art_Ice",
            "attackProperty": {
              "damagePercentage": "%MixRoll_Damage",
              "elementType": "Ice",
              "elementDurability": 25,
              "enBreak": 0,
              "attackType": "Melee",
              "strikeType": "Default"
            },
            "hitPattern": {
              "onHitEffectName": "default",
              "hitImpulseType": "LV2",
              "reboundRatio": 0,
              "retreatType": "ByHitDirection",
              "canBeDefenceHalt": false,
              "hitHaltTime": 0,
              "hitHaltTimeScale": 0.05,
              "muteHitText": false
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_MixType",
              "forceByCaster": true,
              "value": 4,
              "compareType": "Equal"
            }
          ]
        }
      ],
      "abilitySpecials": {
        "Roll_Damage": 0,
        "MixRoll_Damage": 0
      }
    }
  },

  //Gadget_41053002 滚动状态时的变色逻辑  0风  1火  2水  3雷  4冰
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalArt_Roll_Mix",
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Sayu_ElementalArt_MixType",
          "value": 0,
          "doOffStage": true
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Sayu_ElementalArt_Mix_Detect_Pre"
        }
      ],
      "abilityMixins": [
        {
          "$type": "ElementHittingOtherPredicatedMixin",
          "prePredicates": [
            {
              "$type": "ByAttackTags",
              "attackTags": ["Sayu_ElementalArt_Mix_Detect"]
            },
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Sayu_ElementalArt_MixType",
              "forceByCaster": true,
              "value": 0,
              "compareType": "Equal"
            }
          ],
          "elementBatchPredicateds": [
            {
              "elementTypeArr": ["Fire"],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "value": 1,
                  "target": "Self",
                  "doOffStage": true
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "value": 1,
                  "target": "OriginOwner",
                  "doOffStage": true
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Sayu_ElementalArt_Mix_Fire",
                  "target": "Self"
                },
                {
                  "$type": "AttachModifier",
                  "modifierName": "Mix_To_Fire"
                }
              ]
            },
            {
              "elementTypeArr": ["Water"],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "value": 2,
                  "target": "Self",
                  "doOffStage": true
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "value": 2,
                  "target": "OriginOwner",
                  "doOffStage": true
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Sayu_ElementalArt_Mix_Water",
                  "target": "Self"
                },
                {
                  "$type": "AttachModifier",
                  "modifierName": "Mix_To_Water"
                }
              ]
            },
            {
              "elementTypeArr": ["Electric"],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "value": 3,
                  "target": "Self",
                  "doOffStage": true
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "value": 3,
                  "target": "OriginOwner",
                  "doOffStage": true
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Sayu_ElementalArt_Mix_Electric",
                  "target": "Self"
                }
              ]
            },
            {
              "elementTypeArr": ["Ice", "Frozen"],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "value": 4,
                  "target": "Self",
                  "doOffStage": true
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_ElementalArt_MixType",
                  "value": 4,
                  "target": "OriginOwner",
                  "doOffStage": true
                },
                {
                  "$type": "AttachModifier",
                  "modifierName": "Sayu_ElementalArt_Mix_Ice",
                  "target": "Self"
                },
                {
                  "$type": "AttachModifier",
                  "modifierName": "Mix_To_Froze"
                }
              ]
            }
          ]
        }
      ],
      "modifiers": {
        //根据globalvalue值做攻击检测
        "Sayu_ElementalArt_Mix_Detect_Pre": {
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_Sayu_ElementalArt_MixType",
              "valueSteps": [-0.5, 0.5, 100],
              "removeAppliedModifier": true,
              "modifierNameSteps": ["Sayu_ElementalArt_Mix_Detect", "Blank"]
            }
          ]
        },
        "Blank": {},
        //对周围打攻击盒上标记AttakTag，但不做伤害
        "Sayu_ElementalArt_Mix_Detect": {
          "thinkInterval": 0.2,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "All",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "fanAngle": 360.0,
                  "height": 1.5,
                  "radius": 1.2,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": -0.5,
                      "z": 0.0
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "Sayu_ElementalArt_Mix_Detect",
                  "attackProperty": {
                    "damagePercentage": 0,
                    "elementType": "AntiFire",
                    "elementDurability": 1,
                    "elementRank": 1.0,
                    "enBreak": 0
                  }
                }
              }
            }
          ]
        },
        //向特效发送元素变质Triiger 火
        "Sayu_ElementalArt_Mix_Fire": {
          "duration": 1.0,
          "onAdded": [
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Sayu_ElementalArt_Roll_TriggerFire",
              "target": "OriginOwner"
            }
          ]
        },
        //向特效发送元素变质Triiger 水
        "Sayu_ElementalArt_Mix_Water": {
          "duration": 1.0,
          "onAdded": [
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Sayu_ElementalArt_Roll_TriggerWater",
              "target": "OriginOwner"
            }
          ]
        },
        //向特效发送元素变质Triiger 雷
        "Sayu_ElementalArt_Mix_Electric": {
          "duration": 1.0,
          "onAdded": [
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Sayu_ElementalArt_Roll_TriggerElectric",
              "target": "OriginOwner"
            }
          ]
        },
        //向特效发送元素变质Triiger 冰
        "Sayu_ElementalArt_Mix_Ice": {
          "duration": 1.0,
          "onAdded": [
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Sayu_ElementalArt_Roll_TriggerIce",
              "target": "OriginOwner"
            }
          ]
        },
        //单独对水体作特殊的冻结处理
        "Mix_To_Froze": {
          "thinkInterval": 0.2,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 2.0,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  },
                  "entityAttackFilter": "OnlyGrassAndWater" //作为结冰和灭火使用
                },
                "attackInfo": {
                  "attackProperty": {
                    "damagePercentage": 0,
                    "elementType": "Ice",
                    "elementDurability": 50,
                    "enBreak": 0,
                    "strikeType": "Default"
                  },
                  "hitPattern": {
                    "onHitEffectName": "none",
                    "hitImpulseType": "LV0",
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.0,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        },
        //单独对草作特殊的灭火处理
        "Mix_To_Water": {
          "thinkInterval": 0.2,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 1.0,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  },
                  "entityAttackFilter": "OnlyGrass" //作为灭火使用
                },
                "attackInfo": {
                  "attackProperty": {
                    "damagePercentage": 0,
                    "elementType": "Water",
                    "elementDurability": 25,
                    "enBreak": 0,
                    "strikeType": "Default"
                  },
                  "hitPattern": {
                    "onHitEffectName": "none",
                    "hitImpulseType": "LV0",
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.0,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        },
        //单独对草可以燃烧
        "Mix_To_Fire": {
          "thinkInterval": 0.2,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 1.0,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  },
                  "entityAttackFilter": "OnlyGrass" //作为烧草用
                },
                "attackInfo": {
                  "attackProperty": {
                    "damagePercentage": 0,
                    "elementType": "Fire",
                    "elementDurability": 25,
                    "enBreak": 0,
                    "strikeType": "Default"
                  },
                  "hitPattern": {
                    "onHitEffectName": "none",
                    "hitImpulseType": "LV0",
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.0,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        }
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  //  充能技__召唤达摩
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalBurst",
      //Trigger点召唤蛋蛋
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Avatar_Sayu_ElementalBurst_TriggerDaruma"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Avatar_Sayu_ElementalBurst_CameraBlur"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalBurst"],
          "modifierName": "Avatar_Sayu_ElementalBurst_Initialize"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Sayu_ElementalBurst",
          "modifierName": "Avatar_Sayu_ElementalBurst_Camera_Handler",
          "normalizeStart": 0.0,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Sayu_ElementalBurst",
          "modifierName": "Avatar_Sayu_ElementalBurst_Strike", //地面起跳时的攻击点
          "normalizeStart": 0.158,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Sayu_ElementalBurst",
          "modifierName": "Avatar_Sayu_ElementalBurst_Heal",
          "normalizeStart": 0.158,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalBurst", "Sayu_ElementalBurst_AS"],
          "modifierName": "Avatar_Sayu_ElementalBurst_EmotionControl"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalBurst", "Sayu_ElementalBurst_AS"],
          "modifierName": "Avatar_Sayu_ElementalBurst_Invincible"
        }
      ],
      "modifiers": {
        //充能技初始化参数
        "Avatar_Sayu_ElementalBurst_Initialize": {
          "onAdded": [
            {
              "$type": "AvatarSkillStart",
              "skillID": 10535,
              "cdRatio": 1.0,
              "predicates": [
                {
                  "$type": "BySkillReady",
                  "skillID": 10535
                }
              ]
            },
            {
              "$type": "KillGadget", //场上只有唯一，干掉多余的
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 41053003,
                "sortType": "Default"
              }
            }
          ]
        },
        //充能技镜头参数管理
        "Avatar_Sayu_ElementalBurst_Camera_Handler": {
          "onRemoved": [
            {
              "$type": "AvatarExitCameraShot",
              "doOffStage": true
            },
            {
              "$type": "AvatarCameraParam",
              "doOffStage": true,
              "cameraParam": {
                "forceRadius": 5,
                "forceRadiusDuration": 0.5,
                "shouldKeepForceRadius": true
              }
            }
          ],
          "onAvatarOut": [
            {
              "$type": "AvatarExitCameraShot",
              "doOffStage": true
            },
            {
              "$type": "AvatarCameraParam",
              "doOffStage": true,
              "cameraParam": {
                "forceRadius": 5,
                "forceRadiusDuration": 0.5,
                "shouldKeepForceRadius": true
              }
            }
          ]
        },
        //充能技过程屏蔽摇头
        "Avatar_Sayu_ElementalBurst_EmotionControl": {
          "onAdded": [
            {
              "$type": "EnableHeadControl",
              "enable": false,
              "blend": false
            }
          ],
          "onRemoved": [
            {
              "$type": "EnableHeadControl",
              "enable": true,
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "EnableHeadControl",
              "enable": true,
              "doOffStage": true
            }
          ]
        },
        //充能技过程中无敌保护
        "Avatar_Sayu_ElementalBurst_Invincible": {
          "duration": 1.5, //加个限定时间，防止摆pose很久了还无敌
          "state": "Invincible",
          "onAdded": [
            {
              "$type": "AttachAbilityStateResistance",
              "resistanceListID": 11002
            }
          ]
        },
        //释放技能镜像模糊效果
        "Avatar_Sayu_ElementalBurst_CameraBlur": {
          "duration": 0.2,
          "onAdded": [
            {
              "$type": "ActCameraRadialBlur",
              "cameraRadialBlur": {
                "power": 0.8,
                "blurTime": 0.2,
                "fadeTime": 0.2
              }
            }
          ]
        },
        //位于前方一定位置召唤达摩
        "Avatar_Sayu_ElementalBurst_TriggerDaruma": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalBurst_Spark"
            },
            {
              "$type": "CreateGadget",
              "gadgetID": 41053003,
              "campID": 1001,
              "campTargetType": "Enemy",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 1.5
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0,
                    "y": 180,
                    "z": 0
                  }
                }
              }
            }
          ]
        },
        //中等范围的攻击效果
        "Avatar_Sayu_ElementalBurst_Strike": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_ElementalBurst_Strike"
            },
            {
              "$type": "TriggerAttackEvent",
              "target": "Self",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "fanAngle": 360.0,
                  "height": 3.0,
                  "radius": 4.5,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": -1.0,
                      "z": 0.0
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "Elemental_Burst",
                  // "attenuationTag": "Elemental_Burst",
                  "attackProperty": {
                    "damagePercentage": "%Damage_Ratio",
                    "elementType": "Wind",
                    "elementDurability": 25,
                    "enBreak": 200,
                    "attackType": "Range",
                    "strikeType": "Default"
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV3",
                    "reboundRatio": 0,
                    "retreatType": "ByHitDirection",
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0.02,
                    "hitHaltTimeScale": 0.05,
                    "muteHitText": false
                  }
                },
                "forceCameraShake": true,
                "cameraShake": {
                  "shakeType": "CustomVector",
                  "shakeRange": 0.2,
                  "shakeTime": 0.1,
                  "shakeDistance": 30,
                  "shakeDir": {
                    "x": 0,
                    "y": 1,
                    "z": 0
                  },
                  "extension": {
                    "baseCycle": 0.12,
                    "cycleDamping": 0,
                    "rangeAttenuation": 0.1
                  }
                }
              }
            }
          ]
        },
        //释放瞬间的一次性全体治疗
        "Avatar_Sayu_ElementalBurst_Heal": {
          "onAdded": [
            {
              "$type": "HealHP",
              "amount": "%Heal_BaseAmount",
              "amountByCasterAttackRatio": "%Heal_AttackRatio",
              "target": "AllPlayerAvatars", //一定范围内的友军全都奶起来
              "predicates": [
                {
                  "$type": "ByTargetPositionToSelfPosition",
                  "compareType": "XZ",
                  "value": 40,
                  "logic": "LesserOrEqual"
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "Damage_Ratio": 0,
        "Heal_BaseAmount": 0,
        "Heal_AttackRatio": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  //  Gadget_41053003  充能技的召唤物__达摩
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_ElementalBurst_Phantom",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Avatar_Sayu_ElementalBurst_Phantom_Delay"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Phantom_Life_Handler"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Avatar_Sayu_Constellation_6_Handler"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Avatar_Sayu_ElementalBurst_Phantom_Attack",
          "target": "SelfAttackTarget",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Sayu_Phantom_BulletType",
              "value": 0,
              "compareType": "Equal",
              "target": "Caster"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Avatar_Sayu_ElementalBurst_Phantom_Heal",
          "target": "SelfAttackTarget",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Sayu_Phantom_BulletType",
              "value": 1,
              "compareType": "Equal",
              "target": "Caster"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Avatar_Sayu_ElementalBurst_Phantom_AttackAndHeal",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Sayu_Phantom_BulletType",
              "value": 2,
              "compareType": "Equal"
            }
          ]
        }
      ],
      "modifiers": {
        //召唤出来后延迟一定时间再攻击
        "Avatar_Sayu_ElementalBurst_Phantom_Delay": {
          "duration": 0.2,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Sayu_ElementalBurst_Phantom_Handler"
            }
          ]
        },
        //达摩间隔时间的处理逻辑
        "Avatar_Sayu_ElementalBurst_Phantom_Handler": {
          "thinkInterval": 1.5,
          "onThinkInterval": [
            //每次间隔都会判断一次附近是否有友方或敌方目标
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_Phantom_HasAvatar",
              "value": 0
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_Phantom_HasMonster",
              "value": 0
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR10H8",
                "centerBasedOn": "Self",
                "campTargetType": "SelfCamp",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Avatar"],
                "sortType": "Nearest"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_Phantom_HasAvatar",
                  "target": "Self",
                  "value": 1
                }
              ]
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR10H8",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster"],
                "sortType": "Nearest"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue", //排除小动物
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_Phantom_HasMonster",
                  "target": "Self",
                  "value": 1
                }
              ]
            },
            //根据附近最低血量的角色判断攻击或治疗  _ABILITY_Sayu_Phantom_BulletType： 0攻击  1回血  2攻击+回血
            //若该角色血量低于70%，进行治疗；若高于70%，进行攻击；
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_Phantom_BulletType",
              "value": 0
            },
            {
              //范围内有低血量目标直接回血
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR10H8",
                "centerBasedOn": "Self",
                "campTargetType": "SelfCamp",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Avatar"],
                "sortType": "LowHpRatio"
              },
              "targetPredicates": [
                {
                  "$type": "ByTargetHPRatio",
                  "HPRatio": 0.7,
                  "logic": "LesserOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_Phantom_BulletType",
                  "target": "Self",
                  "value": 1
                }
              ]
            },
            {
              //范围内没有怪时直接回血
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_Phantom_HasMonster",
                  "value": 0,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "Predicated",
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR10H8",
                    "centerBasedOn": "Self",
                    "campTargetType": "SelfCamp",
                    "campBasedOn": "Self",
                    "topLimit": 1,
                    "entityTypePriority": ["Avatar"],
                    "sortType": "LowHpRatio"
                  },
                  "targetPredicates": [
                    {
                      "$type": "ByEntityTypes",
                      "entityTypes": ["Avatar"]
                    }
                  ],
                  "successActions": [
                    {
                      "$type": "SetGlobalValue",
                      "key": "_ABILITY_Sayu_Phantom_BulletType",
                      "target": "Self",
                      "value": 1
                    }
                  ]
                }
              ]
            },
            //----------------------------命之座1--------------------------------//
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_Phantom_BulletType", //命1解锁同时 攻击+回血
              "value": 2,
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Sayu_Constellation_1"
                }
              ]
            },
            //-------------------------------------------------------------------//
            //播放对应动画
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Sayu_ElementalBurst_Phantom_PlayAnim"
            }
          ]
        },
        //达摩间隔播放对应动画
        "Avatar_Sayu_ElementalBurst_Phantom_PlayAnim": {
          "duration": 0.5,
          "onAdded": [
            //附近有怪才播攻击动画
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_Phantom_BulletType",
                  "value": 0,
                  "compareType": "Equal"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_Phantom_HasMonster",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "Attack",
                  "MPTriggerOnRemote": true
                },
                {
                  "$type": "SetSelfAttackTarget",
                  "turnToTargetImmediately": true,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR10H8",
                    "centerBasedOn": "Self",
                    "campTargetType": "Enemy",
                    "campBasedOn": "Self",
                    "topLimit": 1,
                    "entityTypePriority": ["Monster"],
                    "sortType": "Nearest"
                  }
                }
              ]
            },
            //附近有人才播治疗动画
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_Phantom_BulletType",
                  "value": 1,
                  "compareType": "Equal"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_Phantom_HasAvatar",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "Heal",
                  "MPTriggerOnRemote": true
                },
                {
                  "$type": "SetSelfAttackTarget",
                  "turnToTargetImmediately": true,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR10H8",
                    "centerBasedOn": "Self",
                    "campTargetType": "SelfCamp",
                    "campBasedOn": "Self",
                    "topLimit": 1,
                    "entityTypePriority": ["Avatar"],
                    "sortType": "LowHpRatio"
                  }
                }
              ]
            },
            //附近有怪或人才播突2动画
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Sayu_Phantom_BulletType",
                  "value": 2,
                  "compareType": "Equal"
                },
                {
                  "$type": "ByAny",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Sayu_Phantom_HasMonster",
                      "value": 1,
                      "compareType": "Equal"
                    },
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Sayu_Phantom_HasAvatar",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "Break",
                  "MPTriggerOnRemote": true
                }
              ]
            }
          ]
        },
        // 治疗分身生命管理器,Gadget自带的lifetime太不准了
        "Phantom_Life_Handler": {
          "duration": 12,
          "onAdded": [
            {
              "$type": "ResetAnimatorTrigger", //初始化重置triggerID，防止一开始就死了
              "triggerID": "Die",
              "MPTriggerOnRemote": true
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Daruma_Born"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Daruma_Field"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "Die",
              "MPTriggerOnRemote": true
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Avatar_Sayu_ElementalBurst_Phantom_Handler"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Phantom_KillSelf_Delay"
            }
          ]
        },
        //死亡时有个Delay播动画  PS：这个最好由动画Eventpattern控制 比较准
        "Phantom_KillSelf_Delay": {
          "duration": 0.5,
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Daruma_Die"
            },
            {
              "$type": "KillSelf"
            }
          ]
        },
        //达摩治疗
        "Avatar_Sayu_ElementalBurst_Phantom_Heal": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Sayu_PermanentSkill_2"
                }
              ],
              //突2破后 范围治疗
              "successActions": [
                {
                  "$type": "HealHP",
                  "amount": "%Heal_BaseAmount+%Constellation_6_Heal",
                  "amountByCasterAttackRatio": "%Heal_AttackRatio"
                },
                {
                  "$type": "HealHP", //需要联机仔细测试范围内的回血情况
                  "amount": "%Heal_BaseAmount*%PermanentSkill_2_RangeRatio+%Constellation_6_Heal*%PermanentSkill_2_RangeRatio", //命6的额外增加值同样需要乘上范围的折扣系数
                  "amountByCasterAttackRatio": "%Heal_AttackRatio*%PermanentSkill_2_RangeRatio",
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleR6",
                    "centerBasedOn": "Self",
                    "campTargetType": "SelfCamp",
                    "campBasedOn": "Self",
                    "topLimit": 5,
                    "entityTypePriority": ["Avatar"],
                    "sortType": "Nearest"
                  },
                  "predicates": [
                    {
                      "$type": "ByEntityTypes",
                      "entityTypes": ["Avatar"]
                    },
                    {
                      "$type": "ByTargetIsSelf",
                      "isSelf": false
                    }
                  ]
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Daruma_HealSingle"
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Daruma_HealZone"
                }
              ],
              //突破2前 单体治疗
              "failActions": [
                {
                  "$type": "HealHP",
                  "amount": "%Heal_BaseAmount+%Constellation_6_Heal",
                  "amountByCasterAttackRatio": "%Heal_AttackRatio"
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Daruma_HealSingle"
                }
              ]
            }
          ]
        },
        //达摩攻击
        "Avatar_Sayu_ElementalBurst_Phantom_Attack": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Sayu_PermanentSkill_2"
                }
              ],
              //突破2后 范围攻击
              "successActions": [
                {
                  "$type": "TriggerAttackEvent",
                  "target": "Caster",
                  "targetType": "Enemy",
                  "attackEvent": {
                    "attackPattern": {
                      "$type": "ConfigAttackCircle",
                      "triggerType": "TriggerNoRepeat",
                      "fanAngle": 360.0,
                      "height": 2.5,
                      "radius": 3.5,
                      "born": {
                        "$type": "ConfigBornBySelf",
                        "offset": {
                          "x": 0.0,
                          "y": -0.5,
                          "z": 0.0
                        }
                      }
                    },
                    "attackInfo": {
                      "canBeModifiedBy": "OriginOwner",
                      "attackTag": "Elemental_Burst",
                      "attenuationTag": "Elemental_Burst",
                      "attackProperty": {
                        "damagePercentage": "%Damage_Ratio+%Constellation_6_Damage",
                        "elementType": "Wind",
                        "elementDurability": 25,
                        "enBreak": 50,
                        "attackType": "Default",
                        "strikeType": "Default"
                      },
                      "hitPattern": {
                        "onHitEffectName": "default",
                        "hitImpulseType": "LV3",
                        "reboundRatio": 0,
                        "retreatType": "ByAttacker",
                        "canBeDefenceHalt": false,
                        "hitHaltTime": 0.0,
                        "hitHaltTimeScale": 0.05,
                        "muteHitText": false
                      }
                    }
                  }
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Daruma_AttackZone"
                }
              ],
              //突破2后 单体攻击
              "failActions": [
                {
                  "$type": "TriggerAttackEvent",
                  "target": "Caster",
                  "targetType": "Enemy",
                  "attackEvent": {
                    "attackPattern": {
                      "$type": "ConfigAttackSphere",
                      "triggerType": "TriggerNoRepeat",
                      "radius": 1.0,
                      "born": {
                        "$type": "ConfigBornBySelf",
                        "offset": {
                          "x": 0,
                          "y": 0.8,
                          "z": 0
                        }
                      }
                    },
                    "attackInfo": {
                      "canBeModifiedBy": "OriginOwner",
                      "attackTag": "Elemental_Burst",
                      "attenuationTag": "Elemental_Burst",
                      "attackProperty": {
                        "damagePercentage": "%Damage_Ratio+%Constellation_6_Damage",
                        "elementType": "Wind",
                        "elementDurability": 25,
                        "enBreak": 50,
                        "attackType": "Default",
                        "strikeType": "Default"
                      },
                      "hitPattern": {
                        "onHitEffectName": "default",
                        "hitImpulseType": "LV3",
                        "reboundRatio": 0,
                        "retreatType": "ByAttacker",
                        "canBeDefenceHalt": false,
                        "hitHaltTime": 0.0,
                        "hitHaltTimeScale": 0.05,
                        "muteHitText": false
                      }
                    }
                  }
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Daruma_AttackSingle"
                }
              ]
            }
          ]
        },
        //突破2后，达摩同时攻击+治疗
        "Avatar_Sayu_ElementalBurst_Phantom_AttackAndHeal": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Sayu_ElementalBurst_Phantom_Heal",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR10H8",
                "centerBasedOn": "Self",
                "campTargetType": "SelfCamp",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Avatar"], //这里即使填了Avatar，若搜索不到avatar还是会选择其他的Entity
                "sortType": "LowHpRatio"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Avatar_Sayu_ElementalBurst_Phantom_Attack",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR10H8",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster"],
                "sortType": "Nearest"
              }
            }
          ]
        },
        //命6相关的处理逻辑
        "Avatar_Sayu_Constellation_6_Handler": {
          "onAdded": [
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Sayu_Constellation_6"
                }
              ],
              "successActions": [
                {
                  //控制额外治疗量的上限
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_Constellation_6_HealValue",
                  "value": "%FIGHT_PROP_ELEMENT_MASTERY*%Constellation_6_PerMasteryHeal",
                  "useLimitRange": true,
                  "maxValue": "%Constellation_6_MaxHeal"
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "globalValueKey": "_ABILITY_Sayu_Constellation_6_HealValue",
                  "overrideMapKey": "Constellation_6_Heal"
                },
                {
                  //控制额外伤害的上限
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Sayu_Constellation_6_Damage",
                  "value": "%FIGHT_PROP_ELEMENT_MASTERY*%Constellation_6_PerMasteryDamage",
                  "useLimitRange": true,
                  "maxValue": "%Constellation_6_MaxDamage"
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "globalValueKey": "_ABILITY_Sayu_Constellation_6_Damage",
                  "overrideMapKey": "Constellation_6_Damage"
                }
              ],
              "failActions": [
                {
                  "$type": "SetOverrideMapValue",
                  "overrideMapKey": "Constellation_6_Heal", //命6额外的治疗量
                  "value": 0
                },
                {
                  "$type": "SetOverrideMapValue",
                  "overrideMapKey": "Constellation_6_Damage", //命6额外的攻击伤害
                  "value": 0
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "Constellation_6_Heal": 0, //OverrideMapKey 非导表
        "Constellation_6_Damage": 0, //OverrideMapKey 非导表

        "Damage_Ratio": 0,
        "Heal_BaseAmount": 0,
        "Heal_AttackRatio": 0,
        "PermanentSkill_2_RangeRatio": 0,
        "Constellation_6_PerMasteryHeal": 0,
        "Constellation_6_MaxHeal": 0,
        "Constellation_6_PerMasteryDamage": 0,
        "Constellation_6_MaxDamage": 0
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  空中攻击
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_FallingAnthem",
      "abilityMixins": [
        {
          "$type": "AvatarChangeSkillMixin",
          "priority": "AvatarCommon",
          "jumpSkillID": 5053010,
          "flySkillID": 5053010
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "FallingAnthem_BS_Material"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_Loop"],
          "modifierName": "FallingAnthem_Loop_Normal"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS_2",
            "FallingAnthem_Loop",
            "FallingAnthem_Loop_Low"
          ],
          "modifierName": "FallingAnthem_LoopDamage"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "FallingAnthem_BS_VelocityForce_Initialize"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_Height_Detect"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_FallingDamageImmune_01"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS", "FallingAnthem_Loop"],
          "modifierName": "Inertia"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_OverHead_Camera"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "FallingAnthem_ClearVelocityForce"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS", "FallingAnthem_Loop"],
          "modifierName": "FallingAnthem_AttachSelfEffect"
        }
      ],
      "onAdded": [],
      "onAbilityStart": [
        //普通状态第一段
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackCircle",
              "triggerType": "TriggerNoRepeat",
              "scale": 1.0,
              "height": 2.0,
              "centerYOffset": 0.0,
              "offsetZ": 0.0,
              "fanAngle": 360.0,
              "radius": 3.0,
              "followRootNodeY": false,
              "followTransformY": false,
              "offsetAngle": 0.0,
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": -0.5,
                  "z": 1.0
                }
              }
            },
            "attackInfo": {
              "attackTag": "FallingAttack",
              "attackProperty": {
                "damagePercentage": "%FallingAnthem_Normal_Rank_1_Damage",
                "strikeType": "Blunt",
                "overrideByWeapon": true,
                "attackType": "Melee",
                "elementType": "None",
                "elementDurability": 25,
                "enBreak": 150
              },
              "hitPattern": {
                "onHitEffectName": "none",
                "hitImpulseType": "LV4",
                "retreatType": "ByAttacker",
                "reboundRatio": 0,
                "canBeDefenceHalt": false,
                "hitHaltTime": 0,
                "hitHaltTimeScale": 0.1,
                "muteHitText": false
              },
              "forceCameraShake": true,
              "cameraShake": {
                "shakeType": "CustomVector",
                "shakeRange": 0.24,
                "shakeTime": 0.12,
                "shakeDistance": 30,
                "shakeDir": {
                  "x": 0,
                  "y": 1,
                  "z": 0
                },
                "extension": {
                  "baseCycle": 0.24,
                  "cycleDamping": 0,
                  "rangeAttenuation": 0.3
                }
              }
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        },
        //普通状态第二段
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackCircle",
              "triggerType": "TriggerNoRepeat",
              "scale": 1.0,
              "height": 2.0,
              "centerYOffset": 0.0,
              "offsetZ": 0.0,
              "fanAngle": 360.0,
              "radius": 5.0,
              "followRootNodeY": false,
              "followTransformY": false,
              "offsetAngle": 0.0,
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": -0.5,
                  "z": 1.0
                }
              }
            },
            "attackInfo": {
              "attackTag": "FallingAttack",
              "attackProperty": {
                "damagePercentage": "%FallingAnthem_Normal_Rank_2_Damage",
                "strikeType": "Blunt",
                "overrideByWeapon": true,
                "attackType": "Melee",
                "elementType": "None",
                "elementDurability": 25,
                "enBreak": 200
              },
              "hitPattern": {
                "onHitEffectName": "none",
                "hitImpulseType": "LV7",
                "retreatType": "ByAttacker",
                "reboundRatio": 0,
                "canBeDefenceHalt": false,
                "hitHaltTime": 0,
                "hitHaltTimeScale": 0.1,
                "muteHitText": false
              },
              "forceCameraShake": true,
              "cameraShake": {
                "shakeType": "CustomVector",
                "shakeRange": 0.5,
                "shakeTime": 0.2,
                "shakeDistance": 30,
                "shakeDir": {
                  "x": 0,
                  "y": 1,
                  "z": 1
                },
                "extension": {
                  "baseCycle": 0.4,
                  "cycleDamping": 0,
                  "rangeAttenuation": 0.3
                }
              }
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 1,
              "compareType": "Equal"
            }
          ]
        },
        //普通状态第一段
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Strike_01",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        },
        //普通状态第二段
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Strike_02",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 1,
              "compareType": "Equal"
            }
          ]
        }
      ],
      "modifiers": {
        "FallingAnthem_AttachSelfEffect": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Self_02"
            }
          ]
        },
        "FallingAnthem_BS_Material": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Self"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_BS"
            }
          ]
        },
        "FallingAnthem_BS_VelocityForce_Initialize": {
          "properties": {
            "Actor_AddGravityScale": -2
          },
          "onAdded": [
            {
              "$type": "RemoveVelocityForce",
              "forces": ["RushMoveType"]
            }
          ]
        },
        "FallingAnthem_LoopDamage": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 1.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 1
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "FallingAttack",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Loop_Damage",
                    "strikeType": "Slash",
                    "overrideByWeapon": true,
                    "attackType": "Melee",
                    "elementType": "None",
                    "elementDurability": 0,
                    "enBreak": 35
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_01": {
          "onAdded": [
            {
              "$type": "ClearGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv0",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv0",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv0",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv0",
                  "logic": "LesserOrEqual"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv1",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv1",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv1",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv1",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv0",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv2",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv2",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv2",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv2",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv1",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv3",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv3",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv3",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv3",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv2",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv4",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv4",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv4",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv3",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================

            {
              "$type": "AttachModifier",
              "modifierName": "FallingAnthem_FallingDamageImmune_02"
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_02": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_FallingAttack_Altitude",
              "overrideMapKey": "FallingAnthem_FallingDamageRatio"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "FallingAnthem_FallingDamageImmune_03"
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_03": {
          "properties": {
            "Actor_FallingDamageRatio": "%FallingAnthem_FallingDamageRatio"
          }
        },
        "FallingAnthem_Loop_Normal": {
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_FallingAnthem_UseCamera",
              "valueSteps": [-1, 0.5, 1.5],
              "removeAppliedModifier": true,
              "modifierNameSteps": [
                "FallingAnthem_Loop_Normal_Rank_1",
                "FallingAnthem_Loop_Normal_Rank_2"
              ]
            }
          ]
        },
        "FallingAnthem_Loop_Normal_Rank_1": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Loop_01"
            }
          ]
        },
        "FallingAnthem_Loop_Normal_Rank_2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Loop_02"
            }
          ]
        },
        //水平惯性继承
        "Inertia": {
          "modifierMixins": [
            {
              "$type": "ApplyInertiaVelocityMixin",
              "damping": 0,
              "useXZ": false,
              "useY": false
            }
          ]
        },
        "FallingAnthem_Height_Detect": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "LesserOrEqual"
                }
              ]
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 5,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "Greater"
                }
              ]
            },
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "LesserOrEqual"
                }
              ]
            },
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 1,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "Greater"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ]
        },
        "FallingAnthem_OverHead_Camera": {
          "onAdded": [
            {
              "$type": "AvatarCameraParam",
              "lockParam": false,
              "cameraParam": {
                "forceRadius": 4.5,
                "forceRadiusDuration": 0.2,
                "shouldKeepForceRadius": true
              },
              "predicates": [
                {
                  "$type": "ByAnimatorFloat",
                  "parameter": "FallingAnthem_UseCamera",
                  "value": 1,
                  "logic": "Equal"
                }
              ]
            }
          ]
        },
        "FallingAnthem_OverHead_Camera_Remover": {
          "onAdded": [
            {
              "doOffStage": true,
              "$type": "AvatarExitCameraShot"
            }
          ]
        },
        "FallingAnthem_Landed_Camera": {
          "onAdded": [
            {
              "$type": "AvatarCameraParam",
              "lockParam": false,
              "cameraParam": {
                "forceRadius": 6.0,
                "forceRadiusDuration": 0.1,
                "shouldKeepForceRadius": true
              },
              "predicates": [
                {
                  "$type": "ByAnimatorFloat",
                  "parameter": "FallingAnthem_UseCamera",
                  "value": 1,
                  "logic": "Equal"
                }
              ]
            }
          ]
        },
        "FallingAnthem_ClearVelocityForce": {
          "onAdded": [
            {
              "$type": "RemoveVelocityForce",
              "forces": ["RushMoveType", "InertiaType"]
            }
          ]
        }
      },
      "abilitySpecials": {
        "FallingAnthem_Normal_Loop_Damage": 0,
        "FallingAnthem_Normal_Rank_1_Damage": 0,
        "FallingAnthem_Normal_Rank_2_Damage": 0,

        "FallingAnthem_Altitude_Lv0": 20,
        "FallingAnthem_Altitude_Lv1": 40,
        "FallingAnthem_Altitude_Lv2": 60,
        "FallingAnthem_Altitude_Lv3": 100,
        "FallingAnthem_Altitude_Lv4": 200,

        "FallingAnthem_FallingDamageRatio_Lv0": -1,
        "FallingAnthem_FallingDamageRatio_Lv1": -1,
        "FallingAnthem_FallingDamageRatio_Lv2": -0.9,
        "FallingAnthem_FallingDamageRatio_Lv3": -0.8,
        "FallingAnthem_FallingDamageRatio_Lv4": -0.6,

        "FallingAnthem_FallingDamageRatio": 0
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  普攻及重击伤害控制
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_NormalAttack_DamageHandler",
      "abilityMixins": [
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK01"],
          "damagePercentage": "%NormalAttack_01_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK02"],
          "damagePercentage": "%NormalAttack_02_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK03_1"],
          "damagePercentage": "%NormalAttack_03_1_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK03_2"],
          "damagePercentage": "%NormalAttack_03_2_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK04"],
          "damagePercentage": "%NormalAttack_04_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ExtraAttack1"],
          "damagePercentage": "%ExtraAttack_1_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ExtraAttack2"],
          "damagePercentage": "%ExtraAttack_2_DamagePercentage"
        }
      ],
      "abilitySpecials": {
        "NormalAttack_01_DamagePercentage": 0,
        "NormalAttack_02_DamagePercentage": 0,
        "NormalAttack_03_1_DamagePercentage": 0,
        "NormalAttack_03_2_DamagePercentage": 0,
        "NormalAttack_04_DamagePercentage": 0,
        "ExtraAttack_1_DamagePercentage": 0,
        "ExtraAttack_2_DamagePercentage": 0
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  突破1 PermanentSkill_1
  //  触发扩散反应时为附近友方角色恢复生命值，数值基于早柚自身元素精通（内置CD）
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_PermanentSkill_1",
      "isDynamicAbility": true,
      "abilityMixins": [
        {
          "$type": "DoActionByElementReactionMixin",
          "range": 20,
          "entityTypes": ["Monster"],
          "reactionTypes": [
            "SwirlFire",
            "SwirlWater",
            "SwirlElectric",
            "SwirlIce"
          ],
          "actions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_Sayu_PermanentSkill_1_HealHp",
              "target": "Self"
            }
          ]
        }
      ],
      "modifiers": {
        //扩散所引起的治疗加成
        "UNIQUE_Sayu_PermanentSkill_1_HealHp": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%CDTime",
          "onAdded": [
            {
              "$type": "HealHP",
              "amount": "%Heal_BaseAmount+%FIGHT_PROP_ELEMENT_MASTERY*%Heal_MasteryRatio",
              "target": "AllPlayerAvatars",
              "predicates": [
                {
                  "$type": "ByTargetPositionToSelfPosition", //限40米范围内的友军
                  "compareType": "XZ",
                  "value": 40,
                  "logic": "LesserOrEqual"
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "Heal_BaseAmount": 0,
        "Heal_MasteryRatio": 0,
        "CDTime": 0
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  突破2 PermanentSkill_2
  //  达摩攻击或治疗从对单变为对多，且对周围目标的数值为原有的XX%
  //
  ////////////////////////////////////////////////////////////////

  ////////////////////////////////////////////////////////////////
  //
  //  命之座1 Constellation_1
  //  达摩突破角色生命值限制，间隔一次会同时治疗+攻击
  //
  ////////////////////////////////////////////////////////////////

  ////////////////////////////////////////////////////////////////
  //
  //  命之座2 Constellation_2
  //  早柚滚球时每滚0.5s提升该次滚球结束斩击的伤害XX%，最多提升XX%。
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_Constellation_2",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Avatar_Sayu_Constellation_2_DamageUp",
          "doOffStage": true
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_BS"],
          "modifierName": "Constellation_2_Initalize"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Roll"],
          "modifierName": "Avatar_Sayu_Constellation_2_ElementalArt_Click"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Sayu_ElementalArt_Hold_Roll"],
          "modifierName": "Avatar_Sayu_Constellation_2_ElementalArt_Hold"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "Sayu_ElementalArt_Strike",
            "Sayu_ElementalArt_Hold_Strike"
          ],
          "modifierName": "Avatar_Sayu_Constellation_2_ValueHandler"
        }
      ],
      "modifiers": {
        //堆叠层数初始化
        "Constellation_2_Initalize": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_Constellation_2_BuffLevel",
              "value": 0
            }
          ]
        },
        //命2点按时直接固定为一层
        "Avatar_Sayu_Constellation_2_ElementalArt_Click": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_Constellation_2_BuffLevel",
              "value": 1
            }
          ]
        },
        //命2长按时根据滚动时间计算层数
        "Avatar_Sayu_Constellation_2_ElementalArt_Hold": {
          "onAdded": [
            {
              //初始时固定给一层，就当作起手时的时间计算，与点按保持一致
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Sayu_Constellation_2_BuffLevel",
              "value": 1
            }
          ],
          "thinkInterval": 0.5,
          "onThinkInterval": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Sayu_Constellation_2_BuffLevel",
              "value": 1,
              "useLimitRange": true,
              "maxValue": "%MaxLevel",
              "minValue": 0
            }
          ]
        },
        //处理GlobalValue值的转换
        "Avatar_Sayu_Constellation_2_ValueHandler": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Sayu_Constellation_2_BuffLevel",
              "overrideMapKey": "Buff_Level"
            }
          ]
        },
        //命2增伤处理器（注意这里只提升踢出去的伤害，滚动伤害不提升）
        "Avatar_Sayu_Constellation_2_DamageUp": {
          "modifierMixins": [
            {
              "$type": "ModifyDamageMixin",
              "attackTags": ["Elemental_Art"],
              "damagePercentageRatio": "%Buff_Level*%Rate"
            }
          ]
        }
      },
      "abilitySpecials": {
        "Buff_Level": 0, //OverrideMapKey

        "Rate": 0,
        "MaxLevel": 0
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  命之座4 Constellation_4
  //  早柚每次触发扩散反应时额外获得XX点元素能量，至多XX秒触发一次
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_Constellation_4",
      "isDynamicAbility": true,
      "abilityMixins": [
        {
          "$type": "DoActionByElementReactionMixin",
          "range": 20,
          "entityTypes": ["Monster"],
          "reactionTypes": [
            "SwirlFire",
            "SwirlWater",
            "SwirlElectric",
            "SwirlIce"
          ],
          "actions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_Sayu_Constellation_4_ReviveEnergy",
              "target": "Self"
            }
          ]
        }
      ],
      "modifiers": {
        //扩散所引起的能量回复
        "UNIQUE_Sayu_Constellation_4_ReviveEnergy": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%CDTime",
          "onAdded": [
            {
              "$type": "ReviveElemEnergy",
              "value": "%Energy"
            }
          ]
        }
      },
      "abilitySpecials": {
        "Energy": 0,
        "CDTime": 0
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  命之座6 Constellation_6
  //  达摩每次攻击或治疗基于早柚自身元素精通，每点元素精通额外提升XX%数值效果，最多提升XX%
  //  所造成的伤害及治疗加成仅局限于达摩本身，且精通成长只有快照数据
  //
  ////////////////////////////////////////////////////////////////

  ////////////////////////////////////////////////////////////////
  //
  //  表演待机
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_Show",
      "abilityMixins": [
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "StandbyShow_01",
          "modifierName": "Avatar_Sayu_Show_VFX",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.72
        }
      ],
      "modifiers": {
        "Avatar_Sayu_Show_VFX": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Show01"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Loli_Claymore_Sayu_Show01_00"
            }
          ]
        }
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  表演待机
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Sayu_Talent_Stealth_Animal_Misc",
      "abilityMixins": [],
      "onAdded": [
        {
          "$type": "AttachModifier", //复制的后面的interval内容
          "target": "CurTeamAvatars",
          "modifierName": "UNIQUE_Stealth_Animal_Misc",
          "doOffStage": true
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Stealth_Animal_Misc_Handler",
          "doOffStage": true
        }
      ],
      "modifiers": {
        "Stealth_Animal_Misc_Handler": {
          "thinkInterval": 5,
          "onThinkInterval": [
            {
              "$type": "AttachModifier",
              "target": "CurTeamAvatars",
              "modifierName": "UNIQUE_Stealth_Animal_Misc",
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Stealth_Animal_Misc": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "AIPerceptionMixin",
              "perceptionTemplateID": 1,
              "featureTagIDs": [9005]
            }
          ]
        }
      }
    }
  }
]
