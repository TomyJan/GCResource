[
  ///////////////////////////////////////////////////////////////
  //
  // 普攻和重击
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ExtraAttack",
      "abilityMixins": [
        {
          "$type": "ButtonHoldChargeMixin",
          "skillID": 10441,
          "chargeTime": 0.25,
          "secondChargeTime": "%ExtraAttack_Claymore_MaxTime",
          "OnBeginUncharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1
            },
            {
              "$type": "ResetAnimatorTrigger",
              "triggerID": "EndHoldTrigger"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "SetTrigger"
            }
          ],
          "OnReleaseUncharged": [],
          "OnBeginCharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 6
            }
          ],
          "OnReleaseCharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "EndHoldTrigger"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "SetTrigger"
            }
          ],
          "OnBeginSecondCharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "EndHoldTrigger"
            }
          ],
          "chargeStateIDs": [
            "Attack01_BS",
            "Attack01",
            "Attack02",
            "Attack03",
            "Attack04",
            "ExtraAttack",
            "ExtraAttack1"
          ]
        },
        {
          "$type": "AvatarSteerByCameraMixin",
          "stateIDs": ["ExtraAttack1"],
          "angularSpeed": 360
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "ExtraAttack",
            "ExtraAttack1",
            "ExtraAttack2",
            "ExtraAttack3"
          ],
          "modifierName": "Camera"
        },

        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["ExtraAttack1"],
          "modifierName": "Cost"
        }
        // {
        //   "$type": "AttachToStateIDMixin",
        //   "stateIDs": [ "ExtraAttack", "ExtraAttack1", "ExtraAttack2" ],
        //   "modifierName": "effect"
        // },
      ],
      "modifiers": {
        //   		"effect":
        //   		{
        // "onAdded":
        // [
        // 	{
        // 		"$type": "AttachEffect",
        // 		"effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Guitar",
        // 	},
        //                    {
        //                        "$type": "TriggerHideWeapon",
        //                        "visible": false,
        //                        "partNames": [ "equip01", "equip02", "sheathPoint" ],
        //                    },
        // ],
        // "onRemoved":
        // [
        // 	{
        // 		"$type": "FireEffect",
        // 		"effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Guitar_Dissipate",
        // 	},
        //                    {
        //                        "$type": "TriggerHideWeapon",
        //                        "visible": true,
        //                        "partNames": [ "equip01", "equip02", "sheathPoint" ],
        //                    },
        // ],
        //   		},
        "SetTrigger": {
          "duration": 1,
          "onRemoved": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "EndHoldTrigger"
            }
          ]
        },
        "Camera": {
          "onRemoved": [
            {
              "$type": "AvatarExitCameraShot",
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "AvatarExitCameraShot",
              "doOffStage": true
            }
          ]
        },
        "Cost": {
          "modifierMixins": [
            {
              "$type": "CostStaminaMixin",
              "costStaminaDelta": "%ExtraAttack_Claymore_Stamina_Cost",
              "onStaminaEmpty": [
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "EndHoldTrigger"
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "ExtraAttack_Claymore_Stamina_Cost": 0,
        "ExtraAttack_Claymore_MaxTime": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  // 元素战技：攻击判定
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalArt_Hit",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "EnemyNumCheck",
          "target": "Caster"
        },
        {
          "$type": "AvatarSkillStart",
          "skillID": 10442,
          "cdRatio": 1
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackCircle",
              "triggerType": "TriggerNoRepeat",
              "height": 1.6,
              "fanAngle": 360.0,
              "radius": 3,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 1.0
                }
              }
            },
            "attackInfo": {
              "attackTag": "Elemental_Art",
              "attackProperty": {
                "damagePercentage": "%Xinyan_ElementalArt_Damage",
                "strikeType": "Blunt",
                "elementType": "Fire",
                "elementDurability": 25,
                "elementRank": 1.5,
                "enBreak": 200,
                "attackType": "Melee"
              },
              "hitPattern": {
                "onHitEffectName": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalArt_Hit",
                "hitImpulseType": "LV4",
                "reboundRatio": 0,
                "canBeDefenceHalt": true,
                "hitHaltTime": 0.09,
                "hitHaltTimeScale": 0.01,
                "muteHitText": false
              },
              "forceCameraShake": true,
              "cameraShake": {
                "shakeType": "CustomVector",
                "shakeRange": 0.24,
                "shakeTime": 0.21,
                "shakeDistance": 30,
                "shakeDir": {
                  "x": 1,
                  "y": -0.2,
                  "z": 0
                }
              }
            }
          }
        }
      ],
      "modifiers": {
        "EnemyNumCheck": {
          "duration": 0.2,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "ShieldLevel_1",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_ShieldLevel_Count",
                  "value": 0,
                  "forceByCaster": true,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Avatar_Xinyan_Talent_ShieldLevelUp"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "ShieldLevel_2",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_ShieldLevel_Count",
                      "value": 1,
                      "forceByCaster": true,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "ShieldLevel_1",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_ShieldLevel_Count",
                      "value": 1,
                      "forceByCaster": true,
                      "compareType": "Equal"
                    }
                  ]
                }
              ]
            },
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Avatar_Xinyan_Talent_ShieldLevelUp"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "ShieldLevel_3",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_ShieldLevel_Count",
                      "value": 2,
                      "forceByCaster": true,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "ShieldLevel_2",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_ShieldLevel_Count",
                      "value": 2,
                      "forceByCaster": true,
                      "compareType": "Equal"
                    }
                  ]
                }
              ]
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "ShieldLevel_3",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_ShieldLevel_Count",
                  "value": 3,
                  "forceByCaster": true,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "ShieldLevel_1": {
          "duration": 0.5,
          "isLimitedProperties": true,
          "onAdded": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Xinyan_Skill_S_Shield",
              "target": "Team"
            },
            // {
            // 	"$type": "KillGadget",
            // 	"gadgetInfo":
            // 	{
            // 		"$type": "SelectTargetsByChildren",
            // 		"configID": 41044001,
            // 	},
            // },
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Xinyan_ElementalArt_Shield_1"
            }
          ],
          "properties": {}
        },
        "ShieldLevel_2": {
          "duration": 0.5,
          "isLimitedProperties": true,
          "onAdded": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Xinyan_Skill_S_Shield",
              "target": "Team"
            },
            // {
            // 	"$type": "KillGadget",
            // 	"gadgetInfo":
            // 	{
            // 		"$type": "SelectTargetsByChildren",
            // 		"configID": 41044001,
            // 	},
            // },
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Xinyan_ElementalArt_Shield_2"
            }
          ],
          "properties": {}
        },
        "ShieldLevel_3": {
          "duration": 1.4,
          "isLimitedProperties": true,
          "onAdded": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Xinyan_Skill_S_Shield",
              "target": "Team"
            },
            // {
            // 	"$type": "KillGadget",
            // 	"gadgetInfo":
            // 	{
            // 		"$type": "SelectTargetsByChildren",
            // 		"configID": 41044001,
            // 	},
            // },
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Xinyan_ElementalArt_Shield_3"
            }
            // {
            // 	"$type": "TriggerBullet",
            // 	"bulletID": 41044001,
            // 	// "campID": 1001,
            // 	// "campTargetType": "Enemy",
            // 	"born":
            // 	{
            // 		"$type": "ConfigBornByAttachPoint",
            // 		"attachPointName" : "RootNode",
            // 		"offset" :
            // 		{
            // 			"x": 0.0,
            // 			"y": 0.0,
            // 			"z": 0.0,
            // 		},
            // 	},
            // },
          ],
          "onRemoved": [],
          "properties": {}
        }
      },
      "abilitySpecials": {
        "Xinyan_ElementalArt_Damage": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  // 元素战技：护盾等级判定
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalArt",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "_ABILITY_ShieldLevel_Count",
          "value": 0,
          "useLimitRange": true,
          "maxValue": 0,
          "minValue": 0
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "ElementalArt_Ball"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "modifierName": "ShieldLevel_Handler",
          "stateIDs": ["Xinyan_ElementalArt"]
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Xinyan_ElementalArt"],
          "modifierName": "Xinyan_ElementalArt_Guitar_1"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Xinyan_ElementalArt",
          "modifierName": "Xinyan_ElementalArt_Guitar",
          "target": "Self",
          "normalizeStart": 0,
          "normalizeEnd": 0.3
        }
      ],
      "modifiers": {
        "UNIQUE_Xinyan_Talent_ElementaArtReduceDef": {
          "isUnique": true,
          "duration": "%Xinyan_Talent_ElementaArtReduceDef_Duration",
          "state": "DefenseDown",
          "isLimitedProperties": true,
          "properties": {
            "Actor_PhysicalSubHurtDelta": "%Xinyan_Talent_ElementaArtReduceDef_DefDownRate"
          }
        },
        "Avatar_Xinyan_Talent_ElementaArtReduceDef_Handler": {
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Elemental_Art"]
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "RemoveUniqueModifier",
                  "target": "Target",
                  "modifierName": "UNIQUE_Xinyan_Talent_ElementaArtReduceDef"
                },
                {
                  "$type": "ApplyModifier",
                  "target": "Target",
                  "modifierName": "UNIQUE_Xinyan_Talent_ElementaArtReduceDef"
                }
              ]
            }
          ]
        },
        "ElementalArt_Ball": {
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Elemental_Art"]
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByHitStrikeType",
                  "strikeType": "Blunt"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "AddGlobalValue",
                  "target": "Caster",
                  "key": "_ABILITY_ShieldLevel_Count",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 3,
                  "minValue": 0
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Ball_Base",
                  "target": "Self"
                }
              ]
            }
          ]
        },
        "ShieldLevel_Handler": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "Avatar_Xinyan_Talent_ElementaArtReduceDef_Handler",
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Avatar_Xinyan_Talent_ElementaArtReduceDef"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "doOffStage": true,
              "key": "_ABILITY_ShieldLevel_Count",
              "value": -5,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            }
          ]
        },
        "Ball_Base": {
          "duration": 0.2,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "GenerateElemBall",
              "configID": 2017,
              "baseEnergy": 12,
              "ratio": 1,
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 1.0
                },
                "doOffStage": true
              }
            }
          ]
        },
        "Xinyan_ElementalArt_Guitar_1": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalArt_Cast"
            }
          ]
        },
        "Xinyan_ElementalArt_Guitar": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Guitar_Scaled"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Guitar_Dissipate_Scaled"
            }
          ]
        }
      },
      "abilitySpecials": {
        "Xinyan_Talent_ElementaArtReduceDef_DefDownRate": 0,
        "Xinyan_Talent_ElementaArtReduceDef_Duration": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  // 元素战技：护盾 等级3
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalArt_Shield_3",
      "onAbilityStart": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Xinyan_Skill_S_Shield",
          "target": "Team"
        }
      ],
      "modifiers": {
        "UNIQUE_Xinyan_Skill_S_Shield": {
          "isUnique": true,
          "stacking": "Refresh",
          "duration": "%Xinyan_ShieldDuration-0.1",
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "Xinyan_Shield_3_Explosion_Counter",
              "target": "Team"
            }
          ],

          "modifierMixins": [
            {
              "$type": "GlobalMainShieldMixin",
              "shieldType": "Avatar_Fire",
              "shieldHP": "%Xinyan_Shield3_DefRatioDurability*%FIGHT_PROP_CUR_DEFENSE+%Xinyan_Shield3_BaseDurability",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_3",
              "showDamageText": "INFO_ELITE_DEFENCE",
              "childShieldModifierName": "UNIQUE_Xinyan_Skill_S_Shield_Child", //天赋：护盾拥有受击治疗效果
              "onShieldBroken": [
                // {
                // 	"$type": "KillGadget",
                // 	"gadgetInfo":
                // 	{
                // 		"$type": "SelectTargetsByChildren",
                // 		"configID": 41044001,
                // 	},
                // },
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_3_Break"
            }
          ]
        },
        "UNIQUE_Xinyan_Skill_S_Shield_Child": {
          "isUnique": true,
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_Xinyan_Skill_S_FireBuff",
              "target": "CurLocalAvatar"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Xinyan_Talent_ShieldEnhancePhysicalDMG",
              "target": "CurLocalAvatar",
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Avatar_Xinyan_Talent_ShieldEnhancePhysicalDMG",
                  "target": "Caster"
                }
              ]
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByHitEnBreak",
                  "enBreak": 0,
                  "logic": "Greater"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Xinyan_Skill_S_Shield_Hit_Handler",
                  "target": "Team"
                }
              ]
            }
          ],
          "onKill": [
            // {
            // 	"$type": "KillGadget",
            // 	"gadgetInfo":
            // 	{
            // 		"$type": "SelectTargetsByChildren",
            // 		"configID": 41044001,
            // 	},
            // },
          ],
          "onRemoved": [],
          "modifierMixins": [
            {
              "$type": "GlobalSubShieldMixin",
              "mainShieldModifierName": "UNIQUE_Xinyan_Skill_S_Shield"
            }
          ],
          "properties": {
            "Actor_EndureDelta": 0
          }
        },
        "Xinyan_Skill_S_Shield_Hit_Handler": {
          "duration": 0.5,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "target": "Team",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_3",
              "parameter": "Hit"
            }
          ]
        },
        "Xinyan_Talent_ShieldEnhancePhysicalDMG": {
          "isLimitedProperties": true,
          "properties": {
            "Actor_PhysicalAddHurtDelta": "%Xinyan_Talent_ShieldEnhancePhysicalDMG_DMGRate"
          }
        },
        "UNIQUE_Xinyan_Skill_S_FireBuff": {
          "isUnique": true,
          "stacking": "Refresh",
          "duration": 1.0,
          "elementType": "Fire",
          "elementDurability": 25
        },
        "Xinyan_Shield_3_Explosion_Counter": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "Xinyan_Shield_3_Explosion_Damage",
              "target": "Team"
            }
          ],
          "thinkInterval": 2.0,
          "onThinkInterval": [
            {
              "$type": "AttachModifier",
              "modifierName": "Xinyan_Shield_3_Explosion_Damage",
              "target": "Team"
            }
          ]
        },
        "Xinyan_Shield_3_Explosion_Damage": {
          "duration": 1.5,
          "onRemoved": [
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Xinyan_ElementalArt_Shield_3_Explosion",
              "target": "Caster"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Xinyan_ElementalArt_Shield_3_Explosion",
              "target": "CurLocalAvatar"
            }
          ]
        },
        "Xinyan_ElementalArt_Shield_3_Explosion": {
          "duration": 0.2,
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_SoundDummy",
              "doOffStage": true
            },
            {
              "$type": "TriggerAttackEvent",
              "target": "Caster",
              "targetType": "Enemy",
              "doOffStage": true,
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 3, //保证范围和特效一致
                  "height": 2.2,
                  "fanAngle": 360.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": -0.3,
                      "z": 0.0 //之前偏移1.5的话贴身会将怪象自己方向打，有问题
                    }
                  }
                  // "ignoreMassive":true,
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackTag": "Elemental_Art",
                  "attackProperty": {
                    "damagePercentage": "%Xinyan_ElementalArt_Damage_Percentage",
                    "elementType": "Fire",
                    "strikeType": "Default",
                    "elementDurability": 25,
                    "enBreak": 50
                  },
                  "hitPattern": {
                    "onHitEffectName": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_3_WaveImpact_Hit",
                    "hitImpulseType": "LV2",
                    "retreatType": "ByHitDirection",
                    "reboundRatio": 0,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {
        "Xinyan_Talent_ShieldEnhancePhysicalDMG_DMGRate": 0,
        "Xinyan_ShieldDuration": 0,
        "Xinyan_Shield3_BaseDurability": 0,
        "Xinyan_Shield3_DefRatioDurability": 0,
        "Xinyan_ElementalArt_Damage_Percentage": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  // 元素战技：护盾 爆炸
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalArt_Shield_3_Explosion",
      "onAbilityStart": [
        // {
        //   	"$type" : "TriggerAttackEvent",
        //   	// "target":"Caster",
        //   	"targetType" : "Enemy",
        //   	"doOffStage":true,
        //   	"attackEvent":
        //   	{
        //     	"attackPattern":
        //     	{
        //        	"$type": "ConfigAttackCircle",
        //        	"triggerType": "TriggerNoRepeat",
        //        	"radius": 3,//保证范围和特效一致
        // 	    "height": 2.2,
        //    "fanAngle": 360.0,
        //        	"born":
        //        	{
        //          	"$type": "ConfigBornBySelf",
        //          	"offset":
        //           {
        //             "x" : 0.0,
        //             "y" : -0.3,
        //             "z" : 0.0,//之前偏移1.5的话贴身会将怪象自己方向打，有问题
        //           },
        //        	},
        //        	// "ignoreMassive":true,
        //     	},
        //      "attackInfo":
        //      {
        //      	"canBeModifiedBy" : "OriginOwner",
        //        	"attackTag":"Elemental_Art",
        //        	"attackProperty":
        //        	{
        //          	"damagePercentage": "%Xinyan_ElementalArt_Damage_Percentage",
        //          	"elementType": "Fire",
        //          	"strikeType":"Default",
        //          	"elementDurability": 25,
        //          	"enBreak": 50,
        //        	},
        //        	"hitPattern":
        //        	{
        //           "onHitEffectName": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_3_WaveImpact_Hit",
        // 	"hitImpulseType":"LV2",
        //           "retreatType": "ByHitDirection",
        //           "reboundRatio": 0,
        //           "hitHaltTime": 0,
        //           "hitHaltTimeScale": 0,
        //           "muteHitText": false
        //        	},
        //     	},
        // 	},
        // },
        // {
        // 	"$type" : "FireEffect",
        // 	"effectPattern" : "Eff_Avatar_Girl_Claymore_Xinyan_Shield_SoundDummy",
        // 	"doOffStage":true,
        // },
      ],
      "onAdded": [
        // {
        //   "$type": "ApplyModifier",
        //   "modifierName": "Xinyan_Shield_Lifetime",
        // },
      ],
      "modifiers": {
        //   		"Xinyan_Shield_Lifetime":
        //   		{
        // "duration":12,
        // "onRemoved":
        // [
        // 	{
        // 		"$type":"KillSelf",
        // 	},
        //       			{
        //                	"$type": "FireEffect",
        //                	"effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_3_Break",
        //       			},
        // ]
        //   		}
      },

      "abilitySpecials": {
        // "Xinyan_ElementalArt_Damage_Percentage":0,
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  // 元素战技：护盾 等级2
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalArt_Shield_2",
      "onAbilityStart": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Xinyan_Skill_S_Shield",
          "target": "Team"
        }
      ],
      "modifiers": {
        "UNIQUE_Xinyan_Skill_S_Shield": {
          "isUnique": true,
          "stacking": "Refresh",
          "duration": "%Xinyan_ShieldDuration",
          "onAdded": [],
          "modifierMixins": [
            {
              "$type": "GlobalMainShieldMixin",
              "shieldType": "Avatar_Fire",
              "shieldHP": "%Xinyan_Shield2_DefRatioDurability*%FIGHT_PROP_CUR_DEFENSE+%Xinyan_Shield2_BaseDurability",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_2",
              "showDamageText": "INFO_ELITE_DEFENCE",
              "childShieldModifierName": "UNIQUE_Xinyan_Skill_S_Shield_Child", //天赋：护盾拥有受击治疗效果
              "onShieldBroken": []
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_3_Break"
            }
          ]
        },
        "UNIQUE_Xinyan_Skill_S_Shield_Child": {
          "isUnique": true,
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_Xinyan_Skill_S_FireBuff",
              "target": "CurLocalAvatar"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Xinyan_Talent_ShieldEnhancePhysicalDMG",
              "target": "CurLocalAvatar",
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Avatar_Xinyan_Talent_ShieldEnhancePhysicalDMG",
                  "target": "Caster"
                }
              ]
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByHitEnBreak",
                  "enBreak": 0,
                  "logic": "Greater"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Xinyan_Skill_S_Shield_Hit_Handler"
                }
              ]
            }
          ],
          "modifierMixins": [
            {
              "$type": "GlobalSubShieldMixin",
              "mainShieldModifierName": "UNIQUE_Xinyan_Skill_S_Shield"
            }
          ],
          "properties": {
            "Actor_EndureDelta": 0
          }
        },
        "Xinyan_Skill_S_Shield_Hit_Handler": {
          "duration": 0.5,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "target": "Team",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_2",
              "parameter": "Hit"
            }
          ]
        },
        "Xinyan_Talent_ShieldEnhancePhysicalDMG": {
          "isLimitedProperties": true,
          "properties": {
            "Actor_PhysicalAddHurtDelta": "%Xinyan_Talent_ShieldEnhancePhysicalDMG_DMGRate"
          }
        },
        "UNIQUE_Xinyan_Skill_S_FireBuff": {
          "isUnique": true,
          "stacking": "Refresh",
          "duration": 1.0,
          "elementType": "Fire",
          "elementDurability": 25
        }
      },
      "abilitySpecials": {
        "Xinyan_Talent_ShieldEnhancePhysicalDMG_DMGRate": 0,
        "Xinyan_ShieldDuration": 0,
        "Xinyan_Shield2_BaseDurability": 0,
        "Xinyan_Shield2_DefRatioDurability": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  // 元素战技：护盾 等级1
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalArt_Shield_1",
      "onAbilityStart": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Xinyan_Skill_S_Shield",
          "target": "Team"
        },
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_1",
          "target": "Caster",
          "parameter": "Eff_Ani_Noel_Skill_S_Loop_Show"
        }
      ],
      "modifiers": {
        "UNIQUE_Xinyan_Skill_S_Shield": {
          "isUnique": true,
          "stacking": "Refresh",
          "duration": "%Xinyan_ShieldDuration",
          "onAdded": [],
          "modifierMixins": [
            {
              "$type": "GlobalMainShieldMixin",
              "shieldType": "Avatar_Fire",
              "shieldHP": "%Xinyan_Shield1_DefRatioDurability*%FIGHT_PROP_CUR_DEFENSE+%Xinyan_Shield1_BaseDurability",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_1",
              "showDamageText": "INFO_ELITE_DEFENCE",
              "childShieldModifierName": "UNIQUE_Xinyan_Skill_S_Shield_Child", //天赋：护盾拥有受击治疗效果
              "onShieldBroken": []
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_3_Break"
            }
          ]
        },
        "UNIQUE_Xinyan_Skill_S_Shield_Child": {
          "isUnique": true,
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_Xinyan_Skill_S_FireBuff",
              "target": "CurLocalAvatar"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Xinyan_Talent_ShieldEnhancePhysicalDMG",
              "target": "CurLocalAvatar",
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Avatar_Xinyan_Talent_ShieldEnhancePhysicalDMG",
                  "target": "Caster"
                }
              ]
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByHitEnBreak",
                  "enBreak": 0,
                  "logic": "Greater"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Xinyan_Skill_S_Shield_Hit_Handler"
                }
              ]
            }
          ],
          "modifierMixins": [
            {
              "$type": "GlobalSubShieldMixin",
              "mainShieldModifierName": "UNIQUE_Xinyan_Skill_S_Shield"
            }
          ],
          "properties": {
            "Actor_EndureDelta": 0
          }
        },
        "Xinyan_Skill_S_Shield_Hit_Handler": {
          "duration": 0.5,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "target": "Team",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Shield_1",
              "parameter": "Hit"
            }
          ]
        },
        "Xinyan_Talent_ShieldEnhancePhysicalDMG": {
          "isLimitedProperties": true,
          "properties": {
            "Actor_PhysicalAddHurtDelta": "%Xinyan_Talent_ShieldEnhancePhysicalDMG_DMGRate"
          }
        },
        "UNIQUE_Xinyan_Skill_S_FireBuff": {
          "isUnique": true,
          "stacking": "Refresh",
          "duration": 1.0,
          "elementType": "Fire",
          "elementDurability": 25
        }
      },
      "abilitySpecials": {
        "Xinyan_Talent_ShieldEnhancePhysicalDMG_DMGRate": 0,
        "Xinyan_ShieldDuration": 0,
        "Xinyan_Shield1_BaseDurability": 0,
        "Xinyan_Shield1_DefRatioDurability": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  // 元素爆发：发动
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalBurst_Initiate",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalBurst_Initiate"
        },
        // {
        //         	"$type": "ApplyModifier",
        //         	"modifierName": "Xinyan_Talent_CritWhenElementalBurst_Handler",
        // 	"predicates":
        // 	[
        // 		{
        // 			"$type" : "ByUnlockTalentParam",
        // 			"talentParam":"Avatar_Xinyan_Talent_CritWhenElementalBurst",
        // 			"target":"Caster"
        // 		}
        // 	],
        // },
        {
          "$type": "AvatarSkillStart",
          "skillID": 10443,
          "cdRatio": 1
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Xinyan_ElementalBurst"],
          "modifierName": "Invincible"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Xinyan_ElementalBurst", "Xinyan_ElementalBurst_AS"],
          "modifierName": "WeatherChange"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Xinyan_ElementalBurst"],
          "modifierName": "Xinyan_ElementalBurst_Guitar"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Xinyan_ElementalBurst_AS",
          "modifierName": "Xinyan_ElementalBurst_Guitar_1",
          "target": "Self",
          "normalizeStart": 0,
          "normalizeEnd": 0.15
        }
      ],

      "modifiers": {
        "WeatherChange": {
          "modifierMixins": [
            {
              "$type": "TriggerWeatherMixin",
              "type": "Skill",
              "weatherPattern": "Weather_Xinyan_ElementalBurst",
              "transDuration": 1, //这个同时是渐入时长和渐出时长。
              "duration": 2 //释放时变亮的参数
              // "duration":1.4,//释放时仍然暗的参数,剑变亮时间增长了。
            }
          ]
        },
        "Invincible": {
          "state": "Invincible",
          "onAdded": [
            {
              "$type": "AttachAbilityStateResistance",
              "resistanceListID": 11002
            }
          ]
        },
        // 	"Xinyan_Talent_CritWhenElementalBurst_Handler":
        // 	{
        // 		"modifierMixins":
        // 		[
        // {
        // 	"$type": "AttachToNormalizedTimeMixin",
        // 	"stateID": "Xinyan_ElementalBurst",
        // 	"modifierName": "Xinyan_Talent_CritWhenElementalBurst",
        // 	"target":"Self",
        // 	"normalizeStart" : 0,
        // 	"normalizeEnd" : 0.4,
        // },
        // 		]
        // 	},
        // "Xinyan_Talent_CritWhenElementalBurst":
        // {
        // 	"modifierMixins":
        // 	[
        // 		{
        // 			"$type": "ModifyDamageMixin",
        // 			"attackTags":["Elemental_Burst"],
        // "bonusCritical":"%Xinyan_Talent_CritWhenElementalBurst_CritRate",
        // 		}
        // 	]
        // },
        "Xinyan_ElementalBurst_Guitar": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Guitar"
            }
          ]
        },
        "Xinyan_ElementalBurst_Guitar_1": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Guitar"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_Guitar_Dissipate"
            }
          ]
        }
      }
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalBurst_Hit",
      "abilityMixins": [
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Xinyan_ElementalBurst",
          "modifierName": "Xinyan_ElementalBurst_Hit",
          "target": "Self",
          "normalizeStart": 0.25,
          "normalizeEnd": 1
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Xinyan_ElementalBurst",
          "modifierName": "Avatar_Xinyan_Talent_ElementalBurstInitShield",
          "target": "Self",
          "normalizeStart": 0.3,
          "normalizeEnd": 1
        }
      ],
      "onAbilityStart": [
        {
          "$type": "SetGlobalPos",
          "target": "Self",
          "key": "_ABILITY_Xinyan_ElementalBurst_Pos",
          "born": {
            "$type": "ConfigBornBySelf",
            "onGround": true
          },
          "setTarget": false
        },

        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalBurst_Hit",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        }
      ],
      "modifiers": {
        "Xinyan_ElementalBurst_Hit": {
          "onAdded": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "height": 1.6,
                  "fanAngle": 360.0,
                  "radius": 3.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 0.0
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "Elemental_Burst",
                  // "attenuationTag": "Elemental_Burst",
                  "attackProperty": {
                    "damagePercentage": "%Xinyan_ElementalBurst_PhysicalDamage",
                    "strikeType": "Default",
                    "bonusCritical": "%Xinyan_Talent_CritWhenElementalBurst_CritRate",
                    // "elementType": "Fire",
                    // "elementDurability": 50,
                    // "elementRank":1.5,
                    "enBreak": 300,
                    "attackType": "Default"
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV3",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": true,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0,
                    "muteHitText": false
                  },
                  "forceCameraShake": true,
                  "cameraShake": {
                    "shakeType": "CustomVector",
                    "shakeRange": 0.24,
                    "shakeTime": 0.3,
                    "shakeDistance": 45,
                    "shakeDir": {
                      "x": 0,
                      "y": 1,
                      "z": 0
                    }
                  }
                }
              }
            }
          ]
        },
        "Avatar_Xinyan_Talent_ElementalBurstInitShield": {
          "duration": 0.2,
          "onAdded": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Xinyan_Skill_S_Shield",
              "target": "Team",
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Avatar_Xinyan_Talent_ElementalBurstInitShield",
                  "target": "Caster"
                }
              ]
            }
            // {
            // 	"$type": "KillGadget",
            // 	"gadgetInfo":
            // 	{
            // 		"$type": "SelectTargetsByChildren",
            // 		"configID": 41044001,
            // 	},
            // },
          ],
          "onRemoved": [
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Xinyan_ElementalArt_Shield_3",
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Avatar_Xinyan_Talent_ElementalBurstInitShield",
                  "target": "Caster"
                }
              ]
            }
            // {
            // 	"$type": "TriggerBullet",
            // 	"bulletID": 41044001,
            // 	// "campID": 1001,
            // 	// "campTargetType": "Enemy",
            // 	"born":
            // 	{
            // 		"$type": "ConfigBornByAttachPoint",
            // 		"attachPointName" : "RootNode",
            // 		"offset" :
            // 		{
            // 			"x": 0.0,
            // 			"y": 0.0,
            // 			"z": 0.0,
            // 		},
            // 	},
            // },
          ]
        }
      },
      "abilitySpecials": {
        "Xinyan_ElementalBurst_PhysicalDamage": 0,
        "Xinyan_Talent_CritWhenElementalBurst_CritRate": 0
      }
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalBurst_Effect",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalBurst_Shockwave",
          "born": {
            "$type": "ConfigBornByGlobalValue",
            "positionKey": "_ABILITY_Xinyan_ElementalBurst_Pos",
            "offset": {
              "x": 0,
              "y": 0,
              "z": 2
            },
            "onGround": true
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalBurst_Firework",
          "born": {
            "$type": "ConfigBornByGlobalValue",
            "positionKey": "_ABILITY_Xinyan_ElementalBurst_Pos",
            "offset": {
              "x": 0,
              "y": 0.0,
              "z": 2
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              }
            },
            "onGround": true
          }
        }
        // {
        //         	"$type": "ApplyModifier",
        //         	"modifierName": "Xinyan_ElementalBurst_Effect",
        // }
      ],
      "modifiers": {
        //   	"Xinyan_ElementalBurst_Effect":
        // {
        // 	"duration":2.0,
        // 	"onAdded":
        // 	[
        //     //     {
        // 	   //      "$type": "FireEffect",
        //     //       	"effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalBurst_Firework",
        //     //       	"born":
        //     //      		{
        //     //         	"$type": "ConfigBornByGlobalValue",
        //     //         	"positionKey":"_ABILITY_Xinyan_ElementalBurst_Pos",
        //     //                "offset":
        //     //                {
        //     //                  	"x": 3.0,
        //     //                  	"y": 0.0,
        //     //                  	"z": 1.5,
        //     //                },
        // 				// "direction":
        // 				// {
        // 				// 	"$type": "ConfigDirectionByEntity",
        // 				// 	"angleOffset":
        // 				// 	{
        // 				// 		"x": 0.0,
        // 				// 		"y": 120.0,
        // 				// 		"z": 0.0,
        // 				// 	},
        // 				// },
        //     //                "onGround": true,
        //     //       	},
        //     //     },
        //     //     {
        // 	   //      "$type": "FireEffect",
        //     //       	"effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalBurst_Firework",
        //     //       	"born":
        //     //      		{
        //     //         	"$type": "ConfigBornByGlobalValue",
        //     //         	"positionKey":"_ABILITY_Xinyan_ElementalBurst_Pos",
        //     //                "offset":
        //     //                {
        //     //                  	"x": 2,
        //     //                  	"y": 0.0,
        //     //                  	"z": -1.0,
        //     //                },
        // 				// "direction":
        // 				// {
        // 				// 	"$type": "ConfigDirectionByEntity",
        // 				// 	"angleOffset":
        // 				// 	{
        // 				// 		"x": 0.0,
        // 				// 		"y": 180.0,
        // 				// 		"z": 0.0,
        // 				// 	},
        // 				// },
        //     //                "onGround": true,
        //     //       	},
        //     //     },
        //     //     {
        // 	   //      "$type": "FireEffect",
        //     //       	"effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalBurst_Firework",
        //     //       	"born":
        //     //      		{
        //     //         	"$type": "ConfigBornByGlobalValue",
        //     //         	"positionKey":"_ABILITY_Xinyan_ElementalBurst_Pos",
        //     //                "offset":
        //     //                {
        //     //                  	"x": -2,
        //     //                  	"y": 0.0,
        //     //                  	"z": -1.0,
        //     //                },
        // 				// "direction":
        // 				// {
        // 				// 	"$type": "ConfigDirectionByEntity",
        // 				// 	"angleOffset":
        // 				// 	{
        // 				// 		"x": 0.0,
        // 				// 		"y": 240.0,
        // 				// 		"z": 0.0,
        // 				// 	},
        // 				// },
        //     //                "onGround": true,
        //     //       	},
        //     //     },
        //     //     {
        // 	   //      "$type": "FireEffect",
        //     //       	"effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalBurst_Firework",
        //     //       	"born":
        //     //      		{
        //     //         	"$type": "ConfigBornByGlobalValue",
        //     //         	"positionKey":"_ABILITY_Xinyan_ElementalBurst_Pos",
        //     //                "offset":
        //     //                {
        //     //                  	"x": -3.0,
        //     //                  	"y": 0.0,
        //     //                  	"z": 1.5,
        //     //                },
        // 				// "direction":
        // 				// {
        // 				// 	"$type": "ConfigDirectionByEntity",
        // 				// 	"angleOffset":
        // 				// 	{
        // 				// 		"x": 0.0,
        // 				// 		"y": 300.0,
        // 				// 		"z": 0.0,
        // 				// 	},
        // 				// },
        //     //                "onGround": true,
        //     //       	},
        //     //     },
        //     //     {
        // 	   //      "$type": "FireEffect",
        //     //       	"effectPattern": "Eff_Avatar_Girl_Claymore_Xinyan_ElementalBurst_Firework",
        //     //       	"born":
        //     //      		{
        //     //         	"$type": "ConfigBornByGlobalValue",
        //     //         	"positionKey":"_ABILITY_Xinyan_ElementalBurst_Pos",
        //     //                "offset":
        //     //                {
        //     //                  	"x": -1.5,
        //     //                  	"y": 0.0,
        //     //                  	"z": 4.0,
        //     //                },
        // 				// "direction":
        // 				// {
        // 				// 	"$type": "ConfigDirectionByEntity",
        // 				// 	"angleOffset":
        // 				// 	{
        // 				// 		"x": 0.0,
        // 				// 		"y": 0.0,
        // 				// 		"z": 0.0,
        // 				// 	},
        // 				// },
        //     //                "onGround": true,
        //     //       	},
        //     //     },
        // 	],
        // },
      }
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalBurst_Fire",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Xinyan_ElementalBurst_Fire"
        },
        {
          "$type": "ActCameraRadialBlur",
          "cameraRadialBlur": {
            "power": 1.5,
            "blurTime": 0.25,
            "fadeTime": 0.3
          }
        }
      ],
      "modifiers": {
        "Xinyan_ElementalBurst_Fire": {
          "duration": 1.8,
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "height": 1.6,
                  "fanAngle": 360.0,
                  "radius": 4.0,
                  "born": {
                    "$type": "ConfigBornByGlobalValue",
                    "positionKey": "_ABILITY_Xinyan_ElementalBurst_Pos",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 2.0
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "Elemental_Burst",
                  "attenuationTag": "Elemental_Burst_Fire",
                  "attackProperty": {
                    "damagePercentage": "%Xinyan_ElementalBurst_FireDamage",
                    "strikeType": "Default",
                    "elementType": "Fire",
                    "elementDurability": 25,
                    "elementRank": 1.5,
                    "enBreak": 50,
                    "attackType": "Default"
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "reboundRatio": 0,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0,
                    "muteHitText": false
                  }
                }
              }
            }
          ],
          "onAdded": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "height": 1.6,
                  "fanAngle": 360.0,
                  "radius": 4.0,
                  "born": {
                    "$type": "ConfigBornByGlobalValue",
                    "positionKey": "_ABILITY_Xinyan_ElementalBurst_Pos",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 2.0
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "Elemental_Burst",
                  "attenuationTag": "Elemental_Burst_Fire",
                  "attackProperty": {
                    "damagePercentage": "%Xinyan_ElementalBurst_FireDamage",
                    "strikeType": "Default",
                    "elementType": "Fire",
                    "elementDurability": 25,
                    "elementRank": 1.5,
                    "enBreak": 50,
                    "attackType": "Default"
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV5",
                    "overrideHitImpulse": {
                      "hitLevel": "Air",
                      "hitImpulseX": 0,
                      "hitImpulseY": 600
                    },
                    "reboundRatio": 0,
                    "canBeDefenceHalt": true,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.0,
                    "muteHitText": false
                  },
                  "forceCameraShake": true,
                  "cameraShake": {
                    "shakeType": "CustomVector",
                    "shakeRange": 0.36,
                    "shakeTime": 0.3,
                    "shakeDistance": 45,
                    "shakeDir": {
                      "x": 0,
                      "y": 1,
                      "z": 0
                    }
                  }
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {
        "Xinyan_ElementalBurst_FireDamage": 0
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  隐藏武器的控制
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_HideWeapon",
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Xinyan_ElementalArt", "Xinyan_ElementalBurst"],
          "modifierName": "HideWeapon"
        }
      ],
      "modifiers": {
        "HideWeapon": {
          "onAdded": [
            {
              "$type": "TriggerHideWeapon",
              "visible": false,
              "partNames": ["equip01", "equip02", "sheathPoint"]
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerHideWeapon",
              "visible": true,
              "doOffStage": true,
              "partNames": ["equip01", "equip02", "sheathPoint"]
            }
          ]
        }
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  元素爆发 相机
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_ElementalBurst_CameraExit",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "ExitCamera"
        }
      ],
      "modifiers": {
        "ExitCamera": {
          "duration": 0.3,
          "onAdded": [
            {
              "$type": "AvatarEnterCameraShot",
              "cameraMoveCfgPath": "CameraElementalBurst_Out_Xinyan",
              "target": "Self"
            }
          ],
          "onRemoved": [
            {
              "$type": "AvatarExitCameraShot",
              "doOffStage": true
            },
            {
              "$type": "AvatarCameraParam",
              "cameraParam": {
                "forceRadius": 6.0,
                "forceRadiusDuration": 0.5,
                "shouldKeepForceRadius": true
              }
            }
          ]
        }
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  空中攻击
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_FallingAnthem",
      "abilityMixins": [
        {
          "$type": "AvatarChangeSkillMixin",
          "priority": "AvatarCommon",
          "jumpSkillID": 5044010,
          "flySkillID": 5044010
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "FallingAnthem_BS_Material"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_Loop"],
          "modifierName": "FallingAnthem_Loop_Normal"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS_2",
            "FallingAnthem_Loop",
            "FallingAnthem_Loop_Low"
          ],
          "modifierName": "FallingAnthem_LoopDamage"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "FallingAnthem_BS_VelocityForce_Initialize"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_Height_Detect"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_FallingDamageImmune_01"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS", "FallingAnthem_Loop"],
          "modifierName": "Inertia"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_OverHead_Camera"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "FallingAnthem_ClearVelocityForce"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": ["FallingAnthem_BS_2", "FallingAnthem_Loop"],
          "modifierName": "FallingAnthem_AttachSelfEffect"
        }
      ],
      "onAdded": [],
      "onAbilityStart": [
        //普通状态第一段
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackCircle",
              "triggerType": "TriggerNoRepeat",
              "scale": 1.0,
              "height": 2.0,
              "centerYOffset": 0.0,
              "offsetZ": 0.0,
              "fanAngle": 360.0,
              "radius": 3.0,
              "followRootNodeY": false,
              "followTransformY": false,
              "offsetAngle": 0.0,
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": -0.5,
                  "z": 1.0
                }
              }
            },
            "attackInfo": {
              "attackTag": "FallingAttack",
              "attackProperty": {
                "damagePercentage": "%FallingAnthem_Normal_Rank_1_Damage",
                "strikeType": "Blunt",
                "overrideByWeapon": true,
                "attackType": "Melee",
                "elementType": "None",
                "elementDurability": 25,
                "enBreak": 150
              },
              "hitPattern": {
                "onHitEffectName": "none",
                "hitImpulseType": "LV4",
                "retreatType": "ByAttacker",
                "reboundRatio": 0,
                "canBeDefenceHalt": false,
                "hitHaltTime": 0,
                "hitHaltTimeScale": 0.1,
                "muteHitText": false
              },
              "forceCameraShake": true,
              /*				        	"cameraShake":
				        	{
				        		"shakeType": "CustomVector",
								"shakeRange": 0.3,
								"shakeTime": 0.12,
								"shakeDistance": 30,
								"shakeDir":
								{
									"x": 0,
									"y": 1,
									"z": 0,
								},
				        	},*/
              "cameraShake": {
                "shakeType": "CustomVector",
                "shakeRange": 0.24,
                "shakeTime": 0.12,
                "shakeDistance": 30,
                "shakeDir": {
                  "x": 0,
                  "y": 1,
                  "z": 0
                },
                "extension": {
                  "baseCycle": 0.24,
                  "cycleDamping": 0,
                  "rangeAttenuation": 0.3
                }
              }
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        },
        //普通状态第二段
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackCircle",
              "triggerType": "TriggerNoRepeat",
              "scale": 1.0,
              "height": 2.0,
              "centerYOffset": 0.0,
              "offsetZ": 0.0,
              "fanAngle": 360.0,
              "radius": 5.0,
              "followRootNodeY": false,
              "followTransformY": false,
              "offsetAngle": 0.0,
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": -0.5,
                  "z": 1.0
                }
              }
            },
            "attackInfo": {
              "attackTag": "FallingAttack",
              "attackProperty": {
                "damagePercentage": "%FallingAnthem_Normal_Rank_2_Damage",
                "strikeType": "Blunt",
                "overrideByWeapon": true,
                "attackType": "Melee",
                "elementType": "None",
                "elementDurability": 25,
                "enBreak": 200
              },
              "hitPattern": {
                "onHitEffectName": "none",
                "hitImpulseType": "LV7",
                "overrideHitImpulse": {
                  "hitLevel": "Air",
                  "hitImpulseX": 0,
                  "hitImpulseY": 800
                },
                "retreatType": "ByAttacker",
                "reboundRatio": 0,
                "canBeDefenceHalt": false,
                "hitHaltTime": 0,
                "hitHaltTimeScale": 0.1,
                "muteHitText": false
              },
              "forceCameraShake": true,
              "cameraShake": {
                "shakeType": "CustomVector",
                "shakeRange": 0.5,
                "shakeTime": 0.2,
                "shakeDistance": 30,
                "shakeDir": {
                  "x": 0,
                  "y": 1,
                  "z": 1
                },
                "extension": {
                  "baseCycle": 0.4,
                  "cycleDamping": 0,
                  "rangeAttenuation": 0.3
                }
              }
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 1,
              "compareType": "Equal"
            }
          ]
        },
        //普通状态第一段
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Strike_01",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        },
        //普通状态第二段
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Strike_02",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 1,
              "compareType": "Equal"
            }
          ]
        }
      ],
      "modifiers": {
        "FallingAnthem_AttachSelfEffect": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Self_02"
            }
          ]
        },
        "FallingAnthem_BS_Material": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Self"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_BS"
            }
          ]
        },
        "FallingAnthem_BS_VelocityForce_Initialize": {
          "properties": {
            "Actor_AddGravityScale": -2
          },
          "onAdded": [
            {
              "$type": "RemoveVelocityForce",
              "forces": ["RushMoveType"]
            }
          ]
        },
        "FallingAnthem_LoopDamage": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 1.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 1
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "FallingAttack",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Loop_Damage",
                    "strikeType": "Slash",
                    "overrideByWeapon": true,
                    "attackType": "Melee",
                    "elementType": "None",
                    "elementDurability": 0,
                    "enBreak": 35
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_01": {
          "onAdded": [
            {
              "$type": "ClearGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv0",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv0",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv0",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv0",
                  "logic": "LesserOrEqual"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv1",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv1",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv1",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv1",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv0",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv2",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv2",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv2",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv2",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv1",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv3",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv3",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv3",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv3",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv2",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv4",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv4",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv4",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv3",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================

            {
              "$type": "AttachModifier",
              "modifierName": "FallingAnthem_FallingDamageImmune_02"
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_02": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_FallingAttack_Altitude",
              "overrideMapKey": "FallingAnthem_FallingDamageRatio"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "FallingAnthem_FallingDamageImmune_03"
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_03": {
          "properties": {
            "Actor_FallingDamageRatio": "%FallingAnthem_FallingDamageRatio"
          }
        },
        "FallingAnthem_Loop_Normal": {
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_FallingAnthem_UseCamera",
              "valueSteps": [-1, 0.5, 1.5],
              "removeAppliedModifier": true,
              "modifierNameSteps": [
                "FallingAnthem_Loop_Normal_Rank_1",
                "FallingAnthem_Loop_Normal_Rank_2"
              ]
            }
          ]
        },
        "FallingAnthem_Loop_Normal_Rank_1": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Loop_01"
            }
          ]
        },
        "FallingAnthem_Loop_Normal_Rank_2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Loop_02"
            }
          ]
        },
        //水平惯性继承
        "Inertia": {
          "modifierMixins": [
            {
              "$type": "ApplyInertiaVelocityMixin",
              "damping": 0,
              "useXZ": false,
              "useY": false
            }
          ]
        },
        "FallingAnthem_Height_Detect": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "LesserOrEqual"
                }
              ]
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 5,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "Greater"
                }
              ]
            },
            /*						{
							"$type": "DebugLog",
							"content": "FallingAnthem Height Set True!",
							"predicates":
							[
								{
									"$type": "ByTargetAltitude",
									"value": 3.0,
									"logic": "Greater",
								},
							],
						},*/
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "LesserOrEqual"
                }
              ]
            },
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 1,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "Greater"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
            /*						{
							"$type": "DebugLog",
							"content": "FallingAnthem Height Reset!",
						},*/
          ]
        },
        "FallingAnthem_OverHead_Camera": {
          "onAdded": [
            {
              "$type": "AvatarCameraParam",
              "lockParam": false,
              "cameraParam": {
                "forceRadius": 4.5,
                "forceRadiusDuration": 0.2,
                "shouldKeepForceRadius": true
              },
              "predicates": [
                {
                  "$type": "ByAnimatorFloat",
                  "parameter": "FallingAnthem_UseCamera",
                  "value": 1,
                  "logic": "Equal"
                }
              ]
            }
          ]
        },
        "FallingAnthem_OverHead_Camera_Remover": {
          "onAdded": [
            {
              "doOffStage": true,
              "$type": "AvatarExitCameraShot"
            }
          ]
        },
        "FallingAnthem_Landed_Camera": {
          "onAdded": [
            {
              "$type": "AvatarCameraParam",
              "lockParam": false,
              "cameraParam": {
                "forceRadius": 6.0,
                "forceRadiusDuration": 0.1,
                "shouldKeepForceRadius": true
              },
              "predicates": [
                {
                  "$type": "ByAnimatorFloat",
                  "parameter": "FallingAnthem_UseCamera",
                  "value": 1,
                  "logic": "Equal"
                }
              ]
            }
          ]
        },
        "FallingAnthem_ClearVelocityForce": {
          "onAdded": [
            {
              "$type": "RemoveVelocityForce",
              "forces": ["RushMoveType", "InertiaType"]
            }
          ]
          /*					"onRemoved":
					[
						{
							"$type": "RemoveVelocityForce",
							"forces": ["RushMoveType"],
						},
					],*/
        }
      },
      "abilitySpecials": {
        "FallingAnthem_Normal_Loop_Damage": 0,
        "FallingAnthem_Normal_Rank_1_Damage": 0,
        "FallingAnthem_Normal_Rank_2_Damage": 0,

        "FallingAnthem_Altitude_Lv0": 20,
        "FallingAnthem_Altitude_Lv1": 40,
        "FallingAnthem_Altitude_Lv2": 60,
        "FallingAnthem_Altitude_Lv3": 100,
        "FallingAnthem_Altitude_Lv4": 200,

        "FallingAnthem_FallingDamageRatio_Lv0": -1,
        "FallingAnthem_FallingDamageRatio_Lv1": -1,
        "FallingAnthem_FallingDamageRatio_Lv2": -0.9,
        "FallingAnthem_FallingDamageRatio_Lv3": -0.8,
        "FallingAnthem_FallingDamageRatio_Lv4": -0.6,

        "FallingAnthem_FallingDamageRatio": 0
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  技能升级：普通攻击和重击
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_NormalAttack_DamageHandler",
      "abilityMixins": [
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK01"],
          "damagePercentage": "%NormalAttack_01_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK02"],
          "damagePercentage": "%NormalAttack_02_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK03"],
          "damagePercentage": "%NormalAttack_03_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK04"],
          "damagePercentage": "%NormalAttack_04_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ExtraAttack1"],
          "damagePercentage": "%ExtraAttack_Loop_DamagePercentage"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ExtraAttack2"],
          "damagePercentage": "%ExtraAttack_End_DamagePercentage"
        }
      ],
      "abilitySpecials": {
        "NormalAttack_01_DamagePercentage": 0,
        "NormalAttack_02_DamagePercentage": 0,
        "NormalAttack_03_DamagePercentage": 0,
        "NormalAttack_04_DamagePercentage": 0,
        "ExtraAttack_Loop_DamagePercentage": 0,
        "ExtraAttack_End_DamagePercentage": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  // 命之座1：暴击提升普攻和重击攻速
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_Talent_CritEnhanceAtkSpeed",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Xinyan_Talent_CritEnhanceAtkSpeed_Handler"
        }
      ],
      "modifiers": {
        "UNIQUE_Xinyan_Talent_CritEnhanceAtkSpeed_Handler": {
          "stacking": "Unique",
          "isUnique": true,
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByHitCritical"
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Xinyan_Talent_CritEnhanceAtkSpeed_Buff",
                  "target": "Self"
                }
              ]
            }
          ]
        },
        "UNIQUE_Xinyan_Talent_CritEnhanceAtkSpeed_Buff": {
          "isUnique": true,
          "duration": "%Avatar_Xinyan_Talent_CritEnhanceAtkSpeed_Duration",
          "buffID": 10001,
          "state": "AttackUp",
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "AttachToStateIDMixin",
              "stateIDs": [
                "ExtraAttack",
                "ExtraAttack1",
                "ExtraAttack2",
                "ExtraAttack3"
              ],
              "modifierName": "Xinyan_Talent_CritEnhanceAtkSpeed"
            }
          ],
          "isLimitedProperties": true,
          "properties": {
            "Animator_AttackSpeedRatio": "%Avatar_Xinyan_Talent_CritEnhanceAtkSpeed_AttackSpeedRatio"
          }
        },
        "Xinyan_Talent_CritEnhanceAtkSpeed": {
          "isLimitedProperties": true,
          "properties": {
            "Animator_OverallSpeedRatio": "%Avatar_Xinyan_Talent_CritEnhanceAtkSpeed_AttackSpeedRatio"
          }
        }
      },
      "abilitySpecials": {
        "Avatar_Xinyan_Talent_CritEnhanceAtkSpeed_AttackSpeedRatio": 0,
        "Avatar_Xinyan_Talent_CritEnhanceAtkSpeed_Duration": 0
      }
    }
  },

  ///////////////////////////////////////////////////////////////
  //
  // 命之座6：重击降低体力消耗
  //
  ////////////////////////////////////////////////////////////////

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Xinyan_Talent_EnhanceExtraAttack",
      "isDynamicAbility": true,
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "ExtraAttack",
            "ExtraAttack1",
            "ExtraAttack2",
            "ExtraAttack3",
            "ExtraAttack_BS"
          ],
          "modifierName": "Avatar_Xinyan_Talent_EnhanceExtraAttack"
        }
      ],
      "modifiers": {
        "Avatar_Xinyan_Talent_EnhanceExtraAttack": {
          // "isUnique":true,
          "isLimitedProperties": true,
          "properties": {
            "Actor_CostStaminaRatio": "%Xinyan_Talent_EnhanceExtraAttack_StaminaCost",
            "Actor_AttackExtraDelta": "%Xinyan_Talent_EnhanceExtraAttack_DefPer*%FIGHT_PROP_NONEXTRA_DEFENSE"
          }
        }
      },
      "abilitySpecials": {
        "Xinyan_Talent_EnhanceExtraAttack_StaminaCost": 0,
        "Xinyan_Talent_EnhanceExtraAttack_DefPer": 0
      }
    }
  }
]
