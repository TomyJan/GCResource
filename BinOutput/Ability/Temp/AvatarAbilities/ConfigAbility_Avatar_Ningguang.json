[
  ////////////////////////////////////////////////////////////////
  //
  //  Set NormalAttack & ExtraAttack Trigger
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Roulette", //判断凝光上一次释放的是哪一种普攻
      //保底值
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "_Ningguang_NormalAttack_Mark",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 3,
          "minValue": 0
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Attack01",
          "modifierName": "Ningguang_NormalAttack_Mark_1",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.2
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Attack02",
          "modifierName": "Ningguang_NormalAttack_Mark_2",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.2
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Attack03",
          "modifierName": "Ningguang_NormalAttack_Mark_3",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.2
        }
      ],
      "modifiers": {
        "Ningguang_NormalAttack_Mark_1": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_Ningguang_NormalAttack_Mark",
              "value": -3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Ningguang_NormalAttack_Mark",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            }
          ]
        },
        "Ningguang_NormalAttack_Mark_2": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_Ningguang_NormalAttack_Mark",
              "value": -3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Ningguang_NormalAttack_Mark",
              "value": 2,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            }
          ]
        },
        "Ningguang_NormalAttack_Mark_3": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_Ningguang_NormalAttack_Mark",
              "value": -3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_Ningguang_NormalAttack_Mark",
              "value": 3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ExtraAttack",
      "abilityMixins": [
        {
          "$type": "ButtonHoldChargeMixin",
          "skillID": 10271,
          "chargeTime": 0.05,
          "secondChargeTime": 0.15,
          "OnBeginUncharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill",
              "predicates": [
                {
                  "$type": "ByAnimatorInt",
                  "value": 0,
                  "parameter": "ComboCount",
                  "logic": "Equal"
                }
              ]
            },
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_Ningguang_NormalAttack_Mark",
                  "value": 1,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "Randomed",
                  "chance": 0.5,
                  "successActions": [
                    {
                      "$type": "SetAnimatorInt",
                      "intID": "SkillID",
                      "value": 21
                    }
                  ],
                  "failActions": [
                    {
                      "$type": "SetAnimatorInt",
                      "intID": "SkillID",
                      "value": 31
                    }
                  ],
                  "predicates": [
                    {
                      "$type": "ByAnimatorInt",
                      "value": 0,
                      "parameter": "ComboCount",
                      "logic": "Equal"
                    }
                  ]
                }
              ]
            },
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_Ningguang_NormalAttack_Mark",
                  "value": 2,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "Randomed",
                  "chance": 0.5,
                  "successActions": [
                    {
                      "$type": "SetAnimatorInt",
                      "intID": "SkillID",
                      "value": 11
                    }
                  ],
                  "failActions": [
                    {
                      "$type": "SetAnimatorInt",
                      "intID": "SkillID",
                      "value": 31
                    }
                  ],
                  "predicates": [
                    {
                      "$type": "ByAnimatorInt",
                      "value": 0,
                      "parameter": "ComboCount",
                      "logic": "Equal"
                    }
                  ]
                }
              ]
            },
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_Ningguang_NormalAttack_Mark",
                  "value": 3,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "Randomed",
                  "chance": 0.5,
                  "successActions": [
                    {
                      "$type": "SetAnimatorInt",
                      "intID": "SkillID",
                      "value": 21
                    }
                  ],
                  "failActions": [
                    {
                      "$type": "SetAnimatorInt",
                      "intID": "SkillID",
                      "value": 11
                    }
                  ],
                  "predicates": [
                    {
                      "$type": "ByAnimatorInt",
                      "value": 0,
                      "parameter": "ComboCount",
                      "logic": "Equal"
                    }
                  ]
                }
              ]
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "IsCharging",
              "value": false
            }
          ],
          "OnReleaseUncharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1
            }
          ],
          "OnBeginCharged": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "IsCharging",
              "value": true
            }
          ],
          "OnReleaseCharged": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "IsCharging",
              "value": false
            },
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1
            }
            /*						{
							"$type": "ResetAnimatorTrigger",
							"triggerID": "DoSkill",
						},*/
          ],
          "OnBeginSecondCharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByAny",
                  "predicates": [
                    {
                      "$type": "ByLocalAvatarStamina",
                      "stamina": "%ExtraAttack_Catalyst_Stamina_Cost*%Ningguang_ExtraAttack_StaminaCost+%Flexible_Stamina",
                      "logic": "GreaterOrEqual"
                    },
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Ningguang_FreeExtraAttack",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkillID",
                  "value": 6
                }
              ],
              "failActions": [
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkillID",
                  "value": 1
                }
              ]
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "IsCharging",
              "value": false
            }
            /*						{
							"$type": "ResetAnimatorTrigger",
							"triggerID": "DoSkill",
						},*/
          ],
          "chargeStateIDs": [
            "Attack01",
            "Attack02",
            "Attack03",
            "ExtraAttack_BS",
            "ExtraAttack_Charge",
            "ExtraAttack",
            "ExtraAttack_AS"
          ]
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["ExtraAttack_Charge"],
          "modifierName": "ExtraAttack_StaminaCost"
        }
      ],
      "modifiers": {
        "ExtraAttack_StaminaCost": {
          // "duration": 0.2,
          "onAdded": [
            {
              "$type": "AvatarSkillStart",
              "skillID": 10003,
              "costStaminaRatio": "%Ningguang_ExtraAttack_StaminaCost*%ExtraAttack_Catalyst_Stamina_Cost",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Ningguang_FreeExtraAttack",
                  "target": "Self",
                  "value": 0,
                  "compareType": "NoneOrEqual",
                  "forceByCaster": false
                }
              ]
            },
            {
              "$type": "AvatarSkillStart",
              "skillID": 10003,
              "costStaminaRatio": 0,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Ningguang_FreeExtraAttack",
                  "target": "Self",
                  "value": 1,
                  "compareType": "Equal",
                  "forceByCaster": false
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "Ningguang_ExtraAttack_StaminaCost": 1,
        "ExtraAttack_Catalyst_Stamina_Cost": 0, //读表
        "Flexible_Stamina": -2
      }
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ExtraAttack_Fx",
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["ExtraAttack_Charge", "ExtraAttack"],
          "modifierName": "Ningguang_ExtraAttack_FX"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerBullet",
          "bulletID": 41027020,
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0,
              "y": 1.3,
              "z": 0.83
            }
          }
        },
        {
          "$type": "TriggerAbility",
          "abilityName": "Avatar_Ningguang_ExtraAttack_BulletTrigger",
          "forceUseSelfCurrentAttackTarget": true,
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027019,
            "sortType": "Default"
          }
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Ningguang_ExtraAttack_FX"
        },
        {
          "$type": "TriggerAbility", //重击触发命之座6的效果
          "abilityName": "Avatar_Ningguang_Constellation_Attack_Up_BulletTrigger",
          "forceUseSelfCurrentAttackTarget": false,
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027013,
            "sortType": "Default"
          },
          "predicates": [
            {
              "$type": "ByHasChildGadget",
              "configIdArray": [41027013],
              "value": 1,
              "compareType": "Equal",
              "forceByCaster": true
            }
          ]
        }
      ],
      "modifiers": {
        "Ningguang_ExtraAttack_FX": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ExtraAttack_TriggerBullet",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": 0
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  普攻/重击宝石循环机制
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ExtraAttack_BulletTrigger",
      "onAdded": [],
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ABILITY_ExtraAttack_Effect_Queue",
          "valueSteps": [-0.5, 0.5, 1.5, 2.5, 3.5],
          "removeAppliedModifier": false,
          "modifierNameSteps": [
            "Blank",
            "Bullet_1_Fx",
            "Bullet_2_Fx",
            "Bullet_3_Fx"
          ]
        }
      ],
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR15",
            "centerBasedOn": "Self",
            "campTargetType": "All",
            "campBasedOn": "Self"
          },
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Monster", "Gadget"]
            }
          ],
          "successActions": [
            {
              "$type": "SetAnimatorTrigger",
              "target": "Self",
              "triggerID": "Attack"
            }
          ]
        },
        // {
        // 	"$type":"SetAnimatorTrigger",
        // 	"target":"Self",
        // 	"triggerID":"Attack",
        // },
        {
          "$type": "ApplyModifier",
          "modifierName": "Attack_Timer"
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
              "value": 1,
              "compareType": "MoreThanAndEqual",
              "forceByCaster": true
            }
          ]
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit2",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
              "value": 2,
              "compareType": "MoreThanAndEqual",
              "forceByCaster": true
            }
          ]
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit3",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
              "value": 3,
              "compareType": "MoreThanAndEqual",
              "forceByCaster": true
            }
          ]
        }
      ],
      "modifiers": {
        "Attack_Timer": {
          "duration": 0.16,
          "onRemoved": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "entityTypePriority": ["Monster", "Gadget"],
                "topLimit": 1,
                "sortType": "Random"
              },
              //这个断言应该可以去掉了，待测试
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027014,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
                  "value": 1,
                  "compareType": "MoreThanAndEqual",
                  "forceByCaster": true
                }
              ]
            },
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027015,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
                  "value": 2,
                  "compareType": "MoreThanAndEqual",
                  "forceByCaster": true
                }
              ]
            },
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027014,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
                  "value": 3,
                  "compareType": "MoreThanAndEqual",
                  "forceByCaster": true
                }
              ]
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_ExtraAttack_Effect_Queue",
              "value": -3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0
            }
            // {
            // 	"$type":"KillSelf",
            // },
          ]
        },
        // "ExtraAttack_ALESystem"://Auto Lock Enemy System
        // {
        // 	// "duration":22,
        // 	"onAdded":
        // 	[
        // 		{
        // 			"$type" : "AddGlobalValue",
        // 			"key" : "_ABILITY_Ningguang_ExtraAttack_Gem",
        // 			"value" : 1,
        // 			"useLimitRange" : true,
        // 			"maxValue" : 1,
        // 			"minValue" : 0,
        // 			"doOffStage":true,
        // 		},
        // 	],
        // },
        "Blank": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Bullet_1_Fx",
              "doOffStage": true
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Bullet_2_Fx",
              "doOffStage": true
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Bullet_3_Fx",
              "doOffStage": true
            }
          ]
        },
        "Bullet_1_Fx": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Blank"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ExtraAttack_Gem_Trigger_Funnel_Orange",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0,
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue", //由重击宝石的bulletTrigger告诉凝光现在重击不花钱
              "key": "_ABILITY_Ningguang_FreeExtraAttack",
              "target": "Owner",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true,
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Ningguang_PermanentSkill_1"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0,
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue", //由重击宝石的bulletTrigger告诉凝光免费活动结束了
              "key": "_ABILITY_Ningguang_FreeExtraAttack",
              "target": "Owner",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true,
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Ningguang_PermanentSkill_1"
                }
              ]
            }
          ]
        },
        "Bullet_2_Fx": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Blank"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ExtraAttack_Gem_Trigger_Funnel_Red",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0,
              "doOffStage": true
            }
          ]
        },
        "Bullet_3_Fx": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Blank"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ExtraAttack_Gem_Trigger_Funnel_Yellow",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_ExtraAttack_Gem_Bullet_Count",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0,
              "doOffStage": true
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ExtraAttack_GemBullet_Handler",
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 41027019,
          "campID": 1001,
          "campTargetType": "Enemy",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          },
          "predicates": [
            {
              "$type": "ByHasChildGadget",
              "configIdArray": [41027019],
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        }
      ],
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "ExtraAttack_GemBullet_Handler"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "ExtraAttack_Mark_Initializer"
        }
      ],
      "onKill": [
        {
          "$type": "KillGadget", //角色死亡时移除宝石发射器
          "gadgetInfo": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027019,
            "sortType": "Default"
          },
          "doOffStage": true
        }
      ],
      "modifiers": {
        "ExtraAttack_GemBullet_Handler": {
          "onAttackLanded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "AddGlobalValueToGadget",
              "target": "Self",
              "predicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": [
                    "NormalAttack_01",
                    "NormalAttack_02",
                    "NormalAttack_03"
                  ]
                },
                {
                  "$type": "ByHasChildGadget",
                  "configIdArray": [41027013],
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue", //命之座6时，充能技施法过程中不加新的星璇
                  "forceByCaster": true,
                  "key": "_ABILITY_Ningguang_ElementalBurst_Flag",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            }
          ],
          "onAvatarOut": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_ExtraAttack_Effect_Queue",
              "doOffStage": true,
              "value": -3,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 41027019,
                "sortType": "Default"
              }
            }
          ]
        },
        "AddGlobalValueToGadget": {
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_ExtraAttack_Effect_Queue",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 3,
              "minValue": 0,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 41027019,
                "sortType": "Default"
              }
            }
          ]
        },
        "ExtraAttack_Mark_Initializer": {
          // "duration":1,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              // "canBeHandledOnRecover": true,
              "key": "_ABILITY_Ningguang_FreeExtraAttack",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true
            }
          ],
          "onReconnect": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Ningguang_FreeExtraAttack",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Ningguang_ExtraAttack_Damage
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ExtraAttack_Damage",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Ningguang_ExtraAttack_Trail"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "doOffStage": true,
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 1.5,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackTag": "ExtraAttack",
              "attenuationTag": "ExtraAttack",
              "attackProperty": {
                "damagePercentage": "%ExtraAttack_Damage",
                "elementType": "Rock",
                "elementDurability": 25,
                "enBreak": 45,
                "attackType": "Default",
                "strikeType": "Blunt"
              },
              "hitPattern": {
                "onHitEffectName": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Hit_Orange",
                "hitImpulseType": "LV2",
                "reboundRatio": 0,
                "canBeDefenceHalt": false,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false
            }
          }
        },
        {
          "$type": "FireHitEffect",
          "hitScene": {
            "defaultEffect": "Eff_Ningguang_NormalAttack_Bullet_Hit"
          }
        }
      ],
      "modifiers": {},

      "abilitySpecials": {
        "ExtraAttack_Damage": 0.0
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  _NormalAttack_Dummy
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_NormalAttack_Dummy",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Target",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_IS_SERVANTSTONE",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Ningguang_Nano_Boost",
              "target": "Owner"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Ningguang_NanoBoost_Wall",
              "born": {
                "$type": "ConfigBornByHitPoint",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": 0.3
                },
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        }
      ],
      "modifiers": {
        "Ningguang_Nano_Boost": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_NanoBoost"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_NANOBOOST",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "AttackUp"
            }
          ]
        },
        "AttackUp": {
          "modifierMixins": [
            {
              "$type": "ModifyDamageMixin",
              "attackTags": ["Elemental_Burst", "NormalAttack_01"],
              "damagePercentageRatio": "%NanoBoost_AttackUp"
            }
          ]
        }
      },
      "abilitySpecials": {
        "NanoBoost_AttackUp": 0
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Ningguang_NormalAttackDamage
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_NormalAttackDamage",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Ningguang_NormalAttack_Bullet_Trail"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "NormalAttackElementBall",
          "target": "Self"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Timer"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "doOffStage": true,
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "duration": 0.0,
              "triggerType": "TriggerNoRepeat",
              "radius": 0.5,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackTag": "NormalAttack_01",
              "attenuationTag": "NormalAttack",
              "attackProperty": {
                "damagePercentage": "%NormalAttack_Damage",
                "elementType": "Rock",
                "elementDurability": 25,
                "enBreak": 45,
                "attackType": "Default",
                "strikeType": "Blunt"
              },
              "hitPattern": {
                "onHitEffectName": "Eff_Ningguang_NormalAttack_Bullet_Hit",
                "hitImpulseType": "LV2",
                "reboundRatio": 0,
                "canBeDefenceHalt": false,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false
            }
          },
          "predicates": [
            {
              "$type": "ByNot",
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Ningguang_Constellation_1"
                }
              ]
            }
          ]
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_NormalAttack_Bullet_Hit_Blast",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_Constellation_1"
            }
            // {
            // 	"$type": "ByTargetGlobalValue",
            // 	"key": "_NANOBOOST",
            // 	"value": 0,
            // 	"forceByCaster":true,
            // 	"compareType": "NoneOrEqual",
            // },
          ]
        },
        // {
        // 	"$type":"FireEffect",
        // 	"effectPattern":"Eff_Ningguang_NormalAttack_Bullet_Hit_Blast_NanoBoost",
        // 	"predicates":
        // 	[
        // 		{
        // 			"$type" : "ByUnlockTalentParam",
        // 			"talentParam" : "Ningguang_Constellation_1",
        // 		},
        // 		{
        // 			"$type": "ByTargetGlobalValue",
        // 			"key": "_NANOBOOST",
        // 			"value": 1,
        // 			"forceByCaster":true,
        // 			"compareType": "Equal",
        // 		},
        // 	],
        // },
        // {
        // 	"$type":"FireEffect",
        // 	"effectPattern":"Eff_Ningguang_NormalAttack_Bullet_Hit_NanoBoost",
        // 	"predicates":
        // 	[
        // 		{
        // 			"$type": "ByTargetGlobalValue",
        // 			"key": "_NANOBOOST",
        // 			"value": 1,
        // 			"forceByCaster":true,
        // 			"compareType": "Equal",
        // 		},
        // 		{
        // 			"$type":"ByNot",
        // 			"predicates":
        // 			[
        // 				{
        // 					"$type" : "ByUnlockTalentParam",
        // 					"talentParam" : "Ningguang_Constellation_1",
        // 				},
        // 			],
        // 		}
        // 	],
        // },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "doOffStage": true,
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "duration": 0.0,
              "triggerType": "TriggerNoRepeat",
              "radius": 3.5,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackTag": "NormalAttack_01",
              "attenuationTag": "NormalAttack",
              "attackProperty": {
                "damagePercentage": "%NormalAttack_Damage",
                "elementType": "Rock",
                "elementDurability": 25,
                "enBreak": 45,
                "attackType": "Default",
                "strikeType": "Blunt"
              },
              "hitPattern": {
                "onHitEffectName": "default",
                "hitImpulseType": "LV2",
                "reboundRatio": 0,
                "canBeDefenceHalt": false,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false
            }
          },
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_Constellation_1"
            }
          ]
        },
        {
          "$type": "FireHitEffect",
          "hitScene": {
            "defaultEffect": "Eff_Ningguang_NormalAttack_Bullet_Hit"
          }
        }
      ],
      "modifiers": {
        "Timer": {
          "duration": 0.3,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "AngularVelocityUp"
            }
          ]
        },
        "AngularVelocityUp": {
          "properties": {
            "Actor_BulletMoveAngularVelocityRatio": 20
          }
        },
        "NormalAttackElementBall": {
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["NormalAttack_01"]
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "AttachModifier",
                  "modifierName": "Ball",
                  "target": "Self"
                }
              ]
            }
          ]
        },
        "Ball": {
          "duration": 1.0,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "Randomed",
              "chance": 0.5,
              "successActions": [
                {
                  "$type": "GenerateElemBall",
                  "configID": 2023,
                  "baseEnergy": 3,
                  "ratio": 1,
                  "born": {
                    "$type": "ConfigBornByTarget",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 0.0
                    }
                  }
                }
              ]
            }
          ]
        }
      },

      "abilitySpecials": {
        "NormalAttack_Damage": 0.0
      }
    }
  },
  //普攻未命中消失表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_NormalAttack_LifeOver_Fx",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_NormalAttack_Bullet_Hit"
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_NormalAttack_Bullet_Hit_Blast",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_Constellation_1"
            }
            // {
            // 	"$type": "ByTargetGlobalValue",
            // 	"key": "_NANOBOOST",
            // 	"value": 0,
            // 	"forceByCaster":true,
            // 	"compareType": "NoneOrEqual",
            // },
          ]
        }
        // {
        // 	"$type":"FireEffect",
        // 	"effectPattern":"Eff_Ningguang_NormalAttack_Bullet_Hit_Blast_NanoBoost",
        // 	"predicates":
        // 	[
        // 		{
        // 			"$type" : "ByUnlockTalentParam",
        // 			"talentParam" : "Ningguang_Constellation_1",
        // 		},
        // 		{
        // 			"$type": "ByTargetGlobalValue",
        // 			"key": "_NANOBOOST",
        // 			"value": 1,
        // 			"forceByCaster":true,
        // 			"compareType": "Equal",
        // 		},
        // 	],
        // },
        // {
        // 	"$type":"FireEffect",
        // 	"effectPattern":"Eff_Ningguang_NormalAttack_Bullet_Hit_NanoBoost",
        // 	"predicates":
        // 	[
        // 		{
        // 			"$type": "ByTargetGlobalValue",
        // 			"key": "_NANOBOOST",
        // 			"value": 1,
        // 			"forceByCaster":true,
        // 			"compareType": "Equal",
        // 		},
        // 		{
        // 			"$type":"ByNot",
        // 			"predicates":
        // 			[
        // 				{
        // 					"$type" : "ByUnlockTalentParam",
        // 					"talentParam" : "Ningguang_Constellation_1",
        // 				},
        // 			],
        // 		}
        // 	],
        // },
      ]
    }
  },
  //其余子弹未命中消失表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Elemental_Burst_LifeOver_Orange",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Disappear_Orange"
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Elemental_Burst_LifeOver_Red",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Disappear_Red"
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Elemental_Burst_LifeOver_Yellow",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Disappear_Yellow"
        }
      ]
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  NormalAttack Hide Weapon
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_HideWeapon",
      "onAbilityStart": [],
      "abilityMixins": [
        // {
        // 	"$type":"AttachToStateIDMixin",
        // 	"stateIDs": ["Ningguang_Attack01","Ningguang_Attack02","Ningguang_Attack03"],
        // 	"modifierName": "NormalAttack_HideWeapon",
        // },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Attack01",
          "modifierName": "Ningguang_Attack01_ClearTrigger",
          "normalizeStart": 0.12,
          "normalizeEnd": 0.45
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Attack02",
          "modifierName": "Ningguang_Attack02_ClearTrigger",
          "normalizeStart": 0.14,
          "normalizeEnd": 0.4
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Attack03",
          "modifierName": "Ningguang_Attack03_ClearTrigger",
          "normalizeStart": 0.12,
          "normalizeEnd": 0.4
        }
      ],
      "modifiers": {
        "NormalAttack_HideWeapon": {
          "onAdded": [
            {
              "$type": "TriggerHideWeapon",
              "visible": false,
              "partNames": ["sheathPoint", "equip01", "equip02", "equip03"]
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerHideWeapon",
              "visible": true,
              "doOffStage": true,
              "partNames": ["sheathPoint", "equip01", "equip02", "equip03"]
            }
          ]
        },
        "Ningguang_Attack01_ClearTrigger": {
          "onAdded": [
            {
              "$type": "ResetAnimatorTrigger",
              "triggerID": "DoSkill"
            }
          ],
          "onRemoved": [
            {
              "$type": "ResetAnimatorTrigger",
              "triggerID": "DoSkill"
            }
          ]
        },
        "Ningguang_Attack02_ClearTrigger": {
          "onAdded": [
            {
              "$type": "ResetAnimatorTrigger",
              "triggerID": "DoSkill"
            }
          ],
          "onRemoved": [
            {
              "$type": "ResetAnimatorTrigger",
              "triggerID": "DoSkill"
            }
          ]
        },
        "Ningguang_Attack03_ClearTrigger": {
          "onAdded": [
            {
              "$type": "ResetAnimatorTrigger",
              "triggerID": "DoSkill"
            }
          ],
          "onRemoved": [
            {
              "$type": "ResetAnimatorTrigger",
              "triggerID": "DoSkill"
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Attack01
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Attack01",
      "abilityMixins": [
        // {
        // 	"$type": "AttachToNormalizedTimeMixin",
        // 	"stateID": "Attack01",
        // 	"modifierName": "Ningguang_Attack01_Fx",
        // 	"normalizeStart":0.0,
        // 	"normalizeEnd":0.5,
        // },
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerBullet",
          "bulletID": 41027012,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackL",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByNot",
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 41027012,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackR",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByNot",
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        // {
        // 	"$type" : "Predicated",
        // 	"target" : "SelfAttackTarget",
        // 	"targetPredicates":
        // 	[
        // 		{
        // 			"$type" : "ByTargetPositionToSelfPosition",
        // 			"compareType": "XZ",
        // 			"value": 8.0,
        // 			"logic": "GreaterOrEqual",
        // 		},
        // 	],
        // 	"successActions":
        // 	[
        {
          "$type": "TriggerBullet",
          "bulletID": 41027001,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackL",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "scatter": {
                "maxDistance": 15.0,
                "maxScatterAngle": 45.0,
                "centerRote": -110.0,
                "randomRote": 20.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByHasAttackTarget"
            }
          ]
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 41027001,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackR",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "scatter": {
                "maxDistance": 10.0,
                "maxScatterAngle": 45.0,
                "centerRote": 110.0,
                "randomRote": 20.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByHasAttackTarget"
            }
          ]
        }
        // ],
        // "failActions":
        // [
        // 	{
        // 		"$type": "TriggerBullet",
        // 		"bulletID": 41027001,
        // 		"born":
        // 		{
        // 			"$type": "ConfigBornByAttachPoint",
        // 			"attachPointName" : "PRIVATE_AttackL",
        // 			"offset":
        // 			{
        // 				"x": 0.0,
        // 				"y": 0.0,
        // 				"z": 0.0,
        // 			},
        // 			"direction":
        // 			{
        // 				"$type": "ConfigDirectionByEntity",
        // 				"angleOffset":
        // 				{
        // 					"x": 0.0,
        // 					"y": 0.0,
        // 					"z": 0.0,
        // 				},
        // 			},
        // 		},
        // 	},
        // 	{
        // 		"$type": "TriggerBullet",
        // 		"bulletID": 41027001,
        // 		"born":
        // 		{
        // 			"$type": "ConfigBornByAttachPoint",
        // 			"attachPointName" : "PRIVATE_AttackR",
        // 			"offset":
        // 			{
        // 				"x": 0.0,
        // 				"y": 0.0,
        // 				"z": 0.0,
        // 			},
        // 			"direction":
        // 			{
        // 				"$type": "ConfigDirectionByEntity",
        // 				"angleOffset":
        // 				{
        // 					"x": 0.0,
        // 					"y": 0.0,
        // 					"z": 0.0,
        // 				},
        // 			},
        // 		},
        // 	},
        // ],
        // },
      ],
      "modifiers": {
        "Ningguang_Attack01_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_NormalAttack",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "PRIVATE_AttackR",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByEntity"
                }
              }
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_NormalAttack",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "PRIVATE_AttackL",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByEntity"
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Attack02
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Attack02",
      "abilityMixins": [
        // {
        // 	"$type": "AttachToNormalizedTimeMixin",
        // 	"stateID": "Attack02",
        // 	"modifierName": "Ningguang_Attack02_Fx",
        // 	"normalizeStart":0.0,
        // 	"normalizeEnd":0.5,
        // },
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerBullet",
          "bulletID": 41027012,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackL",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByNot",
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 41027012,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackR",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByNot",
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        // {
        // 	"$type" : "Predicated",
        // 	"target" : "SelfAttackTarget",
        // 	"targetPredicates":
        // 	[
        // 		{
        // 			"$type" : "ByTargetPositionToSelfPosition",
        // 			"compareType": "XZ",
        // 			"value": 8.0,
        // 			"logic": "GreaterOrEqual",
        // 		},
        // 	],
        // 	"successActions":
        // 	[
        {
          "$type": "TriggerBullet",
          "bulletID": 41027001,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackL",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "scatter": {
                "maxDistance": 10.0,
                "maxScatterAngle": 45.0,
                "centerRote": -110.0,
                "randomRote": 20.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByHasAttackTarget"
            }
          ]
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 41027001,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackR",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "scatter": {
                "maxDistance": 10.0,
                "maxScatterAngle": 45.0,
                "centerRote": 110.0,
                "randomRote": 20.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByHasAttackTarget"
            }
          ]
        }
        // ],
        // "failActions":
        // [
        // 	{
        // 		"$type": "TriggerBullet",
        // 		"bulletID": 41027001,
        // 		"born":
        // 		{
        // 			"$type": "ConfigBornByAttachPoint",
        // 			"attachPointName" : "PRIVATE_AttackL",
        // 			"offset":
        // 			{
        // 				"x": 0.0,
        // 				"y": 0.0,
        // 				"z": 0.0,
        // 			},
        // 			"direction":
        // 			{
        // 				"$type": "ConfigDirectionByEntity",
        // 				"angleOffset":
        // 				{
        // 					"x": 0.0,
        // 					"y": 0.0,
        // 					"z": 0.0,
        // 				},
        // 			},
        // 		},
        // 	},
        // 	{
        // 		"$type": "TriggerBullet",
        // 		"bulletID": 41027001,
        // 		"born":
        // 		{
        // 			"$type": "ConfigBornByAttachPoint",
        // 			"attachPointName" : "PRIVATE_AttackR",
        // 			"offset":
        // 			{
        // 				"x": 0.0,
        // 				"y": 0.0,
        // 				"z": 0.0,
        // 			},
        // 			"direction":
        // 			{
        // 				"$type": "ConfigDirectionByEntity",
        // 				"angleOffset":
        // 				{
        // 					"x": 0.0,
        // 					"y": 0.0,
        // 					"z": 0.0,
        // 				},
        // 			},
        // 		},
        // 	},
        // ],
        // },
      ],
      "modifiers": {
        "Ningguang_Attack02_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_NormalAttack",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "PRIVATE_AttackR",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByEntity"
                }
              }
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_NormalAttack",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "PRIVATE_AttackL",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByEntity"
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Attack03
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Attack03",
      "abilityMixins": [
        // {
        // 	"$type": "AttachToNormalizedTimeMixin",
        // 	"stateID": "Attack03",
        // 	"modifierName": "Ningguang_Attack03_Fx",
        // 	"normalizeStart":0.0,
        // 	"normalizeEnd":0.5,
        // },
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerBullet",
          "bulletID": 41027012,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackL",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByNot",
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 41027012,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackR",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByNot",
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        // {
        // 	"$type" : "Predicated",
        // 	"target" : "SelfAttackTarget",
        // 	"targetPredicates":
        // 	[
        // 		{
        // 			"$type" : "ByTargetPositionToSelfPosition",
        // 			"compareType": "XZ",
        // 			"value": 8.0,
        // 			"logic": "GreaterOrEqual",
        // 		},
        // 	],
        // 	"successActions":
        // 	[
        {
          "$type": "TriggerBullet",
          "bulletID": 41027001,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackL",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "scatter": {
                "maxDistance": 10.0,
                "maxScatterAngle": 45.0,
                "centerRote": -110.0,
                "randomRote": 20.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByHasAttackTarget"
            }
          ]
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 41027001,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackR",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "scatter": {
                "maxDistance": 10.0,
                "maxScatterAngle": 45.0,
                "centerRote": 110.0,
                "randomRote": 20.0
              }
            }
          },
          "predicates": [
            {
              "$type": "ByHasAttackTarget"
            }
          ]
        }
        // 	],
        // 	"failActions":
        // 	[
        // 		{
        // 			"$type": "TriggerBullet",
        // 			"bulletID": 41027001,
        // 			"born":
        // 			{
        // 				"$type": "ConfigBornByAttachPoint",
        // 				"attachPointName" : "PRIVATE_AttackL",
        // 				"offset":
        // 				{
        // 					"x": 0.0,
        // 					"y": 0.0,
        // 					"z": 0.0,
        // 				},
        // 				"direction":
        // 				{
        // 					"$type": "ConfigDirectionByEntity",
        // 					"angleOffset":
        // 					{
        // 						"x": 0.0,
        // 						"y": 0.0,
        // 						"z": 0.0,
        // 					},
        // 				},
        // 			},
        // 		},
        // 		{
        // 			"$type": "TriggerBullet",
        // 			"bulletID": 41027001,
        // 			"born":
        // 			{
        // 				"$type": "ConfigBornByAttachPoint",
        // 				"attachPointName" : "PRIVATE_AttackR",
        // 				"offset":
        // 				{
        // 					"x": 0.0,
        // 					"y": 0.0,
        // 					"z": 0.0,
        // 				},
        // 				"direction":
        // 				{
        // 					"$type": "ConfigDirectionByEntity",
        // 					"angleOffset":
        // 					{
        // 						"x": 0.0,
        // 						"y": 0.0,
        // 						"z": 0.0,
        // 					},
        // 				},
        // 			},
        // 		},
        // 	],
        // },
      ],
      "modifiers": {
        "Ningguang_Attack03_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_NormalAttack",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "PRIVATE_AttackR",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByEntity"
                }
              }
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_NormalAttack",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "PRIVATE_AttackL",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByEntity"
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  Attack04
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Attack04",
      "onAbilityStart": [
        {
          "$type": "TriggerBullet",
          "bulletID": 41027001,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackL",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByEntity"
            }
          }
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 41027001,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "PRIVATE_AttackR",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "direction": {
              "$type": "ConfigDirectionByEntity"
            }
          }
        }
      ],
      "modifiers": {},
      "abilitySpecials": {}
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  ServantStone
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ServantStone",
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["ServantStone_BS"],
          "modifierName": "GadgetKiller"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["ServantStone_BS"],
          "modifierName": "SkillStart"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 41027000,
          "campID": 1001,
          "campTargetType": "Enemy",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 3.0
            },
            "onGround": true,
            // "alongGround": true,
            "onGroundIgnoreWater": true,
            "onGroundRaycastUpDist": 4
          }
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "ElementalArt_Mark"
        }
      ],
      "onAvatarOut": [
        {
          "$type": "KillGadget",
          "gadgetInfo": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027013,
            "sortType": "Default"
          },
          "doOffStage": true
        }
      ],
      "modifiers": {
        "ElementalArt_Mark": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_AVATAR_Ningguang_ELementalArt_IsCharge",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        "GadgetKiller": {
          "onAdded": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 41027000,
                "sortType": "Default"
              },
              "doOffStage": true
            }
          ]
        },
        "SkillStart": {
          "onAdded": [
            {
              "$type": "AvatarSkillStart",
              "skillID": 10272,
              "cdRatio": 1.0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_SkillCD_Protect",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_SkillCD_Protect",
              "value": -1,
              "useLimitRange": true,
              "doOffStage": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Charge_ServantStone",
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 41027000,
          "campID": 1001,
          "campTargetType": "Enemy",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 3.0
            },
            "onGround": true,
            // "alongGround": true,
            "onGroundRaycastUpDist": 4
          }
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "ElementalArt_Charge_Mark"
        }
      ],
      "modifiers": {
        "ElementalArt_Charge_Mark": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_AVATAR_Ningguang_ELementalArt_IsCharge",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_AVATAR_Ningguang_ELementalArt_IsCharge",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Change_Gadget_BornState",
      "abilityMixins": [
        // {
        // 	"$type": "SkillButtonHoldChargeMixin",
        // 	"skillID": 10272,
        // 	"beforeStateIDs" : ["ServantStone_BS"],
        // 	"chargeLoopStateIDs" : ["ServantStone_Charge",],
        // 	"chargeLoopDurations" : [ 0.4 ],
        // 	"nextLoopTriggerID" : "NextLoopTrigger",
        // 	"endHoldTrigger" : "EndHoldTrigger",
        // },
      ],
      "onAbilityStart": [
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "BornToOpen",
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027000,
            "sortType": "Default"
            // "topLimit": 2,
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue", //
              "key": "_AVATAR_Ningguang_ELementalArt_IsCharge",
              "value": 0,
              "forceByCaster": true,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "BornToClose",
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027000,
            "sortType": "Default"
            // "topLimit": 2,
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue", //
              "key": "_AVATAR_Ningguang_ELementalArt_IsCharge",
              "value": 1,
              "forceByCaster": true,
              "compareType": "Equal"
            }
          ]
        }
      ],
      "modifiers": {},
      "abilitySpecials": {}
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ServantStone_Switch",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "ServantStone_Switch", //防止快速连点两次、发两遍Trigger（好像不行，再看看）
          "target": "Self"
        }
      ],
      "modifiers": {
        "ServantStone_Switch": {
          "duration": 0.3,
          "onAdded": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "Switch",
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 41027000,
                "sortType": "Reversed"
                // "topLimit": 1,
              }
            },
            {
              "$type": "AvatarSkillStart",
              "skillID": 10273,
              "cdRatio": 1.0
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ServantStone_Material",
      "onAbilityStart": [],
      "onAdded": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementArt_Particle_ShockWave"
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "canHitHead": false,
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackCircle",
              "triggerType": "TriggerNoRepeat",
              "height": 1.5,
              "fanAngle": 360.0,
              "radius": 5.0,
              "checkHitScene": false,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            "attackInfo": {
              "attackTag": "Elemental_Art",
              "canBeModifiedBy": "OriginOwner",
              "attackProperty": {
                "damagePercentage": "%Elemental_Art_Damage",
                "strikeType": "Blunt",
                "elementType": "Rock",
                "elementDurability": 25,
                "elementRank": 1.5,
                "enBreak": 133.2
              },
              "hitPattern": {
                "hitImpulseType": "LV5",
                "retreatType": "ByHitDirection",
                "reboundRatio": 0,
                "canBeDefenceHalt": true,
                "hitHaltTime": 0.05,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": true,
              "cameraShake": {
                "shakeRange": 0.3,
                "shakeTime": 0.15
              }
            }
          }
        },
        {
          "$type": "TriggerAbility",
          "target": "Owner",
          "abilityName": "Avatar_Ningguang_Change_Gadget_BornState"
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "Ningguang_SkillUpgrade_2_HpUp",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_SkillUpgrade_2"
            }
          ]
        },
        {
          "$type": "AttachModifier",
          "modifierName": "ServantStone_Fx"
        }
      ],
      "onKill": [
        {
          "$type": "RemoveModifier",
          "target": "Owner",
          "modifierName": "ServantStone_ChangeSkill"
        },
        {
          "$type": "RemoveModifier",
          "target": "Self",
          "modifierName": "ServantStone_Fx"
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalArt_02_Model_Disappear"
        }
      ],
      "abilityMixins": [
        {
          "$type": "DoActionByStateIDMixin",
          "stateIDs": ["BornToOpen"],
          "enterActions": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "BornToOpen",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Open"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "InVisible",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Closed"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Ningguang_ElementArt_Particle_2"
            }
          ]
        },
        {
          "$type": "DoActionByStateIDMixin",
          "stateIDs": ["BornToClosed"],
          "enterActions": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "BornToClosed",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Closed"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "InVisible",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Open"
            }
            // {
            // 	"$type":"FireEffect",
            // 	"effectPattern":"Eff_Ningguang_ElementArt_Particle_1",
            // },
          ]
        },
        {
          "$type": "DoActionByStateIDMixin",
          "stateIDs": ["Open"],
          "enterActions": [
            // {
            // 	"$type":"FireEffect",
            // 	"effectPattern":"Eff_Ningguang_ElementArt_Particle_3",
            // },
          ]
        },
        {
          "$type": "DoActionByStateIDMixin",
          "stateIDs": ["Closed"],
          "enterActions": [
            // {
            // 	"$type":"FireEffect",
            // 	"effectPattern":"Eff_Ningguang_ElementArt_Particle_4",
            // },
          ]
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Open"],
          "modifierName": "ServantStone_Open"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Closed"],
          "modifierName": "ServantStone_Closed"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["BornToOpen"],
          "modifierName": "ServantStone_BornToOpen"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["BornToClosed"],
          "modifierName": "ServantStone_BornToClosed"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Closed", "BornToClosed"],
          "modifierName": "ServantStone_Invincible"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["OpenToImpact"],
          "modifierName": "GemStone_Impact_FromOpen"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["CloseToImpact"],
          "modifierName": "GemStone_Impact_FromClosed"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Open", "BornToOpen"],
          "modifierName": "ServantStone_Open_BeHit_Handler"
        }
      ],
      "modifiers": {
        "ServantStone_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Open"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Closed"
            }
          ]
        },
        "ServantStone_Open": {
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "CloseToOpen",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Closed"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "CloseToOpen",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Open"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "TurnDirectionHandler",
              "target": "Self"
            }
          ],
          "onKill": [
            // {
            // 	"$type":"FireEffect",
            // 	"effectPattern":"Eff_Ningguang_ElementalArt_02_Model_Disappear",
            // },
          ],
          "onRemoved": []
        },
        //让创生物延迟转身，看起来没有那么突兀
        "TurnDirectionHandler": {
          "duration": 0.2,
          "onRemoved": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "target": "Owner",
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "ServantStone_Open_BeHit_Handler": {
          "onBeingHit": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Ningguang_ElementalArt_02_Model_Hit",
              "born": {
                "$type": "ConfigBornByHitPoint"
              }
            }
          ]
        },
        "ServantStone_Closed": {
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "OpenToClose",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Closed"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "OpenToClose",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Open"
            }
          ],
          "onRemoved": [],
          "onAttackLanded": [],
          "onKill": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Ningguang_ElementalArt_01_Model_Disappear"
            }
          ]
        },
        "ServantStone_Invincible": {
          "state": "IsGhostToEnemy"
        },
        "ServantStone_ChangeSkill": {
          "modifierMixins": [
            {
              "$type": "SwitchSkillIDMixin",
              "priority": "AvatarSpecial",
              "skillIndex": 1,
              "skillID": 10273
            }
          ],
          "onRemoved": [
            {
              "$type": "EntityDoSkill", //这个是用来触发凝光小技能CD的，不能直接用AvatarSkillStart，因为instancedAbility.caster.GetEntity() is AvatarEntity
              // "target":"OriginOwner",
              "doOffStage": true,
              "skillID": 10275
            }
          ]
        },
        "GemStone_Impact_FromClosed": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "GemStone_Impact_Timer"
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true
            },
            {
              "$type": "CreateGadget",
              "gadgetID": 41027002,
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": 0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "CloseToOpen",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Closed"
            }
          ]
        },
        "GemStone_Impact_FromOpen": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "GemStone_Impact_Timer"
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true
            },
            {
              "$type": "CreateGadget",
              "gadgetID": 41027002,
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": 0
                }
              }
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "OpenToClose",
              "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Open"
            }
          ]
        },
        "GemStone_Impact_Timer": {
          "duration": 0.3,
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },
        "Ningguang_SkillUpgrade_2_HpUp": {
          "properties": {
            "Actor_MaxHPRatio": "%SkillUpgrade_2_HpUpPercentageRatio"
          }
        },
        "ServantStone_BornToOpen": {
          "onKill": [
            // {
            // 	"$type":"FireEffect",
            // 	"effectPattern":"Eff_Ningguang_ElementalArt_02_Model_Disappear",
            // },
          ]
        },
        "ServantStone_BornToClosed": {
          "onKill": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Ningguang_ElementalArt_01_Model_Disappear"
            }
          ]
        }
      },
      "abilitySpecials": {
        "SkillUpgrade_2_HpUpPercentageRatio": 0,
        "Elemental_Art_Damage": 0
      }
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Trigger_ElementalArt_CD",
      "onAbilityStart": [
        // {
        // 	"$type": "AvatarSkillStart",
        // 	"skillID": 10272,
        // 	"cdRatio": 3.0,
        // },
      ],
      "modifiers": {},
      "abilitySpecials": {}
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  GemStone_Impact
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_GemStone_Impact",
      "onAbilityStart": [
        {
          "$type": "AddGlobalValue",
          "key": "_ABILITY_ExtraAttack_Effect_Queue", //释放充能技前先清除普攻的宝石
          "value": -3,
          "useLimitRange": true,
          "maxValue": 3,
          "minValue": 0,
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027019,
            "sortType": "Default"
          },
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_Constellation_6"
            }
          ]
        },
        {
          "$type": "CreateGadget",
          "gadgetID": 41027007,
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0,
              "y": 0.0,
              "z": 0.0
            }
          }
          // "predicates":
          // [
          // 	{
          // 		"$type":"ByHasAttackTarget",
          // 	},
          // ],
        },
        // {
        // 	"$type":"CreateGadget",
        // 	"gadgetID":41027017,
        // 	"born":
        // 	{
        // 		"$type":"ConfigBornBySelf",
        // 		"offset":
        // 		{
        // 			"x":0,
        // 			"y":0.0,
        // 			"z":0.0,
        // 		},
        // 	},
        // 	"predicates":
        // 	[
        // 		{
        // 			"$type":"ByNot",
        // 			"predicates":
        // 			[
        // 				{
        // 					"$type":"ByHasAttackTarget",
        // 				},
        // 			],
        // 		}
        // 	],
        // },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_Elemental_Burst_TriggerBullet",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0,
              "y": 0.5,
              "z": 0.0
            }
          }
        },
        {
          "$type": "AvatarSkillStart",
          "skillID": 10274,
          "cdRatio": 1.0
        },
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "GemStone_Impact",
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027000,
            "sortType": "Reversed",
            "topLimit": 2
          }
        },
        {
          "$type": "ActCameraRadialBlur",
          "cameraRadialBlur": {
            "power": 1,
            "blurTime": 0.2,
            "fadeTime": 0.1
          }
        },
        // {//尝试在释放充能技前推一下周围的怪
        // 	"$type":"AvatarDoBlink",
        // 	"PreferInput":false,
        // 	"Distance":-1.5,
        // },
        // {
        // 	"$type" : "TriggerAttackEvent",
        // 	"targetType" : "Enemy",
        // 	"attackEvent":
        // 	{
        // 		"attackPattern":
        // 		{
        // 			"$type": "ConfigAttackCircle",
        // 			"triggerType": "TriggerNoRepeat",
        // 			"fanAngle": 360.0,
        // 			"radius": 5.0,
        // 			"born":
        // 			{
        // 				"$type": "ConfigBornBySelf",
        // 				"offset":
        // 				{
        // 					"x" : 0.0,
        // 					"y" : 0.0,
        // 					"z" : 0.0,
        // 				},
        // 			},
        // 		},
        // 		"attackInfo":
        // 		{
        // 			"attackProperty":
        // 			{
        // 				"damagePercentage": 0,
        // 				"elementType": "Rock",
        // 				"elementDurability": 0,
        // 				"enBreak" : 100,
        // 			},
        // 			"hitPattern":
        // 			{
        // 				"onHitEffectName": "default",
        // 				"hitLevel": "Heavy",	//hitlevel = 2
        //           		"hitImpulseX": 200,	//hitlevel = 2
        //           		"hitImpulseY": 0,	//hitlevel = 2
        // 				"reboundRatio": 0,
        // 				"canBeDefenceHalt": false,
        // 				"hitHaltTime": 0.0,
        // 				"hitHaltTimeScale": 0.05,
        // 				"muteHitText": true,
        // 			},
        // 			"forceCameraShake": false,
        // 			"cameraShake": {},
        // 		}
        // 	},
        // },
        {
          "$type": "KillGadget",
          "gadgetInfo": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027013,
            "sortType": "Default"
          },
          "doOffStage": true
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["GemStone_Impact"],
          "modifierName": "Camera_Remover_Handler"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["GemStone_Impact"],
          "modifierName": "Elemental_Burst_Invincible"
        },
        {
          "$type": "AttachToStateIDMixin", //标记凝光处于充能技施法过程中
          "stateIDs": ["GemStone_Impact"],
          "modifierName": "Ningguang_ElementalBurst_Flag",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_Constellation_6"
            }
          ]
        }
      ],
      "onAdded": [],
      "onKill": [],
      "onAvatarOut": [],
      "modifiers": {
        "Camera_Remover_Handler": {
          "onAvatarOut": [
            {
              "$type": "AvatarExitCameraShot",
              "doOffStage": true
            },
            {
              "$type": "AvatarCameraParam",
              "cameraParam": {
                "forceRadius": 6.0,
                "forceRadiusDuration": 0,
                "shouldKeepForceRadius": true
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "AvatarExitCameraShot",
              "doOffStage": true
            },
            {
              "$type": "AvatarCameraParam",
              "cameraParam": {
                "forceRadius": 6.0,
                "forceRadiusDuration": 0,
                "shouldKeepForceRadius": true
              }
            }
          ]
        },
        "Elemental_Burst_Invincible": {
          "state": "Invincible",
          "onAdded": [
            {
              "$type": "AttachAbilityStateResistance",
              "resistanceListID": 11002
            }
          ]
        },
        "Ningguang_ElementalBurst_Flag": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_ElementalBurst_Flag",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_ElementalBurst_Flag",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ElementalBurst_BulletTrigger",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "target": "Self",
          "modifierName": "Bullet_Trigger_Timer"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ABILITY_ElementalBurst_BulletTrigger_Queue",
          "valueSteps": [0.5, 1.5, 2.5, 3.5, 4.5, 5.5, 6.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "TriggerBullet_1",
            "TriggerBullet_2",
            "TriggerBullet_3",
            "TriggerBullet_4",
            "TriggerBullet_5",
            "TriggerBullet_6"
          ]
        }
      ],
      "modifiers": {
        "Bullet_Trigger_Timer": {
          "duration": 0.8,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Bullet_Trigger_Counter"
            }
          ]
        },
        "Bullet_Trigger_Counter": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_ElementalBurst_BulletTrigger_Queue",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ],
          "thinkInterval": 0.03,
          "onThinkInterval": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_ElementalBurst_BulletTrigger_Queue",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 6,
              "minValue": 0
            }
          ]
        },
        "TriggerBullet_1": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D180",
                "centerBasedOn": "Owner",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027003, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_2": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D180",
                "centerBasedOn": "Owner",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027004, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_3": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D180",
                "centerBasedOn": "Owner",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027008, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_4": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D180",
                "centerBasedOn": "Owner",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027009, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit4",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_5": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D180",
                "centerBasedOn": "Owner",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027010, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit5",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_6": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D180",
                "centerBasedOn": "Owner",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027011, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit6",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ElementalBurst_BulletTrigger_WithOutTarget",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Create_Attack_Target",
          "target": "Self"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ABILITY_ElementalBurst_BulletTrigger_Queue",
          "valueSteps": [0.5, 1.5, 2.5, 3.5, 4.5, 5.5, 6.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "TriggerBullet_1",
            "TriggerBullet_2",
            "TriggerBullet_3",
            "TriggerBullet_4",
            "TriggerBullet_5",
            "TriggerBullet_6"
          ]
        }
      ],
      "modifiers": {
        "Create_Attack_Target": {
          "duration": 0.8,
          "onAdded": [
            {
              "$type": "CreateGadget", //凝光大招充能技空放的dummy
              "gadgetID": 41027018,
              "campID": 4001,
              "campTargetType": "All",
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 8.0
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Bullet_Trigger_Counter",
              "target": "Self"
            }
          ]
        },
        "Bullet_Trigger_Counter": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_ElementalBurst_BulletTrigger_Queue",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ],
          "thinkInterval": 0.03,
          "onThinkInterval": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_ElementalBurst_BulletTrigger_Queue",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 6,
              "minValue": 0
            }
          ]
        },
        "TriggerBullet_1": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027003, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_2": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027004, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_3": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027008, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_4": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027009, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit4",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_5": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027010, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit5",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "TriggerBullet_6": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027011, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit6",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  //释放充能技时，小技能创生物的子弹发射器
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ElementalBurst_ServantStoneTrigger",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Ningguang_GemStone_Impact"
        },
        {
          "$type": "AttachModifier",
          "target": "Self",
          "modifierName": "Bullet_Trigger_Timer"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ABILITY_ElementalBurst_BulletTrigger_Queue",
          "valueSteps": [0.5, 1.5, 2.5, 3.5, 4.5, 5.5, 6.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "TriggerBullet_1",
            "TriggerBullet_2",
            "TriggerBullet_3",
            "TriggerBullet_4",
            "TriggerBullet_5",
            "TriggerBullet_6"
          ]
        }
      ],
      "modifiers": {
        "Bullet_Trigger_Timer": {
          "duration": 2,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "ALESystem"
            }
          ]
        },
        //Auto Lock Enemy System
        "ALESystem": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_ElementalBurst_BulletTrigger_Queue",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
          ],
          "thinkInterval": 0.08,
          "onThinkInterval": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_ElementalBurst_BulletTrigger_Queue",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 6,
              "minValue": 0
            }
          ]
        },
        "TriggerBullet_1": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR15",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027003, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        "TriggerBullet_2": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR15",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027004, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        "TriggerBullet_3": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR15",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027008, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        "TriggerBullet_4": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR15",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027009, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit4",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        "TriggerBullet_5": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR15",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027010, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit5",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        },
        "TriggerBullet_6": {
          "onAdded": [
            {
              "$type": "SetSelfAttackTarget",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR15",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027011, //41027003
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit6",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByHasAttackTarget"
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  //充能技子弹伤害
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_ElementalBurst_Bullet_Damage",
      "onAdded": [],
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "doOffStage": true,
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "duration": 0.0,
              "triggerType": "TriggerNoRepeat",
              "radius": 0.5,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackTag": "Elemental_Burst",
              "attenuationTag": "Elemental_Burst",
              "attackProperty": {
                "damagePercentage": "%ElementalBurst_Bullet_Damage",
                "elementType": "Rock",
                "strikeType": "Blunt",
                "elementDurability": 50,
                "elementRank": 1.5,
                "enBreak": 30
              },
              "hitPattern": {
                "hitImpulseType": "LV5",
                "retreatType": "ByOriginOwner",
                "canBeDefenceHalt": true,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.0,
                "muteHitText": false
              },
              "forceCameraShake": false
            }
          }
        }
      ],
      "modifiers": {},
      "abilitySpecials": {
        "ElementalBurst_Bullet_Damage": 1
      }
    }
  },

  //充能技子弹命中表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ElementalBurst_Bullet_Hit_Fx_1",
      "onAbilityStart": [
        {
          "$type": "FireHitEffect",
          "hitEntity": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Hit_Orange",
          "hitScene": {
            "defaultEffect": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Hit_Orange"
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ElementalBurst_Bullet_Hit_Fx_2",
      "onAbilityStart": [
        {
          "$type": "FireHitEffect",
          "hitEntity": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Hit_Red",
          "hitScene": {
            "defaultEffect": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Hit_Red"
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ElementalBurst_Bullet_Hit_Fx_3",
      "onAbilityStart": [
        {
          "$type": "FireHitEffect",
          "hitEntity": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Hit_Yellow",
          "hitScene": {
            "defaultEffect": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Hit_Yellow"
          }
        }
      ]
    }
  },

  //子弹1表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ElementalBurst_Bullet_1_Material",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Orange"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "SetVisble",
          "target": "Self"
        },
        {
          "$type": "SetRandomOverrideMapValue",
          "overrideMapKey": "RandomTimeRatio",
          "valueRangeMin": 0.3,
          "valueRangeMax": 0.6
        },
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "RandomSpeed",
        // 	"target": "Self",
        // },
        {
          "$type": "ApplyModifier",
          "modifierName": "Timer"
        }
      ],
      "modifiers": {
        "SetVisble": {
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "TriggerSetVisible",
              "visible": false
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerSetVisible",
              "visible": true
            }
          ]
        },
        "RandomSpeed": {
          "properties": {
            "Animator_OverallSpeedRatioMultiplied": "%RandomSpeedRatio"
          }
        },
        "Timer": {
          "duration": "%RandomTimeRatio",
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "AngularVelocityUp"
            }
          ]
        },
        "AngularVelocityUp": {
          "properties": {
            "Actor_BulletMoveAngularVelocityRatio": "%VelocityRatio"
          }
        }
      },
      "abilitySpecials": {
        "RandomSpeedRatio": 0,
        "RandomTimeRatio": 0,
        "VelocityRatio": 19
      }
    }
  },
  //子弹2表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ElementalBurst_Bullet_2_Material",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Red"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "SetVisble",
          "target": "Self"
        },
        {
          "$type": "SetRandomOverrideMapValue",
          "overrideMapKey": "RandomTimeRatio",
          "valueRangeMin": 0.3,
          "valueRangeMax": 0.6
        },
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "RandomSpeed",
        // 	"target": "Self",
        // },
        {
          "$type": "ApplyModifier",
          "modifierName": "Timer"
        }
      ],
      "modifiers": {
        "SetVisble": {
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "TriggerSetVisible",
              "visible": false
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerSetVisible",
              "visible": true
            }
          ]
        },
        "RandomSpeed": {
          "properties": {
            "Animator_OverallSpeedRatioMultiplied": "%RandomSpeedRatio"
          }
        },
        "Timer": {
          "duration": "%RandomTimeRatio",
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "AngularVelocityUp"
            }
          ]
        },
        "AngularVelocityUp": {
          "properties": {
            "Actor_BulletMoveAngularVelocityRatio": "%VelocityRatio"
          }
        }
      },
      "abilitySpecials": {
        "RandomSpeedRatio": 0,
        "RandomTimeRatio": 0,
        "VelocityRatio": 19
      }
    }
  },
  //子弹3表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ElementalBurst_Bullet_3_Material",
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Ningguang_Elemental_Burst_Bullet_Trail_Yellow"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "SetVisble",
          "target": "Self"
        },
        {
          "$type": "SetRandomOverrideMapValue",
          "overrideMapKey": "RandomTimeRatio",
          "valueRangeMin": 0.3,
          "valueRangeMax": 0.6
        },
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "RandomSpeed",
        // 	"target": "Self",
        // },
        {
          "$type": "ApplyModifier",
          "modifierName": "Timer"
        }
      ],
      "modifiers": {
        "SetVisble": {
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "TriggerSetVisible",
              "visible": false
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerSetVisible",
              "visible": true
            }
          ]
        },
        "RandomSpeed": {
          "properties": {
            "Animator_OverallSpeedRatioMultiplied": "%RandomSpeedRatio"
          }
        },
        "Timer": {
          "duration": "%RandomTimeRatio",
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "AngularVelocityUp"
            }
          ]
        },
        "AngularVelocityUp": {
          "properties": {
            "Actor_BulletMoveAngularVelocityRatio": "%VelocityRatio"
          }
        }
      },
      "abilitySpecials": {
        "RandomSpeedRatio": 0,
        "RandomTimeRatio": 0,
        "VelocityRatio": 19
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  以下为凝光天赋新增逻辑
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Constellation_2",
      "onAdded": [],
      "onKill": [
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Modify_ElementalArt_CD",
          "target": "Owner",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_Constellation_2"
            }
            // {
            // 	"$type":"ByNot",
            // 	"predicates":
            // 	[
            // 		{
            // 			"$type":"BySkillReady",
            // 			"skillID":10272,
            // 		},
            // 	],
            // }
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Modify_ElementalArt_CD": {
          "duration": 6,
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              "$type": "ModifyAvatarSkillCD",
              "skillID": 10272,
              "cdRatio": -1,
              "doOffStage": true,
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "Ningguang_Constellation_2"
                }
                // {
                //     "$type": "ByTargetGlobalValue",
                //     "key": "_ABILITY_Ningguang_SkillCD_Protect",
                //     "value": 0,
                //     "compareType": "NoneOrEqual",
                // },
              ]
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Constellation_4",
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Open", "BornToOpen"],
          "modifierName": "ServantStone_Shield_ElementDefenceUp_Handler",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_Constellation_4"
            }
          ]
        }
      ],
      "modifiers": {
        "ServantStone_Shield_ElementDefenceUp_Handler": {
          "thinkInterval": 0.25,
          "onThinkInterval": [
            {
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_ServantStone_Shield_ElementDefenceUp",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR10",
                "centerBasedOn": "Self",
                "campTargetType": "Alliance",
                "campBasedOn": "Self"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "UNIQUE_ServantStone_Shield_ElementDefenceUp": {
          "isUnique": true,
          "duration": 0.5,
          "stacking": "Refresh",
          "isLimitedProperties": true,
          // "onAdded":
          // [
          // 	{
          // 		"$type":"AttachEffect",
          // 		"effectPattern":"Eff_Avatar_Properties_Defense_Up",
          // 	},
          // ],
          "properties": {
            "Actor_FireSubHurtDelta": 0.1,
            "Actor_ElecSubHurtDelta": 0.1,
            "Actor_WaterSubHurtDelta": 0.1,
            "Actor_GrassSubHurtDelta": 0.1,
            "Actor_WindSubHurtDelta": 0.1,
            "Actor_IceSubHurtDelta": 0.1,
            "Actor_RockSubHurtDelta": 0.1
          },
          "modifierMixins": []
        }
      },
      "abilitySpecials": {}
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_ReviveElemEnergy",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "ServantStone_ElemEnergy_Handler"
        }
      ],
      "modifiers": {
        //小技能打怪掉球要有内置CD
        "ServantStone_ElemEnergy_Handler": {
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ServantStone_ElemEnergy_CD",
                  "value": 0,
                  "target": "Owner",
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Elemental_Art"]
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "GenerateElemBall",
                  "configID": 2023,
                  "baseEnergy": 9,
                  "ratio": 1,
                  "born": {
                    "$type": "ConfigBornByTarget",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 0.0
                    }
                  }
                },
                {
                  "$type": "Randomed",
                  "chance": 0.33,
                  "successActions": [
                    {
                      "$type": "GenerateElemBall",
                      "configID": 2023,
                      "baseEnergy": 3,
                      "ratio": 1,
                      "born": {
                        "$type": "ConfigBornByTarget",
                        "offset": {
                          "x": 0.0,
                          "y": 0.0,
                          "z": 0.0
                        }
                      }
                    }
                  ]
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "ServantStone_ElemEnergy_CD",
                  "target": "Owner"
                }
              ]
            }
          ]
        },
        "ServantStone_ElemEnergy_CD": {
          "duration": 6,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ServantStone_ElemEnergy_CD",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_ServantStone_ElemEnergy_CD",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Constellation_6",
      "isDynamicAbility": true,
      "onAdded": [
        // {
        // 	"$type":"ApplyModifier",
        // 	"modifierName":"Ningguang_ElementalBurst_Attack_Up",
        // 	"doOffStage":true,
        // },
      ],
      "abilityMixins": [
        // {
        // 	"$type": "DoActionByEnergyChangeMixin",
        // 	"type": "Both",
        // 	"elementTypes":[ "Fire" , "Water" , "Grass" , "Electric" , "Ice" , "Rock" , "Wind"],
        // 	"doWhenEnergyMax":true,
        // 	"onGainEnergyByAll":
        // 	[
        // 		{
        // 			"$type":"Randomed",
        // 			"change":0.2,
        // 			"successActions":
        // 			[
        // 				{//天赋测试
        // 					"$type": "CreateGadget",
        // 					"gadgetID": 41027013,
        // 					"campID": 1001,
        // 					"campTargetType": "Enemy",
        // 					"born":
        // 					{
        // 						"$type": "ConfigBornByTarget",
        // 						"offset" :
        // 						{
        // 							"x": 0.0,
        // 							"y": -1.0,
        // 							"z": 0.0,
        // 						},
        // 					},
        // 				},
        // 			],
        // 		},
        // 	],
        // },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["GemStone_Impact"],
          "modifierName": "Ningguang_Constellation_6_Handler"
        }
      ],
      "onKill": [
        {
          "$type": "KillGadget",
          "gadgetInfo": {
            "$type": "SelectTargetsByChildren",
            "configID": 41027013,
            "sortType": "Default"
          },
          "doOffStage": true
        }
      ],
      "modifiers": {
        "Ningguang_Constellation_6_Handler": {
          "onRemoved": [
            {
              //天赋测试
              "$type": "CreateGadget",
              "gadgetID": 41027013,
              "campID": 1001,
              "campTargetType": "Enemy",
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": -1.0,
                  "z": 0.0
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {
        "Constellation_6_DamagePercentageRatio": 0
      }
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_PermanentSkill_2",
      "abilityMixins": [],
      "onFieldEnter": [
        {
          "$type": "DebugLog",
          "doOffStage": true,
          "content": "Skill log must be looooooooooooooooooooooooooooooooooooooooooong"
        },
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Ningguang_PermanentSkill_2_AttackUp",
          "target": "Target",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_PermanentSkill_2"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Ningguang_PermanentSkill_2_AttackUp",
          "target": "Target",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_PermanentSkill_2"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Ningguang_PermanentSkill_2_FireEffect",
          "target": "Target",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_PermanentSkill_2"
            }
          ]
        },
        {
          "$type": "SendEffectTrigger",
          "effectPattern": "Eff_Ningguang_ElementArt_ServantStone_Open",
          "target": "Self",
          "parameter": "Material",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_PermanentSkill_2"
            }
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Ningguang_PermanentSkill_2_AttackUp": {
          "duration": "%Duration",
          "isUnique": true,
          "state": "AttackUp",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_Up_Body"
            }
          ],
          "isLimitedProperties": true,
          "properties": {
            "Actor_RockAddHurtDelta": "%PermanentSkill_RockAddHurtDelta"
          }
        },
        "Ningguang_PermanentSkill_2_FireEffect": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Ningguang_Up_Door"
            }
          ]
        }
      },
      "abilitySpecials": {
        "PermanentSkill_RockAddHurtDelta": 0.12,
        "Duration": 10
      }
    }
  },

  //命之座6子弹发射器  有更简单直接的逻辑实现这个功能，但是为了拓展性，就还是用这套。
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Constellation_Attack_Up_BulletTrigger",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Ningguang_ElementalBurst_Bullet_FreeExtraAttack",
          "target": "OriginOwner",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_PermanentSkill_FreeExtraAttack"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "Bullet_1_Fx"
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "Bullet_2_Fx"
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "Bullet_3_Fx"
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "Bullet_4_Fx"
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "Bullet_5_Fx"
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "Bullet_6_Fx"
        },
        {
          "$type": "ApplyModifier",
          "target": "Self",
          "modifierName": "Bullet_7_Fx"
        }
      ],
      "onKill": [
        {
          "$type": "RemoveModifier",
          "modifierName": "Ningguang_ElementalBurst_Bullet_FreeExtraAttack",
          "target": "OriginOwner",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "Ningguang_PermanentSkill_FreeExtraAttack"
            }
          ]
        }
      ],
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR15",
            "centerBasedOn": "Self",
            "campTargetType": "All",
            "campBasedOn": "Self"
          },
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Monster", "Gadget"]
            }
          ],
          "successActions": [
            {
              "$type": "SetAnimatorTrigger",
              "target": "Self",
              "triggerID": "Attack"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Attack_Timer"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Bullet_1_Fx"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Bullet_2_Fx"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Bullet_3_Fx"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Bullet_4_Fx"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Bullet_5_Fx"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Bullet_6_Fx"
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Bullet_7_Fx"
        },
        //进入攻击状态时的遮盖特效
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit1",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit2",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit3",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit4",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit5",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit6",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Disappear",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "Ponit7",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "$type": "KillSelf",
          "duration": 0.5
        }
      ],
      "modifiers": {
        "Ningguang_ElementalBurst_Bullet_FreeExtraAttack": {
          "duration": 21,
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_FreeExtraAttack",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Ningguang_FreeExtraAttack",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true
            }
          ]
        },
        "Attack_Timer": {
          "duration": 0.05,
          "onRemoved": [
            //第一发子弹
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027014,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            },
            //第二发子弹
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027015,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            },
            //第三发子弹
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027014,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            },
            //第四发子弹
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027016,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit4",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            },
            //第五发子弹
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027015,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit5",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            },
            //第六发子弹
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027014,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit6",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            },

            //第七发子弹
            {
              "$type": "SetSelfAttackTarget",
              "turnToTargetImmediately": true,
              "turnToTargetKeepUpAxisDirection": true,
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "SectorR15D90",
                "centerBasedOn": "Self",
                "campTargetType": "Enemy",
                "campBasedOn": "Self",
                "topLimit": 1,
                "entityTypePriority": ["Monster", "Gadget"],
                "sortType": "Random"
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster", "Gadget"]
                }
              ]
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 41027016,
              "propOwnerIs": "OriginOwner",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit7",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "Bullet_1_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Orange_1",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit1",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "Bullet_2_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Red_1",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit2",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "Bullet_3_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Orange_2",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit3",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "Bullet_4_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Yellow_1",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit4",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "Bullet_5_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Red_2",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit5",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "Bullet_6_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Orange_3",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit6",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        },
        "Bullet_7_Fx": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Yellow_2",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Ponit7",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                }
              }
            }
          ]
        }
      },
      "abilitySpecials": {}
    }
  },

  //命之座子弹1表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Constellation_Bullet_1_Material",
      "abilityMixins": [
        // {
        // 	"$type":"ModifyDamageMixin",
        // 	"attackTags":["Elemental_Burst"],
        // 	"damagePercentageRatio":-0.4,
        // },
      ],
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Orange_Trail"
        },
        {
          "$type": "SetRandomOverrideMapValue",
          "overrideMapKey": "RandomTimeRatio",
          "valueRangeMin": 0.2,
          "valueRangeMax": 0.5
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Timer"
        }
      ],
      "onAbilityStart": [],
      "modifiers": {
        "Timer": {
          "duration": "%RandomTimeRatio",
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "AngularVelocityUp"
            }
          ]
        },
        "AngularVelocityUp": {
          "properties": {
            "Actor_BulletMoveAngularVelocityRatio": "%VelocityRatio"
          }
        }
      },
      "abilitySpecials": {
        "RandomTimeRatio": 0,
        "VelocityRatio": 29
      }
    }
  },
  //命之座子弹2表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Constellation_Bullet_2_Material",
      "abilityMixins": [
        // {
        // 	"$type":"ModifyDamageMixin",
        // 	"attackTags":["Elemental_Burst"],
        // 	"damagePercentageRatio":-0.4,
        // },
      ],
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Red_Trail"
        },
        {
          "$type": "SetRandomOverrideMapValue",
          "overrideMapKey": "RandomTimeRatio",
          "valueRangeMin": 0.2,
          "valueRangeMax": 0.5
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Timer"
        }
      ],
      "onAbilityStart": [],
      "modifiers": {
        "Timer": {
          "duration": "%RandomTimeRatio",
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "AngularVelocityUp"
            }
          ]
        },
        "AngularVelocityUp": {
          "properties": {
            "Actor_BulletMoveAngularVelocityRatio": "%VelocityRatio"
          }
        }
      },
      "abilitySpecials": {
        "RandomTimeRatio": 0,
        "VelocityRatio": 29
      }
    }
  },
  //命之座子弹3表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Constellation_Bullet_3_Material",
      "abilityMixins": [
        // {
        // 	"$type":"ModifyDamageMixin",
        // 	"attackTags":["Elemental_Burst"],
        // 	"damagePercentageRatio":-0.4,
        // },
      ],
      "onAdded": [
        {
          "$type": "AttachEffect",
          "effectPattern": "Eff_Ningguang_ElementalBurst_Attack_Up_Funnel_Yellow_Trail"
        },
        {
          "$type": "SetRandomOverrideMapValue",
          "overrideMapKey": "RandomTimeRatio",
          "valueRangeMin": 0.2,
          "valueRangeMax": 0.5
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Timer"
        }
      ],
      "onAbilityStart": [],
      "modifiers": {
        "Timer": {
          "duration": "%RandomTimeRatio",
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "AngularVelocityUp"
            }
          ]
        },
        "AngularVelocityUp": {
          "properties": {
            "Actor_BulletMoveAngularVelocityRatio": "%VelocityRatio"
          }
        }
      },
      "abilitySpecials": {
        "RandomTimeRatio": 0,
        "VelocityRatio": 29
      }
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_SkillUpgrade_3",
      "isDynamicAbility": true,
      "onAdded": [],
      "abilityMixins": [
        {
          "$type": "ModifyDamageMixin",
          "attackTags": ["Elemental_Burst"],
          "damagePercentage": "%SkillUpgrade_3_DamagePercentage"
        }
      ],
      "modifiers": {},
      "abilitySpecials": {
        "SkillUpgrade_3_DamagePercentage": 0
      }
    }
  },

  //充能技子弹伤害
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_GemBullet_Damage",
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "doOffStage": true,
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "duration": 0.0,
              "triggerType": "TriggerNoRepeat",
              "radius": 0.5,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackTag": "ExtraAttack",
              "attenuationTag": "ExtraAttack",
              "attackProperty": {
                "damagePercentage": "%GemBullet_Damage",
                "elementType": "Rock",
                "strikeType": "Blunt",
                "elementDurability": 50,
                "elementRank": 1.5,
                "enBreak": 30
              },
              "hitPattern": {
                "hitImpulseType": "LV5",
                "retreatType": "ByOriginOwner",
                "canBeDefenceHalt": true,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.0,
                "muteHitText": false
              },
              "forceCameraShake": false
            }
          }
        }
      ],
      "modifiers": {},
      "abilitySpecials": {
        "GemBullet_Damage": 0
      }
    }
  },

  ////////////////////////////////////////////////////////////////
  //
  //  空中攻击
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_FallingAnthem",
      "abilityMixins": [
        {
          "$type": "AvatarChangeSkillMixin",
          "priority": "AvatarCommon",
          "jumpSkillID": 5027010,
          "flySkillID": 5027010
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "FallingAnthem_BS_Material"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS_2",
            "FallingAnthem_Loop",
            "FallingAnthem_Loop_Low"
          ],
          "modifierName": "FallingAnthem_LoopDamage"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "FallingAnthem_BS_VelocityForce_Initialize"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_Height_Detect"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_FallingDamageImmune_01"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS", "FallingAnthem_Loop"],
          "modifierName": "Inertia"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_OverHead_Camera"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "FallingAnthem_ClearVelocityForce"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS_2",
            "FallingAnthem_Loop",
            "FallingAnthem_Loop_Low",
            "FallingAnthem_AS_1"
          ],
          "modifierName": "FallingAnthem_Attach_SelfEffect"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": ["FallingAnthem_AS_1"],
          "modifierName": "FallingAnthem_Remove_SelfEffect"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": ["FallingAnthem_BS_2", "FallingAnthem_Loop"],
          "modifierName": "FallingAnthem_SetVisible"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1"
          ],
          "modifierName": "HideWeapon"
        }
      ],
      "onAbilityStart": [
        //普通状态第一段
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackCircle",
              "triggerType": "TriggerNoRepeat",
              "scale": 1.0,
              "height": 2.0,
              "centerYOffset": 0.0,
              "offsetZ": 0.0,
              "fanAngle": 360.0,
              "radius": 3.0,
              "followRootNodeY": false,
              "followTransformY": false,
              "offsetAngle": 0.0,
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": -0.5,
                  "z": 0.0
                }
              }
            },
            "attackInfo": {
              "attackTag": "FallingAttack",
              "attackProperty": {
                "damagePercentage": "%FallingAnthem_Normal_Rank_1_Damage",
                "strikeType": "Default",
                "elementType": "Rock",
                "elementDurability": 25,
                "enBreak": 50
              },
              "hitPattern": {
                "onHitEffectName": "none",
                "hitImpulseType": "LV3",
                "retreatType": "ByAttacker",
                "reboundRatio": 0,
                "canBeDefenceHalt": false,
                "hitHaltTime": 0,
                "hitHaltTimeScale": 0.1,
                "muteHitText": false
              },
              "forceCameraShake": true,
              /*				        	"cameraShake":
				        	{
				        		"shakeType": "CustomVector",
								"shakeRange": 0.3,
								"shakeTime": 0.12,
								"shakeDistance": 30,
								"shakeDir":
								{
									"x": 0,
									"y": 1,
									"z": 0,
								},
				        	},*/
              "cameraShake": {
                "shakeType": "CustomVector",
                "shakeRange": 0.24,
                "shakeTime": 0.12,
                "shakeDistance": 30,
                "shakeDir": {
                  "x": 0,
                  "y": 1,
                  "z": 0
                },
                "extension": {
                  "baseCycle": 0.24,
                  "cycleDamping": 0,
                  "rangeAttenuation": 0.3
                }
              }
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        },
        //普通状态第二段
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackCircle",
              "triggerType": "TriggerNoRepeat",
              "scale": 1.0,
              "height": 2.0,
              "centerYOffset": 0.0,
              "offsetZ": 0.0,
              "fanAngle": 360.0,
              "radius": 3.5,
              "followRootNodeY": false,
              "followTransformY": false,
              "offsetAngle": 0.0,
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": -0.5,
                  "z": 0.0
                }
              }
            },
            "attackInfo": {
              "attackTag": "FallingAttack",
              "attackProperty": {
                "damagePercentage": "%FallingAnthem_Normal_Rank_2_Damage",
                "strikeType": "Default",
                "elementType": "Rock",
                "elementDurability": 25,
                "enBreak": 100
              },
              "hitPattern": {
                "onHitEffectName": "none",
                "hitImpulseType": "LV4",
                "retreatType": "ByAttacker",
                "reboundRatio": 0,
                "canBeDefenceHalt": false,
                "hitHaltTime": 0,
                "hitHaltTimeScale": 0.1,
                "muteHitText": false
              },
              "forceCameraShake": true,
              "cameraShake": {
                "shakeType": "CustomVector",
                "shakeRange": 0.5,
                "shakeTime": 0.2,
                "shakeDistance": 30,
                "shakeDir": {
                  "x": 0,
                  "y": 1,
                  "z": 1
                },
                "extension": {
                  "baseCycle": 0.4,
                  "cycleDamping": 0,
                  "rangeAttenuation": 0.3
                }
              }
            }
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 1,
              "compareType": "Equal"
            }
          ]
        },
        //普通状态第一段
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Catalyst_FallAnthem_Strike_01_Rock",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        },
        //普通状态第二段
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Avatar_Catalyst_FallAnthem_Strike_02_Rock",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "forceByCaster": true,
              "value": 1,
              "compareType": "Equal"
            }
          ]
        }
      ],
      "modifiers": {
        "HideWeapon": {
          "onAdded": [
            {
              "$type": "TriggerHideWeapon",
              "visible": false,
              "partNames": ["equip01", "equip02", "sheathPoint"]
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerHideWeapon",
              "visible": true,
              "partNames": ["equip01", "equip02", "sheathPoint"]
            }
          ]
        },
        "FallingAnthem_SetVisible": {
          "onAdded": [
            {
              "$type": "TriggerSetVisible",
              "visible": false,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerSetVisible",
              "visible": true,
              "doOffStage": true
            }
          ]
        },
        "FallingAnthem_BS_Material": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Catalyst_FallAnthem_BS_Rock"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "FallingAnthem_BSCameraRadialBlur"
            }
          ]
        },
        "FallingAnthem_BS_VelocityForce_Initialize": {
          "properties": {
            "Actor_AddGravityScale": -2
          },
          "onAdded": [
            {
              "$type": "RemoveVelocityForce",
              "forces": ["RushMoveType"]
            }
          ]
        },
        "FallingAnthem_LoopDamage": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 1.5,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 0.0
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "FallingAttack",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Loop_Damage",
                    "strikeType": "Default",
                    "elementType": "Rock",
                    "elementDurability": 0,
                    "enBreak": 5
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_01": {
          "onAdded": [
            {
              "$type": "ClearGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv0",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv0",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv0",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv0",
                  "logic": "LesserOrEqual"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv1",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv1",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv1",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv1",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv0",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv2",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv2",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv2",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv2",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv1",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv3",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv3",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv3",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv3",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv2",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv4",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv4",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv4",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv3",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================

            {
              "$type": "AttachModifier",
              "modifierName": "FallingAnthem_FallingDamageImmune_02"
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_02": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_FallingAttack_Altitude",
              "overrideMapKey": "FallingAnthem_FallingDamageRatio"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "FallingAnthem_FallingDamageImmune_03"
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_03": {
          "properties": {
            "Actor_FallingDamageRatio": "%FallingAnthem_FallingDamageRatio"
          }
        },
        //水平惯性继承
        "Inertia": {
          "modifierMixins": [
            {
              "$type": "ApplyInertiaVelocityMixin",
              "damping": 0,
              "useXZ": false,
              "useY": false
            }
          ]
        },
        "FallingAnthem_Height_Detect": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "LesserOrEqual"
                }
              ]
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 5,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "Greater"
                }
              ]
            },
            /*						{
							"$type": "DebugLog",
							"content": "FallingAnthem Height Set True!",
							"predicates":
							[
								{
									"$type": "ByTargetAltitude",
									"value": 3.0,
									"logic": "Greater",
								},
							],
						},*/
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "LesserOrEqual"
                }
              ]
            },
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 1,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "Greater"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
            /*						{
							"$type": "DebugLog",
							"content": "FallingAnthem Height Reset!",
						},*/
          ]
        },
        "FallingAnthem_OverHead_Camera": {
          "onAdded": [
            {
              "$type": "AvatarCameraParam",
              "lockParam": false,
              "cameraParam": {
                "forceRadius": 4.5,
                "forceRadiusDuration": 0.2,
                "shouldKeepForceRadius": true
              },
              "predicates": [
                {
                  "$type": "ByAnimatorFloat",
                  "parameter": "FallingAnthem_UseCamera",
                  "value": 1,
                  "logic": "Equal"
                }
              ]
            }
          ]
        },
        "FallingAnthem_OverHead_Camera_Remover": {
          "onAdded": [
            {
              "doOffStage": true,
              "$type": "AvatarExitCameraShot"
            }
          ]
        },
        "FallingAnthem_Landed_Camera": {
          "onAdded": [
            {
              "$type": "AvatarCameraParam",
              "lockParam": false,
              "cameraParam": {
                "forceRadius": 6.0,
                "forceRadiusDuration": 0.1,
                "shouldKeepForceRadius": true
              },
              "predicates": [
                {
                  "$type": "ByAnimatorFloat",
                  "parameter": "FallingAnthem_UseCamera",
                  "value": 1,
                  "logic": "Equal"
                }
              ]
            }
          ]
        },
        "FallingAnthem_ClearVelocityForce": {
          "onAdded": [
            {
              "$type": "RemoveVelocityForce",
              "forces": ["RushMoveType", "InertiaType"]
            }
          ]
          /*					"onRemoved":
					[
						{
							"$type": "RemoveVelocityForce",
							"forces": ["RushMoveType"],
						},
					],*/
        },
        "FallingAnthem_Attach_SelfEffect": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Catalyst_FallAnthem_Self_Rock"
            }
          ]
        },
        "FallingAnthem_Remove_SelfEffect": {
          "duration": 0.1,
          "onRemoved": [
            {
              "$type": "RemoveModifier",
              "modifierName": "FallingAnthem_Attach_SelfEffect"
            }
          ]
        },
        "FallingAnthem_BSCameraRadialBlur": {
          "duration": 0.3,
          "modifierMixins": [
            {
              "$type": "CameraBlurMixin",
              "cameraRadialBlur": {
                "power": 0.3,
                "fadeTime": 0.15
              }
            }
          ]
        }
      },
      "abilitySpecials": {
        "FallingAnthem_Normal_Loop_Damage": 0,
        "FallingAnthem_Normal_Rank_1_Damage": 0,
        "FallingAnthem_Normal_Rank_2_Damage": 0,

        "FallingAnthem_Altitude_Lv0": 20,
        "FallingAnthem_Altitude_Lv1": 40,
        "FallingAnthem_Altitude_Lv2": 60,
        "FallingAnthem_Altitude_Lv3": 100,
        "FallingAnthem_Altitude_Lv4": 200,

        "FallingAnthem_FallingDamageRatio_Lv0": -1,
        "FallingAnthem_FallingDamageRatio_Lv1": -1,
        "FallingAnthem_FallingDamageRatio_Lv2": -0.9,
        "FallingAnthem_FallingDamageRatio_Lv3": -0.8,
        "FallingAnthem_FallingDamageRatio_Lv4": -0.6,

        "FallingAnthem_FallingDamageRatio": 0
      }
    }
  },

  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Ningguang_Radar_Ore",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Radar_Toggle"
        }
      ],
      "modifiers": {
        "Radar_Toggle": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Radar_Ore",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Radar_Ore",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0,
              "doOffStage": true
            }
          ]
        }
      }
    }
  }
]
