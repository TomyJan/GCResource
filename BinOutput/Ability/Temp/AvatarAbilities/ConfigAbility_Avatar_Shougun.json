[
  ////////////////////////////////////////////////////////////////
  //
  //  Avatar_Shougun_ExtraAttack
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Shougun_ExtraAttack",
      "abilityMixins": [
        {
          "$type": "ButtonHoldChargeMixin",
          "skillID": 10521,
          "chargeTime": 0.12,
          "secondChargeTime": 0.2,
          "OnBeginUncharged": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "DoSkill"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 99,
              "predicates": [
                {
                  "$type": "ByAny",
                  "predicates": [
                    {
                      "$type": "ByAnimatorInt",
                      "value": 0,
                      "parameter": "ComboCount",
                      "logic": "Equal"
                    },
                    {
                      "$type": "ByAnimatorInt",
                      "value": 5,
                      "parameter": "ComboCount",
                      "logic": "Equal"
                    }
                  ]
                }
              ]
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "IsCharging",
              "value": false
            }
          ],
          "OnReleaseUncharged": [
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1
            }
          ],
          "OnBeginCharged": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "IsCharging",
              "value": true
            }
          ],
          "OnReleaseCharged": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "IsCharging",
              "value": false
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkillID",
              "value": 1
            }
          ],
          "OnBeginSecondCharged": [
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "DoSkill",
                  "predicates": [
                    {
                      "$type": "ByLocalAvatarStamina",
                      "stamina": "%ExtraAttack_Katana_Stamina_Cost+%Flexible_Stamina",
                      "logic": "GreaterOrEqual"
                    }
                  ]
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkillID",
                  "value": 6,
                  "predicates": [
                    {
                      "$type": "ByLocalAvatarStamina",
                      "stamina": "%ExtraAttack_Katana_Stamina_Cost+%Flexible_Stamina",
                      "logic": "GreaterOrEqual"
                    }
                  ]
                }
              ],
              "failActions": [
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "DoSkill",
                  "predicates": [
                    {
                      "$type": "ByLocalAvatarStamina",
                      "stamina": "%ExtraAttack_Pole_Stamina_Cost+%Flexible_Stamina",
                      "logic": "GreaterOrEqual"
                    }
                  ]
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkillID",
                  "value": 6,
                  "predicates": [
                    {
                      "$type": "ByLocalAvatarStamina",
                      "stamina": "%ExtraAttack_Pole_Stamina_Cost+%Flexible_Stamina",
                      "logic": "GreaterOrEqual"
                    }
                  ]
                }
              ]
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "IsCharging",
              "value": false
            }
          ],
          "OnReleaseSecondCharged": [],
          "chargeStateIDs": [
            "Attack01",
            "Attack02",
            "Attack03",
            "Attack04",
            "Attack05",
            "Attack05",
            "Run"
          ]
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["ExtraAttack"],
          "modifierName": "ExtraAttack_Pole_StaminaCost"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Katana_ExtraAttack"],
          "modifierName": "ExtraAttack_Katana_StaminaCost"
        }
      ],
      "modifiers": {
        "ExtraAttack_Pole_StaminaCost": {
          // "duration": 0.2,
          "onAdded": [
            {
              "$type": "AvatarSkillStart",
              "skillID": 10002,
              "costStaminaRatio": "%ExtraAttack_Pole_Stamina_Cost"
            }
          ]
        },
        "ExtraAttack_Katana_StaminaCost": {
          // "duration": 0.2,
          "onAdded": [
            {
              "$type": "AvatarSkillStart",
              "skillID": 10001,
              "costStaminaRatio": "%ExtraAttack_Katana_Stamina_Cost"
            }
          ]
        }
      },
      "abilitySpecials": {
        //故意少判了一点点体力，为了顾及一部分网络延迟
        "ExtraAttack_Pole_Stamina_Cost": 0,
        "ExtraAttack_Katana_Stamina_Cost": 0,
        "Flexible_Stamina": -2
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Elemental_Art
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Shougun_ElementalArt",
      "onAbilityStart": [
        {
          "$type": "AvatarSkillStart",
          "skillID": 10522
        },
        {
          "$type": "FireEffect", //身上的特效
          "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_ElementalArt_Charge"
        },
        {
          "$type": "CreateGadget", //睁眼爆炸有延迟，thinkintercal时间不准，用globalvalue的话连续放会乱，所以用gadget
          "gadgetID": 41052001,
          "campID": 1001,
          "campTargetType": "Enemy",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 3.0
            }
            // "onGround": true,
            // "alongGround": false,
            // "onGroundIgnoreWater": true,
            // "onGroundRaycastUpDist": 3,
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "SkillObj_Shougun_ElementalArt_EyeBoom",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "SkillObj_Shougun_ElementalArt_EyeBoom"
        }
      ],
      "modifiers": {
        "SkillObj_Shougun_ElementalArt_EyeBoom": {
          "duration": 1.0,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "FireEffect", //睁眼特效
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_ElementalArt_EyeFX"
            }
          ],
          "thinkInterval": 0.7,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent", //小技能睁眼伤害
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "detectDirection": "CenterToSide",
                  "radius": "%ElementalArt_Attack_Radius",
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.8,
                      "z": 0.0
                    }
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackTag": "Elemental_Art",
                  "attackProperty": {
                    "damagePercentage": "%ElementalArt_Attack",
                    "elementType": "Electric",
                    "elementDurability": 25,
                    "strikeType": "Default",
                    "attackType": "Melee",
                    "enBreak": 80
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "retreatType": "ByHitDirection",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "muteHitText": false
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_EyeAttack_Mark", //防止interval不准，多次触发
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_EyeAttack_Mark",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Shougun_Elf", //点亮头上的眼睛
              "target": "OriginOwner"
            },
            {
              "$type": "KillSelf"
            }
          ]
        }
      },
      "abilitySpecials": {
        "ElementalArt_Attack": 0,
        "ElementalArt_Attack_Radius": 5
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Shougun_Elf", //眼睛
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Shougun_Elf_ElementalBall_Handler"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Shougun_Elf_LocalHandler", //每次技能都重新上下眼睛效果
          "target": "AllPlayerAvatars",
          "predicates": [
            {
              "$type": "ByTargetPositionToSelfPosition",
              "compareType": "XZ",
              "value": 40,
              "logic": "LesserOrEqual"
            }
          ],
          "doOffStage": true
        },
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Shougun_Elf_RemoteHandler", //每次技能都重新上下眼睛效果
          "target": "AllPlayerAvatars",
          "predicates": [
            {
              "$type": "ByTargetPositionToSelfPosition",
              "compareType": "XZ",
              "value": 40,
              "logic": "LesserOrEqual"
            }
          ],
          "doOffStage": true
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Elf_CurTeamMark",
          "value": 1,
          "target": "CurTeamAvatars",
          "doOffStage": true
        },
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Shougun_Elf_RemoteHandler",
          "target": "AllPlayerAvatars",
          "predicates": [
            {
              "$type": "ByTargetPositionToSelfPosition",
              "compareType": "XZ",
              "value": 40,
              "logic": "LesserOrEqual"
            },
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Shougun_Elf_CurTeamMark",
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ],
          "doOffStage": true
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Elf_CurTeamMark",
          "value": 0,
          "target": "CurTeamAvatars",
          "doOffStage": true
        },
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Shougun_Elf_LocalHandler",
          "target": "CurTeamAvatars",
          "doOffStage": true
        }
      ],
      "modifiers": {
        //负责处理辅助攻击
        "UNIQUE_Shougun_Elf_LocalHandler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%Elf_Duration",
          "elementType": "None",
          "elementDurability": "%Elf_Duration",
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Appear"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf",
              "doOffStage": true
            },
            {
              "$type": "GetFightProperty",
              "fightPropSourceTarget": "Self",
              "fightProp": "FIGHT_PROP_MAX_FIRE_ENERGY", //7个元素类型取谁都一样
              "globalValueKey": "_ABILITY_Shougun_LocalAvatarEnergy",
              "doOffStage": true
            },
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_Shougun_Elf_BurstDamageHandler",
              "doOffStage": true
            }
          ],
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetPositionToSelfPosition",
                  "compareType": "XYZ",
                  "value": 50,
                  "logic": "LesserOrEqual",
                  "target": "Caster"
                }
              ],
              "successActions": [],
              "failActions": [
                {
                  "$type": "RemoveUniqueModifier",
                  "modifierName": "UNIQUE_Shougun_Elf_LocalHandler",
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Disappear"
            }
          ],
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetPositionToSelfPosition",
                  "compareType": "XYZ",
                  "value": 50,
                  "logic": "LesserOrEqual",
                  "target": "Caster"
                }
              ],
              "successActions": [],
              "failActions": [
                {
                  "$type": "RemoveUniqueModifier",
                  "modifierName": "UNIQUE_Shougun_Elf_LocalHandler",
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark", //有效击中标记，初始化
              "value": 0,
              "doOffStage": true
            },
            {
              "$type": "Predicated",
              "target": "Other",
              //要求对怪造成伤害
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByHitDamage",
                  "damage": 0,
                  "logic": "Greater"
                }
              ],
              "successActions": [
                {
                  "$type": "DebugLog",
                  "content": "!!!!!!!!!!!isMonster!!!!!!!!!!",
                  "doOffStage": true
                },
                {
                  "$type": "Predicated",
                  "target": "Caster",
                  "targetPredicates": [
                    {
                      "$type": "ByTargetIsSelf", //是不是将军打的
                      "isSelf": true
                    }
                  ],
                  "successActions": [
                    {
                      "$type": "DebugLog",
                      "content": "!!!!!!!!!!!ByTargetIsSelf!!!!!!!!!!",
                      "doOffStage": true
                    },
                    {
                      "$type": "Predicated",
                      "target": "Other",
                      "targetPredicates": [
                        {
                          "$type": "ByAttackTags",
                          "attackTags": ["Elemental_Art"]
                        },
                        {
                          "$type": "ByHitStrikeType", //过滤将军的辅助攻击触发的伤害，防止套娃
                          "strikeType": "Slash"
                        }
                      ],
                      "failActions": [
                        {
                          "$type": "DebugLog",
                          "content": "!!!!!!!!!!!NotEyeAttack!!!!!!!!!!",
                          "doOffStage": true
                        },
                        {
                          "$type": "SetGlobalValue",
                          "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark",
                          "value": 1,
                          // "predicates":
                          // [
                          // 	{
                          // 		"$type": "ByTargetGlobalValue",
                          // 		"key": "_ABILITY_Shougun_Katana_Mark",	//太刀模式不让触发？？？
                          // 		"value": 0,
                          // 		"compareType": "NoneOrEqual",
                          // 		"target": "Caster",
                          // 	},
                          // ],
                          "doOffStage": true
                        }
                      ],
                      "doOffStage": true
                    }
                  ],
                  //不是将军就随便触发
                  "failActions": [
                    {
                      "$type": "DebugLog",
                      "content": "!!!!!!!!!!!WhoAreYou!!!!!!!!!!",
                      "doOffStage": true
                    },
                    {
                      "$type": "SetGlobalValue",
                      "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark",
                      "value": 1,
                      "doOffStage": true
                    }
                  ],
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Shougun_Elf_Attack_Local", //不在CD，又确实满足触发攻击名单，就给怪上modifier
              "target": "Other",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark",
                  "value": 1,
                  "compareType": "Equal",
                  "target": "Self"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Elf_Attack_CD",
                  "value": 0,
                  "compareType": "NoneOrEqual",
                  "target": "Team"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_Shougun_Elf_Attack_CD", //然后进CD，每个队伍自己算自己的
              "target": "Team",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark",
                  "value": 1,
                  "compareType": "Equal",
                  "target": "Self"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        //负责处理辅助攻击
        "UNIQUE_Shougun_Elf_RemoteHandler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%Elf_Duration",
          "elementType": "None",
          "elementDurability": "%Elf_Duration",
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Appear"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf",
              "doOffStage": true
            },
            {
              "$type": "GetFightProperty",
              "fightPropSourceTarget": "Self",
              "fightProp": "FIGHT_PROP_MAX_FIRE_ENERGY", //7个元素类型取谁都一样
              "globalValueKey": "_ABILITY_Shougun_LocalAvatarEnergy",
              "doOffStage": true
            },
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_Shougun_Elf_BurstDamageHandler",
              "doOffStage": true
            }
          ],
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetPositionToSelfPosition",
                  "compareType": "XYZ",
                  "value": 50,
                  "logic": "LesserOrEqual",
                  "target": "Caster"
                }
              ],
              "successActions": [],
              "failActions": [
                {
                  "$type": "RemoveUniqueModifier",
                  "modifierName": "UNIQUE_Shougun_Elf_RemoteHandler",
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Disappear"
            }
          ],
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetPositionToSelfPosition",
                  "compareType": "XYZ",
                  "value": 50,
                  "logic": "LesserOrEqual",
                  "target": "Caster"
                }
              ],
              "successActions": [],
              "failActions": [
                {
                  "$type": "RemoveUniqueModifier",
                  "modifierName": "UNIQUE_Shougun_Elf_RemoteHandler",
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark", //有效击中标记，初始化
              "value": 0,
              "doOffStage": true
            },
            {
              "$type": "Predicated",
              "target": "Other",
              //要求对怪造成伤害
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByHitDamage",
                  "damage": 0,
                  "logic": "Greater"
                }
              ],
              "successActions": [
                {
                  "$type": "DebugLog",
                  "content": "!!!!!!!!!!!isMonster!!!!!!!!!!",
                  "doOffStage": true
                },
                {
                  "$type": "Predicated",
                  "target": "Caster",
                  "targetPredicates": [
                    {
                      "$type": "ByTargetIsSelf", //是不是将军打的
                      "isSelf": true
                    }
                  ],
                  "successActions": [
                    {
                      "$type": "DebugLog",
                      "content": "!!!!!!!!!!!ByTargetIsSelf!!!!!!!!!!",
                      "doOffStage": true
                    },
                    {
                      "$type": "Predicated",
                      "target": "Other",
                      "targetPredicates": [
                        {
                          "$type": "ByAttackTags",
                          "attackTags": ["Elemental_Art"]
                        },
                        {
                          "$type": "ByHitStrikeType", //过滤将军的辅助攻击触发的伤害，防止套娃
                          "strikeType": "Slash"
                        }
                      ],
                      "failActions": [
                        {
                          "$type": "DebugLog",
                          "content": "!!!!!!!!!!!NotEyeAttack!!!!!!!!!!",
                          "doOffStage": true
                        },
                        {
                          "$type": "SetGlobalValue",
                          "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark",
                          "value": 1,
                          // "predicates":
                          // [
                          // 	{
                          // 		"$type": "ByTargetGlobalValue",
                          // 		"key": "_ABILITY_Shougun_Katana_Mark",	//太刀模式不让触发？？？
                          // 		"value": 0,
                          // 		"compareType": "NoneOrEqual",
                          // 		"target": "Caster",
                          // 	},
                          // ],
                          "doOffStage": true
                        }
                      ],
                      "doOffStage": true
                    }
                  ],
                  //不是将军就随便触发
                  "failActions": [
                    {
                      "$type": "DebugLog",
                      "content": "!!!!!!!!!!!WhoAreYou!!!!!!!!!!",
                      "doOffStage": true
                    },
                    {
                      "$type": "SetGlobalValue",
                      "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark",
                      "value": 1,
                      "doOffStage": true
                    }
                  ],
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Shougun_Elf_Attack_Remote", //不在CD，又确实满足触发攻击名单，就给怪上modifier
              "target": "Other",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark",
                  "value": 1,
                  "compareType": "Equal",
                  "target": "Self"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Elf_Attack_CD",
                  "value": 0,
                  "compareType": "NoneOrEqual",
                  "target": "Team"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_Shougun_Elf_Attack_CD", //然后进CD，每个队伍自己算自己的
              "target": "Team",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Elf_Attack_AvailableMark",
                  "value": 1,
                  "compareType": "Equal",
                  "target": "Self"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_Elf_BurstDamageHandler": {
          "isUnique": true,
          "stacking": "Unique",
          // "thinkInterval": "%Elf_Duration-3",
          // "onThinkInterval":
          // [
          // 	{
          // 		"$type": "SendEffectTrigger",	//快消失的时候给个闪烁
          // 		"effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf",
          // 		"parameter": "Warning",
          // 		"doOffStage": true,
          // 	},
          // ],
          "modifierMixins": [
            {
              "$type": "ModifyDamageMixin",
              "attackTags": ["Elemental_Burst"],
              "damagePercentageRatio": "40*%Shougun_LocalAvatarEnergyToBurstDamageRatio",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 40,
                  "compareType": "LessAndEqual",
                  "target": "Self"
                }
              ]
            },
            {
              "$type": "ModifyDamageMixin",
              "attackTags": ["Elemental_Burst"],
              "damagePercentageRatio": "50*%Shougun_LocalAvatarEnergyToBurstDamageRatio",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 40,
                  "compareType": "MoreThan",
                  "target": "Self"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 50,
                  "compareType": "LessAndEqual",
                  "target": "Self"
                }
              ]
            },
            {
              "$type": "ModifyDamageMixin",
              "attackTags": ["Elemental_Burst"],
              "damagePercentageRatio": "60*%Shougun_LocalAvatarEnergyToBurstDamageRatio",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 50,
                  "compareType": "MoreThan",
                  "target": "Self"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 60,
                  "compareType": "LessAndEqual",
                  "target": "Self"
                }
              ]
            },
            {
              "$type": "ModifyDamageMixin",
              "attackTags": ["Elemental_Burst"],
              "damagePercentageRatio": "70*%Shougun_LocalAvatarEnergyToBurstDamageRatio",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 60,
                  "compareType": "MoreThan",
                  "target": "Self"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 70,
                  "compareType": "LessAndEqual",
                  "target": "Self"
                }
              ]
            },
            {
              "$type": "ModifyDamageMixin",
              "attackTags": ["Elemental_Burst"],
              "damagePercentageRatio": "80*%Shougun_LocalAvatarEnergyToBurstDamageRatio",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 70,
                  "compareType": "MoreThan",
                  "target": "Self"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 80,
                  "compareType": "LessAndEqual",
                  "target": "Self"
                }
              ]
            },
            {
              "$type": "ModifyDamageMixin",
              "attackTags": ["Elemental_Burst"],
              "damagePercentageRatio": "90*%Shougun_LocalAvatarEnergyToBurstDamageRatio",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_LocalAvatarEnergy",
                  "value": 80,
                  "compareType": "MoreThan",
                  "target": "Self"
                }
              ]
            }
          ]
        },
        "UNIQUE_Shougun_Elf_ElementalBall_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Other",
              //要求对怪造成伤害
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Elemental_Art"]
                },
                {
                  "$type": "ByHitStrikeType",
                  "strikeType": "Slash"
                }
              ],
              "successActions": [
                {
                  "$type": "Randomed",
                  "chance": 0.5,
                  "successActions": [
                    {
                      "$type": "GenerateElemBall",
                      "configID": 2020,
                      "baseEnergy": 3,
                      "born": {
                        "$type": "ConfigBornByHitPoint"
                      },
                      "bornRandom": {
                        "$type": "BornRandomFromCenter",
                        "minRandomRange": 0.5,
                        "maxRandomRange": 1.5
                      },
                      "doOffStage": true
                    }
                  ],
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_Elf_Attack_ElemBall_CD",
                      "value": 0,
                      "compareType": "NoneOrEqual",
                      "target": "Caster"
                    }
                  ],
                  "doOffStage": true
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Shougun_Elf_Attack_ElemBall_CD",
                  "target": "Caster",
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_Elf_Attack_CD": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%Elf_Attack_CD",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Elf_Attack_CD",
              "value": 1,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Elf_Attack_CD",
              "value": 0,
              "doOffStage": true
            }
          ]
        },
        "Shougun_Elf_Attack_Local": {
          "stacking": "Multiple",
          "duration": 1.0,
          "onAdded": [
            {
              "$type": "SetRandomOverrideMapValue", //辅助攻击随机角度设置，特效中读取
              "overrideMapKey": "Shougun_Elf_Attack_RandomDir",
              "valueRangeMin": 0,
              "valueRangeMax": 100,
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Elf_Attack_RandomDir",
              "value": "%Shougun_Elf_Attack_RandomDir",
              "doOffStage": true
            },
            {
              "$type": "FireEffect", //攻击特效
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Attack01",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Fx_ChestNode",
                "attachPointTargetType": "Self",
                "direction": {
                  "$type": "ConfigDirectionByEntity"
                  // "randomAngleHor": 360,
                }
              },
              "doOffStage": true
            },
            {
              "$type": "TriggerAttackEvent",
              "target": "Caster", //伤害归属将军
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "detectDirection": "CenterToSide",
                  "radius": "%Elf_Attack_Radius",
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "Fx_ChestNode",
                    "attachPointTargetType": "Self",
                    "direction": {
                      "$type": "ConfigDirectionByEntity"
                      // "randomAngleHor": 360,
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "Elemental_Art",
                  "attenuationTag": "Elemental_Art",
                  "attackProperty": {
                    "damagePercentage": "%Elf_Attack",
                    "elementType": "Electric",
                    "elementDurability": 25,
                    "strikeType": "Slash",
                    "attackType": "Melee",
                    "enBreak": 30
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "retreatType": "ByHitDirection",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "muteHitText": false
                  }
                }
              },
              "doOffStage": true
            }
          ]
        },
        "Shougun_Elf_Attack_Remote": {
          "stacking": "Multiple",
          "duration": 1.0,
          "onAdded": [
            {
              "$type": "SetRandomOverrideMapValue", //辅助攻击随机角度设置，特效中读取
              "overrideMapKey": "Shougun_Elf_Attack_RandomDir",
              "valueRangeMin": 0,
              "valueRangeMax": 100,
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Elf_Attack_RandomDir",
              "value": "%Shougun_Elf_Attack_RandomDir",
              "doOffStage": true
            },
            {
              "$type": "FireEffect", //攻击特效
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Attack01",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "Fx_ChestNode",
                "attachPointTargetType": "Self",
                "direction": {
                  "$type": "ConfigDirectionByEntity"
                  // "randomAngleHor": 360,
                }
              },
              "doOffStage": true
            },
            {
              "$type": "TriggerAttackEvent",
              "target": "Caster", //伤害归属将军
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "detectDirection": "CenterToSide",
                  "radius": "%Elf_Attack_Radius",
                  "born": {
                    "$type": "ConfigBornByAttachPoint",
                    "attachPointName": "Fx_ChestNode",
                    "attachPointTargetType": "Self",
                    "direction": {
                      "$type": "ConfigDirectionByEntity"
                      // "randomAngleHor": 360,
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "Elemental_Art",
                  "attenuationTag": "Elemental_Art",
                  "attackProperty": {
                    "damagePercentage": "%Elf_Attack*%Elf_RemoteAttackRatio",
                    "elementType": "Electric",
                    "elementDurability": 25,
                    "strikeType": "Slash",
                    "attackType": "Melee",
                    "enBreak": 30
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "retreatType": "ByHitDirection",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "muteHitText": false
                  }
                }
              },
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_Elf_Attack_ElemBall_CD": {
          "isUnique": true,
          "duration": 0.8,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Elf_Attack_ElemBall_CD",
              "value": 1,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Elf_Attack_ElemBall_CD",
              "value": 0,
              "doOffStage": true
            }
          ]
        }
      },
      "abilitySpecials": {
        "Elf_Attack": 0,
        "Elf_Duration": 0,
        "Elf_Attack_CD": 0,
        "Elf_Max_ChargeLevel": 0,
        "Elf_Attack_Radius": 4,
        "Elf_RemoteAttackRatio": 0.2,
        "Shougun_Elf_Attack_RandomDir": 0,
        "Shougun_LocalAvatarEnergy": 0,
        "Shougun_LocalAvatarEnergyToBurstDamageRatio": 0
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Shougun_ChargeLevel", //眼睛和环
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ABILITY_Shougun_BurstCine_Mark", //充能技镜头里要换个环
          "valueSteps": [-0.5, 0.5, 1.5],
          "removeAppliedModifier": true,
          "defaultGlobalValueOnCreate": 0,
          "modifierNameSteps": [
            "UNIQUE_Shougun_Elf_ChargeFX_Normal_GrandHandler",
            "Blank"
          ]
        },
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ABILITY_Shougun_Charge_Level", //管理环等级自动清空
          "valueSteps": [-0.5, 0.5, 100.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "Blank",
            "UNIQUE_Shougun_Elf_ClearLevel_Handler"
          ]
        }
      ],
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Charge_Level", //初始化环等级
          "value": 0,
          "target": "Self"
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Charge_Level",
          "value": 0,
          "target": "Team"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Shougun_BurstToChargeLevel_GrandHandler"
        }
      ],
      "modifiers": {
        "UNIQUE_Shougun_BurstToChargeLevel_GrandHandler": {
          "isUnique": true,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "Shougun_BurstToChargeLevel_Handler",
              "target": "AllPlayerAvatars",
              "predicates": [
                {
                  "$type": "ByTargetPositionToSelfPosition",
                  "compareType": "XZ",
                  "value": 40,
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByEntityIsAlive"
                }
              ],
              "doOffStage": true
            }
          ],
          "thinkInterval": 1.0,
          "onThinkInterval": [
            {
              "$type": "AttachModifier",
              "modifierName": "Shougun_BurstToChargeLevel_Handler",
              "target": "AllPlayerAvatars",
              "predicates": [
                {
                  "$type": "ByTargetPositionToSelfPosition",
                  "compareType": "XZ",
                  "value": 40,
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByEntityIsAlive"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "Shougun_BurstToChargeLevel_Handler": {
          "stacking": "Refresh",
          "duration": 10,
          "elementDurability": 10,
          "elementType": "None",
          "onAdded": [
            {
              "$type": "GetFightProperty",
              "fightPropSourceTarget": "Self",
              "fightProp": "FIGHT_PROP_MAX_FIRE_ENERGY", //7个元素类型取谁都一样
              "globalValueKey": "_ABILITY_Shougun_LocalAvatarEnergy",
              "doOffStage": true
            }
          ],
          "modifierMixins": [
            {
              "$type": "OnAvatarUseSkillMixin",
              "clearSkillIdDelay": 0.2,
              "useSkillStart": true,
              "onTriggerUltimateSkill": [
                {
                  "$type": "Predicated",
                  "target": "Caster",
                  "targetPredicates": [
                    {
                      "$type": "ByTargetIsSelf",
                      "isSelf": false
                    }
                  ],
                  "successActions": [
                    {
                      "$type": "Predicated",
                      "target": "Caster",
                      "targetPredicates": [
                        {
                          "$type": "ByUnlockTalentParam",
                          "talentParam": "BurstSkillEnergy_ExtraChargeLevel"
                        }
                      ],
                      "successActions": [
                        {
                          "$type": "Predicated",
                          "target": "Self",
                          "targetPredicates": [
                            {
                              "$type": "ByAvatarElementType",
                              "elementType": "Electric"
                            }
                          ],
                          "successActions": [
                            {
                              "$type": "ApplyModifier",
                              "modifierName": "Shougun_Elf_TriggerUltimateSkill_AddChargeLevel_Talent_ElecElem",
                              "target": "Caster",
                              "doOffStage": true
                            }
                          ],
                          "failActions": [
                            {
                              "$type": "ApplyModifier",
                              "modifierName": "Shougun_Elf_TriggerUltimateSkill_AddChargeLevel_Talent_OtherElem",
                              "target": "Caster",
                              "doOffStage": true
                            }
                          ],
                          "doOffStage": true
                        }
                      ],
                      "failActions": [
                        {
                          "$type": "ApplyModifier",
                          "modifierName": "Shougun_Elf_TriggerUltimateSkill_AddChargeLevel",
                          "target": "Caster",
                          "doOffStage": true
                        }
                      ],
                      "doOffStage": true
                    }
                  ],
                  "doOffStage": true
                }
              ]
            },
            {
              "$type": "DoActionByEnergyChangeMixin",
              "elementTypes": [
                "Water",
                "Rock",
                "Fire",
                "Electric",
                "Grass",
                "Wind",
                "Ice",
                "None"
              ],
              "doWhenEnergyMax": true,
              "onGainEnergyByBall": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Shougun_Talent_GainElemBall_ExtraChargeLevel",
                  "target": "Caster",
                  "predicates": [
                    {
                      "$type": "ByUnlockTalentParam",
                      "talentParam": "GainElemBall_ExtraChargeLevel"
                    }
                  ],
                  "doOffStage": true
                }
              ]
            }
          ]
        },
        "Shougun_Elf_TriggerUltimateSkill_AddChargeLevel": {
          "stacking": "Multiple",
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "CopyGlobalValue",
              "srcTarget": "Applier",
              "dstTarget": "Self",
              "srcKey": "_ABILITY_Shougun_LocalAvatarEnergy",
              "dstKey": "_ABILITY_Shougun_LocalAvatarEnergy_Temp",
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Shougun_LocalAvatarEnergy_Temp",
              "overrideMapKey": "Elf_BurstSkill_LocalAvatarEnergy_Temp",
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level", //将军自己以外的充能技涨环等级
              "value": "%Elf_BurstSkillEnergy_ChargeLevelRatio*%Elf_BurstSkill_LocalAvatarEnergy_Temp",
              "useLimitRange": true,
              "maxValue": "%Elf_Max_ChargeLevel",
              "minValue": 0,
              "target": "Self",
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": "%Elf_BurstSkillEnergy_ChargeLevelRatio*%Elf_BurstSkill_LocalAvatarEnergy_Temp",
              "useLimitRange": true,
              "maxValue": "%Elf_Max_ChargeLevel",
              "minValue": 0,
              "target": "Team",
              "doOffStage": true
            },
            {
              "$type": "AddElementDurability",
              "modifierName": "UNIQUE_Shougun_Elf_ClearLevel_Handler",
              "value": 300,
              "useLimitRange": true,
              "maxValue": 300,
              "minValue": 0,
              "target": "Self",
              "doOffStage": true
            }
          ]
        },
        "Shougun_Elf_TriggerUltimateSkill_AddChargeLevel_Talent_OtherElem": {
          "stacking": "Multiple",
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "CopyGlobalValue",
              "srcTarget": "Applier",
              "dstTarget": "Self",
              "srcKey": "_ABILITY_Shougun_LocalAvatarEnergy",
              "dstKey": "_ABILITY_Shougun_LocalAvatarEnergy_Temp",
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Shougun_LocalAvatarEnergy_Temp",
              "overrideMapKey": "Elf_BurstSkill_LocalAvatarEnergy_Temp",
              "doOffStage": true
            },
            {
              "$type": "SetOverrideMapValue",
              "overrideMapKey": "BurstSkillEnergy_ExtraChargeLevelRatio_OtherElem",
              "value": "1+%BurstSkillEnergy_ExtraChargeLevel_OtherElemRatio",
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level", //将军自己以外的充能技涨环等级
              "value": "%Elf_BurstSkillEnergy_ChargeLevelRatio*%Elf_BurstSkill_LocalAvatarEnergy_Temp*%BurstSkillEnergy_ExtraChargeLevelRatio_OtherElem",
              "useLimitRange": true,
              "maxValue": "%Elf_Max_ChargeLevel",
              "minValue": 0,
              "target": "Self",
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": "%Elf_BurstSkillEnergy_ChargeLevelRatio*%Elf_BurstSkill_LocalAvatarEnergy_Temp*%BurstSkillEnergy_ExtraChargeLevelRatio_OtherElem",
              "useLimitRange": true,
              "maxValue": "%Elf_Max_ChargeLevel",
              "minValue": 0,
              "target": "Team",
              "doOffStage": true
            },
            {
              "$type": "AddElementDurability",
              "modifierName": "UNIQUE_Shougun_Elf_ClearLevel_Handler",
              "value": 300,
              "useLimitRange": true,
              "maxValue": 300,
              "minValue": 0,
              "target": "Self",
              "doOffStage": true
            }
          ]
        },
        "Shougun_Elf_TriggerUltimateSkill_AddChargeLevel_Talent_ElecElem": {
          "stacking": "Multiple",
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "CopyGlobalValue",
              "srcTarget": "Applier",
              "dstTarget": "Self",
              "srcKey": "_ABILITY_Shougun_LocalAvatarEnergy",
              "dstKey": "_ABILITY_Shougun_LocalAvatarEnergy_Temp",
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Shougun_LocalAvatarEnergy_Temp",
              "overrideMapKey": "Elf_BurstSkill_LocalAvatarEnergy_Temp",
              "doOffStage": true
            },
            {
              "$type": "SetOverrideMapValue",
              "overrideMapKey": "BurstSkillEnergy_ExtraChargeLevelRatio_ElecElem",
              "value": "1+%BurstSkillEnergy_ExtraChargeLevel_ElecElemRatio",
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level", //将军自己以外的充能技涨环等级
              "value": "%Elf_BurstSkillEnergy_ChargeLevelRatio*%Elf_BurstSkill_LocalAvatarEnergy_Temp*%BurstSkillEnergy_ExtraChargeLevelRatio_ElecElem",
              "useLimitRange": true,
              "maxValue": "%Elf_Max_ChargeLevel",
              "minValue": 0,
              "target": "Self",
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": "%Elf_BurstSkillEnergy_ChargeLevelRatio*%Elf_BurstSkill_LocalAvatarEnergy_Temp*%BurstSkillEnergy_ExtraChargeLevelRatio_ElecElem",
              "useLimitRange": true,
              "maxValue": "%Elf_Max_ChargeLevel",
              "minValue": 0,
              "target": "Team",
              "doOffStage": true
            },
            {
              "$type": "AddElementDurability",
              "modifierName": "UNIQUE_Shougun_Elf_ClearLevel_Handler",
              "value": 300,
              "useLimitRange": true,
              "maxValue": 300,
              "minValue": 0,
              "target": "Self",
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_Talent_GainElemBall_ExtraChargeLevel": {
          "duration": "%GainElemBall_ExtraChargeLevel_CD",
          "isUnique": true,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": "%GainElemBall_ExtraChargeLevel",
              "useLimitRange": true,
              "maxValue": "%Elf_Max_ChargeLevel",
              "minValue": 0,
              "target": "Self",
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": "%GainElemBall_ExtraChargeLevel",
              "useLimitRange": true,
              "maxValue": "%Elf_Max_ChargeLevel",
              "minValue": 0,
              "target": "Team",
              "doOffStage": true
            },
            {
              "$type": "AddElementDurability",
              "modifierName": "UNIQUE_Shougun_Elf_ClearLevel_Handler",
              "value": 300,
              "useLimitRange": true,
              "maxValue": 300,
              "minValue": 0,
              "target": "Self",
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_Elf_ChargeFX_Normal_GrandHandler": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_Shougun_Charge_Level", //没环等级就不上环特效
              "valueSteps": [-0.5, 0.5, 100.5],
              "removeAppliedModifier": true,
              "modifierNameSteps": [
                "Blank",
                "UNIQUE_Shougun_Elf_ChargeFX_Normal_Handler"
              ]
            }
          ]
        },
        "UNIQUE_Shougun_Elf_ChargeFX_Normal_Handler": {
          "isUnique": true,
          "onAdded": [
            {
              "$type": "AttachModifier", //给队伍和将军上环特效，队友的比较淡防止影响瞄准和战斗，将军的比较浓
              "modifierName": "UNIQUE_Shougun_Elf_ChargeFX_Normal_Team",
              "target": "Team",
              "doOffStage": true
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Shougun_Elf_ChargeFX_OnStage",
              "target": "Team",
              "predicates": [
                {
                  "$type": "ByTargetIsCaster",
                  "isCaster": true,
                  "target": "CurLocalAvatar"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Shougun_Elf_ChargeFX_OffStage",
              "target": "Team",
              "predicates": [
                {
                  "$type": "ByTargetIsCaster",
                  "isCaster": false,
                  "target": "CurLocalAvatar"
                }
              ],
              "doOffStage": true
            }
            // {
            // 	"$type": "AttachModifier",
            // 	"modifierName": "UNIQUE_Shougun_Elf_ChargeFX_Normal_Self",
            // 	"target": "Self",
            // 	"doOffStage": true,
            // },
          ],
          "onAvatarIn": [
            {
              "$type": "AttachModifier",
              "modifierName": "Shougun_Elf_ChargeFX_OnStage",
              "target": "Team",
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "AttachModifier",
              "modifierName": "Shougun_Elf_ChargeFX_OffStage",
              "target": "Team",
              "doOffStage": true
            }
          ],
          "thinkInterval": 1.5,
          "onThinkInterval": [
            {
              "$type": "AttachModifier",
              "modifierName": "Shougun_Elf_ChargeFX_OnStage",
              "target": "Team",
              "predicates": [
                {
                  "$type": "ByTargetIsCaster",
                  "isCaster": true,
                  "target": "CurLocalAvatar"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "AttachModifier",
              "modifierName": "Shougun_Elf_ChargeFX_OffStage",
              "target": "Team",
              "predicates": [
                {
                  "$type": "ByTargetIsCaster",
                  "isCaster": false,
                  "target": "CurLocalAvatar"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "Shougun_Elf_ChargeFX_OnStage": {
          "stacking": "Multiple",
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_ChargeFX",
              "type": "Float",
              "parameter": "Shougun_OnStage",
              "floatValue": 0
            }
          ]
        },
        "Shougun_Elf_ChargeFX_OffStage": {
          "stacking": "Multiple",
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_ChargeFX",
              "type": "Float",
              "parameter": "Shougun_OnStage",
              "floatValue": 1
            }
          ]
        },
        "UNIQUE_Shougun_Elf_ChargeFX_Normal_Team": {
          "isUnique": true,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_ChargeFX"
            }
          ]
        },
        // "UNIQUE_Shougun_Elf_ChargeFX_Normal_Self":
        // {
        // 	"isUnique": true,
        // 	"onAdded":
        // 	[
        // 		{
        // 			"$type": "AttachEffect",
        // 			"effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_ChargeFX",
        // 			"doOffStage": true,
        // 		},
        // 	],
        // },
        "UNIQUE_Shougun_Elf_ClearLevel_Handler": {
          "isUnique": true,
          "stacking": "RefreshUniqueDurability",
          "duration": 300,
          "elementDurability": 300,
          "elementType": "None",
          "thinkInterval": 3.0,
          "onThinkInterval": [
            {
              "$type": "AddElementDurability",
              "modifierName": "UNIQUE_Shougun_Elf_ClearLevel_Handler",
              "value": 300,
              "useLimitRange": true,
              "maxValue": 300,
              "minValue": 0,
              "predicates": [
                {
                  "$type": "ByIsCombat"
                }
              ],
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Shougun_Elf_ClearLevel",
              "target": "Team",
              "doOffStage": true
            }
          ]
        },
        "Shougun_Elf_ClearLevel": {
          "stacking": "Multiple",
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_BurstCine_Mark",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "FireEffect", //整体消失特效
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_Charge_Level",
                      "value": 0,
                      "compareType": "MoreThan"
                    }
                  ]
                },
                {
                  "$type": "FireEffect", //10/30/50大阶段的眼睛单独消失
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear_01",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_Charge_Level",
                      "value": 10,
                      "compareType": "MoreThanAndEqual"
                    },
                    {
                      "$type": "ByTargetIsCaster",
                      "isCaster": true,
                      "target": "CurLocalAvatar"
                    }
                  ]
                },
                {
                  "$type": "FireEffect", //10/30/50大阶段的眼睛单独消失
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear_02",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_Charge_Level",
                      "value": 30,
                      "compareType": "MoreThanAndEqual"
                    },
                    {
                      "$type": "ByTargetIsCaster",
                      "isCaster": true,
                      "target": "CurLocalAvatar"
                    }
                  ]
                },
                {
                  "$type": "FireEffect", //10/30/50大阶段的眼睛单独消失
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear_03",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_Charge_Level",
                      "value": 50,
                      "compareType": "MoreThanAndEqual"
                    },
                    {
                      "$type": "ByTargetIsCaster",
                      "isCaster": true,
                      "target": "CurLocalAvatar"
                    }
                  ]
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": 0,
              "target": "Team"
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": 0,
              "target": "Caster"
            }
          ]
        },
        "Blank": {}
      },
      //被击败时清等级
      "onKill": [
        {
          "$type": "FireEffect", //整体消失特效
          "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": 0,
              "compareType": "MoreThan"
            }
          ],
          "doOffStage": true
        },
        {
          "$type": "FireEffect", //10/30/50大阶段的眼睛单独消失
          "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear_01",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": 10,
              "compareType": "MoreThanAndEqual"
            },
            {
              "$type": "ByTargetIsCaster",
              "isCaster": true,
              "target": "CurLocalAvatar"
            }
          ],
          "doOffStage": true
        },
        {
          "$type": "FireEffect", //10/30/50大阶段的眼睛单独消失
          "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear_02",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": 30,
              "compareType": "MoreThanAndEqual"
            },
            {
              "$type": "ByTargetIsCaster",
              "isCaster": true,
              "target": "CurLocalAvatar"
            }
          ],
          "doOffStage": true
        },
        {
          "$type": "FireEffect", //10/30/50大阶段的眼睛单独消失
          "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear_03",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": 50,
              "compareType": "MoreThanAndEqual"
            },
            {
              "$type": "ByTargetIsCaster",
              "isCaster": true,
              "target": "CurLocalAvatar"
            }
          ],
          "doOffStage": true
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Charge_Level",
          "value": 0,
          "target": "Team",
          "doOffStage": true
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Charge_Level",
          "value": 0,
          "target": "Self",
          "doOffStage": true
        }
      ],
      "abilitySpecials": {
        "Elf_BurstSkillEnergy_ChargeLevelRatio": 0,
        "Elf_BurstSkill_LocalAvatarEnergy_Temp": 0,
        "Elf_Max_ChargeLevel": 0,
        "BurstSkillEnergy_ExtraChargeLevelRatio_OtherElem": 0,
        "BurstSkillEnergy_ExtraChargeLevelRatio_ElecElem": 0,
        "BurstSkillEnergy_ExtraChargeLevel_OtherElemRatio": 0,
        "BurstSkillEnergy_ExtraChargeLevel_ElecElemRatio": 0,
        "GainElemBall_ExtraChargeLevel_CD": 0,
        "GainElemBall_ExtraChargeLevel": 0
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Elemental_Burst
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Shougun_ElementalBurst",
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Charge_DamageRatio",
          "value": 1
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Katana_Mark",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Katana_ShowWeaponMark",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_ReduceBurstCD_Mark",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_ReviveEnergy_Mark",
          "value": 0
        },
        ///////////////////////// KatanaState //////////////////////////
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Shougun_KatanaReviveEnergy_Handler"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Shougun_KatanaIgnoreDefense_Handler",
          "predicates": [
            {
              "$type": "ByUnlockTalentParam",
              "talentParam": "KatanaIgnoreDefense"
            }
          ]
        }
      ],
      "onAbilityStart": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Shougun_Tachi_Handler"
        },
        {
          "$type": "SetGlobalValueToOverrideMap",
          "globalValueKey": "_ABILITY_Shougun_Charge_Level",
          "overrideMapKey": "ChargeLevel"
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Charge_BurstDamageDelta",
          "value": "%ChargeLevel*%ChargeLevelToBurstDamageRatio"
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Charge_KatanaDamageDelta",
          "value": "%ChargeLevel*%ChargeLevelToKatanaDamageRatio"
        },
        {
          "$type": "SetGlobalValueToOverrideMap",
          "globalValueKey": "_ABILITY_Shougun_Charge_BurstDamageDelta",
          "overrideMapKey": "BurstDamageDelta" //环等级 - 伤害增幅
        },
        {
          "$type": "SetGlobalValueToOverrideMap",
          "globalValueKey": "_ABILITY_Shougun_Charge_KatanaDamageDelta",
          "overrideMapKey": "KatanaDamageDelta" //环等级 - 伤害增幅
        },
        ///////////////////状态重置和前期计算结束，开始干正事///////////////////
        {
          "$type": "TriggerHideWeapon",
          "visible": false,
          "partNames": ["equip01", "equip02", "equip03", "sheathPoint"]
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Shougun_ElementalBurst_Start"
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Shougun_ElementalBurst_Start"
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_ReduceBurstCD_Mark",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_ReviveEnergy_Mark",
          "value": 0
        }
      ],
      "abilityMixins": [
        // {
        // 	"$type": "AttachToNormalizedTimeMixin",
        // 	"stateID": "Shougun_ElementalBurst",
        // 	"modifierName": "Shougun_ElementalBurst_FogFX02_Handler",	//相机上的特效
        // 	"normalizeEnd": 0.562,
        // },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Shougun_ElementalBurst",
          "modifierName": "Shougun_ElementalBurst_FakeEnd",
          "normalizeEnd": 0.622
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Shougun_ElementalBurst",
          "modifierName": "Shougun_ElementalBurst_End", //真正的伤害时刻
          "normalizeEnd": 0.864
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Shougun_ElementalBurst"],
          "modifierName": "Shougun_ElementalBurst_CameraShot" //相机控制
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Shougun_ElementalBurst"],
          "modifierName": "UNIQUE_Shougun_ElementalBurst_Weather" //天气控制
        },
        {
          "$type": "AttachToStateIDMixin", //保证表演完整性
          "stateIDs": ["Shougun_ElementalBurst"],
          "modifierName": "Shougun_ElementalBurst_State"
        },
        {
          "$type": "AttachToStateIDMixin", //保证表演完整性
          "stateIDs": ["Shougun_ElementalBurst", "Shougun_ElementalBurst_AS"],
          "modifierName": "Shougun_ElementalBurst_NoEmotion"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Shougun_ElementalBurst", "Shougun_ElementalBurst_AS"],
          "modifierName": "Shougun_KatanaSkinControl_ResetBackUp"
        },
        /////////////////////////////////////////
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK01"],
          "damagePercentage": "%Attack_01_Normal"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK02"],
          "damagePercentage": "%Attack_02_Normal"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK03"],
          "damagePercentage": "%Attack_03_Normal"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK04_01"],
          "damagePercentage": "%Attack_04_01_Normal"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK04_02"],
          "damagePercentage": "%Attack_04_02_Normal"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ATK05"],
          "damagePercentage": "%Attack_05_Normal"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["ExtraAttack"],
          "damagePercentage": "%ExtraAttack_Normal"
        },
        //////////////
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["Katana_ATK01"],
          "damagePercentage": "%Attack_01_Katana+%KatanaDamageDelta"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["Katana_ATK02"],
          "damagePercentage": "%Attack_02_Katana+%KatanaDamageDelta"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["Katana_ATK03"],
          "damagePercentage": "%Attack_03_Katana+%KatanaDamageDelta"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["Katana_ATK04_01"],
          "damagePercentage": "%Attack_04_01_Katana+%KatanaDamageDelta"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["Katana_ATK04_02"],
          "damagePercentage": "%Attack_04_02_Katana+%KatanaDamageDelta"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["Katana_ATK05"],
          "damagePercentage": "%Attack_05_Katana+%KatanaDamageDelta"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["Katana_ExtraAttack_01"],
          "damagePercentage": "%ExtraAttack_Katana_01+%KatanaDamageDelta"
        },
        {
          "$type": "ModifyDamageMixin",
          "animEventNames": ["Katana_ExtraAttack_02"],
          "damagePercentage": "%ExtraAttack_Katana_02+%KatanaDamageDelta"
        },
        //////////////
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ABILITY_CharacterQuest_Shougun_UnendlessKatana_Mark",
          "valueSteps": [0.5, 1.5],
          "removeAppliedModifier": true,
          "defaultGlobalValueOnCreate": 0,
          "modifierNameSteps": [
            "UNIQUE_CharacterQuest_Shougun_UnendlessKatana_Handler"
          ]
        }
      ],
      "modifiers": {
        "Shougun_ElementalBurst_Start": {
          "duration": 2.0,
          "onAdded": [
            {
              "$type": "AvatarSkillStart",
              "skillID": 10525
            },
            {
              "$type": "TriggerAttackEvent", //开幕推人
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "height": 4.0,
                  "fanAngle": 360.0,
                  "radius": 3.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": -2.0,
                      "z": 0.0
                    },
                    "direction": {
                      "$type": "ConfigDirectionByDefault",
                      "angleOffset": {
                        "x": 0.0,
                        "y": 0.0,
                        "z": 0.0
                      }
                    }
                    // "alongGround": true,
                  }
                },
                "attackInfo": {
                  "attackProperty": {
                    "damagePercentage": 0,
                    "enBreak": 400
                  },
                  "hitPattern": {
                    "onHitEffectName": "none",
                    "overrideHitImpulse": {
                      "hitLevel": "Heavy", //hitlevel = sp
                      "hitImpulseX": 800, //hitlevel = sp
                      "hitImpulseY": 0 //hitlevel = sp
                    },
                    "retreatType": "ByHitDirection",
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.0,
                    "muteHitText": false
                  },
                  "forceCameraShake": false
                }
              }
            },
            {
              "$type": "Predicated", //镜头能放出来吗？会被挡住吗？
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByAttackNotHitScene",
                  "checkWaterLayer": true,
                  "attackPattern": {
                    "$type": "ConfigAttackCircle",
                    "triggerType": "TriggerNoRepeat",
                    "fanAngle": 360.0,
                    "radius": 1.0,
                    "height": 2.0,
                    "born": {
                      "$type": "ConfigBornBySelf",
                      "offset": {
                        "x": 0.0,
                        "y": 0.5,
                        "z": 0.0
                      }
                    }
                  }
                },
                {
                  "$type": "ByAvatarInWaterDepth",
                  "compareType": "LessAndEqual",
                  "depth": 0.5
                }
              ],
              //能放出来镜头
              "successActions": [
                {
                  "$type": "AvatarEnterCameraShot",
                  "cameraMoveCfgPath": "Camera_Shougun_ElementalBurst"
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Shougun_BurstCine_Mark", //进相机标记
                  "value": 1
                },
                {
                  "$type": "FireEffect", //cine专用特效
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_ElementalBurst_00"
                },
                {
                  "$type": "RemoveModifier",
                  "modifierName": "Shougun_ElementalBurst_FogFX01"
                },
                // {
                // 	"$type": "RemoveModifier",
                // 	"modifierName": "Shougun_ElementalBurst_FogFX02",
                // },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Shougun_ElementalBurst_FogFX01"
                },
                {
                  "$type": "FireEffect", //相机专用环特效
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_ChargeFX_Cine"
                },
                {
                  "$type": "AttachModifier", //后处理管理
                  "modifierName": "Shougun_ElementalBurst_PostEffect_Handler"
                }
              ],
              "failActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Shougun_BurstCine_Mark", //进相机标记
                  "value": 0
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_ElementalBurst_ThirdParty"
                }
              ]
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Shougun_Elf_ClearLevel", //环等级清零
              "target": "Team"
            },
            {
              "$type": "FireEffect", //胸口的刀裂缝特效
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_ElementalBurst_ChestKatana"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkinControl", //亮头发和眼睛
              "value": 2
            },
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "SkinTrigger"
            },
            {
              "$type": "SetEmissionScaler",
              "materialType": "Hair",
              "value": 30,
              "duration": 5,
              "doOffStage": true
            }
          ]
        },
        "Shougun_ElementalBurst_FakeEnd": {
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_ElementalBurst_01"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_ElementalBurst"
            }
          ]
        },
        "Shougun_ElementalBurst_End": {
          "onRemoved": [
            {
              "$type": "ActCameraRadialBlur",
              "cameraRadialBlur": {
                "power": 1,
                "blurTime": 0.3,
                "fadeTime": 0.2
              }
            },
            {
              "$type": "ApplyModifier", //进入太刀模式
              "modifierName": "UNIQUE_Shougun_Tachi_Handler"
            },
            {
              "$type": "TriggerAttackEvent", //充能技伤害
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackBox",
                  "triggerType": "TriggerNoRepeat",
                  "size": {
                    "x": 13.0,
                    "y": 4.5,
                    "z": 8.0
                  },
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 2.2,
                      "z": -0.1
                    },
                    "direction": {
                      "$type": "ConfigDirectionByEntity",
                      "angleOffset": {
                        "x": 0.0,
                        "y": 0.0, //角度偏移
                        "z": 0.0
                      }
                    }
                  },
                  "massiveAttackRatio": 0.6
                },
                "attackInfo": {
                  "attackTag": "Elemental_Burst",
                  "attackProperty": {
                    "damagePercentage": "%ElementalBurst_BaseDamage+%BurstDamageDelta",
                    "elementType": "Electric",
                    "elementDurability": 50,
                    "strikeType": "Slash",
                    "attackType": "Melee",
                    "enBreak": 150
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "retreatType": "ByHitDirection",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "muteHitText": false
                  },
                  "forceCameraShake": true,
                  "cameraShake": {
                    "shakeType": "Center",
                    "shakeRange": 0.4,
                    "shakeTime": 0.12,
                    "shakeDistance": 60,
                    "extension": {
                      "baseOnCamera": true
                    }
                  }
                }
              }
            }
          ]
        },
        "Shougun_ElementalBurst_FogFX01": {
          "duration": 4.0,
          "onAdded": [
            {
              "$type": "DungeonFogEffects",
              "enable": true,
              "muteRemoteAction": true,
              "cameraFogEffectName": "Eff_Avatar_Lady_Pole_Shougun_ElementalBurst_Fog01",
              "localOffset": {
                "x": 0,
                "y": 0,
                "z": 0
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "DungeonFogEffects",
              "cameraFogEffectName": "Eff_Avatar_Lady_Pole_Shougun_ElementalBurst_Fog01",
              "enable": false,
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Shougun_ElementalBurst_FogFX01",
              "doOffStage": true
            }
          ]
        },
        // "Shougun_ElementalBurst_FogFX02_Handler":
        // {
        // 	"onRemoved":
        // 	[
        // 		{
        // 			"$type": "Predicated",
        // 			"target": "Self",
        // 			"targetPredicates":
        // 			[
        // 				{
        // 					"$type": "ByTargetGlobalValue",
        // 					"key": "_ABILITY_Shougun_BurstCine_Mark",
        // 					"value": 1,
        // 					"compareType": "Equal",
        // 				},
        // 			],
        // 			"successActions":
        // 			[
        // 				{
        // 					"$type": "RemoveModifier",
        // 					"modifierName": "Shougun_ElementalBurst_FogFX01",
        // 				},
        // 				{
        // 					"$type": "RemoveModifier",
        // 					"modifierName": "Shougun_ElementalBurst_FogFX02",
        // 				},
        // 				{
        // 					"$type": "ApplyModifier",
        // 					"modifierName": "Shougun_ElementalBurst_FogFX02",	//相机上的特效
        // 				},
        // 			],
        // 		},
        // 	],
        // },
        // "Shougun_ElementalBurst_FogFX02":
        // {
        // 	"duration": 4.0,
        // 	"onAdded":
        // 	[
        // 		{
        // 			"$type": "DungeonFogEffects",
        // 			"enable": true,
        // 			"muteRemoteAction": true,
        // 			"cameraFogEffectName": "Eff_Avatar_Lady_Pole_Shougun_ElementalBurst_02",
        // 			"localOffset":
        // 			{
        // 				"x":0,
        // 				"y":0,
        // 				"z":0,
        // 			},
        // 		},
        // 	],
        // 	"onRemoved":
        // 	[
        // 		{
        // 			"$type": "DungeonFogEffects",
        // 			"cameraFogEffectName": "Eff_Avatar_Lady_Pole_Shougun_ElementalBurst_02",
        // 			"enable": false,
        // 			"doOffStage": true,
        // 		},
        // 	],
        // },
        "Shougun_ElementalBurst_PostEffect_Handler": {
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "AttachToNormalizedTimeMixin",
              "stateID": "Shougun_ElementalBurst",
              "modifierName": "Shougun_ElementalBurst_PostEffect",
              "normalizeStart": 0.8,
              "normalizeEnd": 1.0
            }
          ]
        },
        "Shougun_ElementalBurst_PostEffect": {
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "TriggerPostProcessEffectMixin",
              "postEffectAssetName": "PostEffect_Shougun_ElementalBurst"
            }
          ]
        },
        "Shougun_Elf_ClearLevel": {
          "stacking": "Multiple",
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_BurstCine_Mark",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "FireEffect", //整体消失特效
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_Charge_Level",
                      "value": 0,
                      "compareType": "MoreThan"
                    }
                  ]
                },
                {
                  "$type": "FireEffect", //10/30/50大阶段的眼睛单独消失
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear_01",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_Charge_Level",
                      "value": 10,
                      "compareType": "MoreThanAndEqual"
                    },
                    {
                      "$type": "ByTargetIsCaster",
                      "isCaster": true,
                      "target": "CurLocalAvatar"
                    }
                  ]
                },
                {
                  "$type": "FireEffect", //10/30/50大阶段的眼睛单独消失
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear_02",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_Charge_Level",
                      "value": 30,
                      "compareType": "MoreThanAndEqual"
                    },
                    {
                      "$type": "ByTargetIsCaster",
                      "isCaster": true,
                      "target": "CurLocalAvatar"
                    }
                  ]
                },
                {
                  "$type": "FireEffect", //10/30/50大阶段的眼睛单独消失
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Elf_Charge_Disappear_03",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_Charge_Level",
                      "value": 50,
                      "compareType": "MoreThanAndEqual"
                    },
                    {
                      "$type": "ByTargetIsCaster",
                      "isCaster": true,
                      "target": "CurLocalAvatar"
                    }
                  ]
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": 0,
              "target": "Team"
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_Level",
              "value": 0,
              "target": "Caster"
            }
          ]
        },
        "UNIQUE_Shougun_Tachi_Handler": {
          "isUnique": true,
          "stacking": "RefreshUniqueDurability",
          "duration": "%Tachi_Duration",
          "elementDurability": "%Tachi_Duration",
          "elementType": "None",
          "isLimitedProperties": true,
          "properties": {
            "Actor_EndureDelta": 0
          },
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_KatanaState",
              "doOffStage": true
            },
            {
              "$type": "SetAnimatorFloat",
              "floatID": "InSubWeapon",
              "value": 1,
              "doOffStage": true,
              "persistent": false,
              "canBeHandledOnRecover": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Katana_Mark", //设置太刀状态标记
              "value": 1,
              "doOffStage": true
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkinControl",
              "value": 4,
              "doOffStage": true
            },
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "SkinTrigger", //太刀期间亮头发和眼睛
              "doOffStage": true
            },
            {
              "$type": "SetEmissionScaler",
              "materialType": "Hair",
              "value": 25,
              "duration": 10,
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_KatanaIgnoreDefense_EnableMark",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 0,
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Katana_ShowWeaponMark",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 0,
              "doOffStage": true
            },
            /////////////////
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_Shougun_ElementalBurst_Weather_AfterCine",
              "doOffStage": true
            }
          ],
          "thinkInterval": 0.2,
          "onThinkInterval": [
            {
              "$type": "SetAnimatorFloat",
              "floatID": "InSubWeapon",
              "value": 1,
              "persistent": false
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "floatID": "InSubWeapon",
              "value": 0,
              "persistent": false,
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Katana_Mark", //结束太刀状态标记
              "value": 0,
              "doOffStage": true
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "SkinControl",
              "value": 0,
              "doOffStage": true
            },
            {
              "$type": "SetEmissionScaler",
              "materialType": "Hair",
              "value": 1,
              "doOffStage": true
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_HairEmission_Dissipate",
              "doOffStage": true
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Avatar_Shougun_Talent_BuffAfterKatana",
              "predicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "BuffAfterKatana"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_KatanaIgnoreDefense_EnableMark",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 0,
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Katana_ShowWeaponMark",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 0,
              "doOffStage": true
            },
            {
              "$type": "TriggerHideWeapon",
              "visible": true,
              "partNames": ["equip01", "equip02", "equip03", "sheathPoint"],
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_ShowWeaponMark",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Shougun_Tachi_Handler",
              "doOffStage": true
            }
          ],
          "onKill": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Shougun_Tachi_Handler",
              "doOffStage": true
            }
          ],
          "modifierMixins": [
            {
              "$type": "RejectAttackMixin",
              "attackTag": "ShockDamage",
              "limitTime": 0,
              "type": "RejectAll"
            }
          ]
        },
        "UNIQUE_Shougun_ElementalBurst_Weather_AfterCine": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "TriggerWeatherMixin",
              "type": "Skill",
              "weatherPattern": "Weather_Shougun_ElementalBurst", //太刀期间天气
              "transDuration": 0.3,
              "duration": 16
            }
          ]
        },
        "UNIQUE_Shougun_Tachi_ReviveEnergy_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%Tachi_ReviveEnergy_CD",
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_ReviveEnergy_Mark",
              "value": 1,
              "useLimitRange": true,
              "maxValue": "%Max_ReviveEnergy_Mark",
              "minValue": 0,
              "doOffStage": true
            },
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByUnlockTalentParam",
                  "talentParam": "ExtraReviveEnergy"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Shougun_ExtraReviveEnergy_ValidProp",
                  "value": "%FIGHT_PROP_NONEXTRA_CHARGE_EFFICIENCY-%ExtraReviveEnergy_ValidProp_StartPoint",
                  "doOffStage": true
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Shougun_ExtraReviveEnergy_ValidProp",
                  "value": 0,
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_ExtraReviveEnergy_ValidProp",
                      "value": 0,
                      "compareType": "LessAndEqual"
                    }
                  ],
                  "doOffStage": true
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "globalValueKey": "_ABILITY_Shougun_ExtraReviveEnergy_ValidProp",
                  "overrideMapKey": "ExtraReviveEnergy_ValidProp"
                },
                {
                  "$type": "SetOverrideMapValue",
                  "overrideMapKey": "ExtraReviveEnergyRatio",
                  "value": "%ExtraReviveEnergy_ValidProp*%ExtraReviveEnergy_PropConvertRatio*100+1",
                  "doOffStage": true
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Shougun_Tachi_ReviveEnergy_Talent",
                  "target": "AllPlayerAvatars",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "compareType": "XZ",
                      "value": 40,
                      "logic": "LesserOrEqual"
                    }
                  ],
                  "doOffStage": true
                }
              ],
              "failActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Shougun_Tachi_ReviveEnergy",
                  "target": "AllPlayerAvatars",
                  "predicates": [
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "compareType": "XZ",
                      "value": 40,
                      "logic": "LesserOrEqual"
                    }
                  ],
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "Shougun_Tachi_ReviveEnergy_Talent": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            {
              "$type": "ReviveElemEnergy",
              "value": "%Tachi_BaseReviveEnergy*%ExtraReviveEnergyRatio",
              "doOffStage": true
            }
          ]
        },
        "Shougun_Tachi_ReviveEnergy": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            {
              "$type": "ReviveElemEnergy",
              "value": "%Tachi_BaseReviveEnergy",
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_Tachi_ReduceBurstCD_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "duration": "%Tachi_ReduceBurstCD_CD",
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_ReduceBurstCD_Mark",
              "value": 1,
              "useLimitRange": true,
              "maxValue": "%Max_ReduceBurstCD_Mark",
              "minValue": 0,
              "doOffStage": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Shougun_Tachi_ReduceBurstCD",
              "target": "AllPlayerAvatars",
              "predicates": [
                {
                  "$type": "ByTargetPositionToSelfPosition",
                  "compareType": "XZ",
                  "value": 40,
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetIsCaster",
                  "isCaster": false
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "Shougun_Tachi_ReduceBurstCD": {
          "duration": 0.5,
          "stacking": "Multiple",
          "onAdded": [
            {
              "$type": "ModifyAvatarSkillCD",
              "skillSlot": [5],
              "cdDelta": "0-%Tachi_ReduceBurstCD_Delta",
              "doOffStage": true
            }
          ]
        },
        "Shougun_ElementalBurst_State": {
          "state": "Invincible",
          "onAdded": [
            {
              "$type": "ClearEndura",
              "target": "Self"
            }
          ]
        },
        "Shougun_ElementalBurst_NoEmotion": {
          "onAdded": [
            {
              "$type": "AttachAbilityStateResistance",
              "resistanceListID": 11002
            },
            {
              "$type": "ControlEmotion",
              "toggleBlink": false,
              "toggleEmoSync": false,
              "toggleEyeKey": false
            },
            {
              "$type": "EnableHeadControl",
              "enable": false,
              "blend": false
            }
          ],
          "onRemoved": [
            {
              "$type": "ControlEmotion",
              "doOffStage": true,
              "toggleBlink": true,
              "toggleEmoSync": true,
              "toggleEyeKey": true
            },
            {
              "$type": "EnableHeadControl",
              "enable": true,
              "doOffStage": true
            }
          ]
        },
        "Shougun_KatanaSkinControl_ResetBackUp": {
          "onRemoved": [
            {
              "$type": "Predicated",
              "target": "Caster",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_Mark",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkinControl",
                  "value": 0,
                  "doOffStage": true
                },
                {
                  "$type": "SetEmissionScaler",
                  "materialType": "Hair",
                  "value": 1,
                  "doOffStage": true
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_HairEmission_Dissipate",
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_ElementalBurst_Weather": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "TriggerWeatherMixin",
              "type": "Skill",
              "weatherPattern": "Weather_Shougun_ElementalBurst_Cine",
              "transDuration": 0.3,
              "duration": 1.12
            }
          ]
        },
        "Shougun_ElementalBurst_CameraShot": {
          "onRemoved": [
            {
              "$type": "AvatarCameraParam",
              "cameraParam": {
                "forceRadius": 6.0,
                "forceRadiusDuration": 0,
                "shouldKeepForceRadius": true
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_BurstCine_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "AvatarExitCameraShot",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_BurstCine_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_BurstCine_Mark",
              "value": 0,
              "doOffStage": true
            }
          ],
          "onAvatarOut": [
            {
              "$type": "AvatarCameraParam",
              "cameraParam": {
                "forceRadius": 6.0,
                "forceRadiusDuration": 0,
                "shouldKeepForceRadius": true
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_BurstCine_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "AvatarExitCameraShot",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_BurstCine_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_BurstCine_Mark",
              "value": 0,
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_KatanaReviveEnergy_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "AttachToStateIDMixin",
              "stateIDs": [
                "Katana_Attack01",
                "Katana_Attack02",
                "Katana_Attack03",
                "Katana_Attack04",
                "Katana_Attack05",
                //
                "Katana_ExtraAttack",
                "Katana_ExtraAttack_AS",
                //
                "Katana_FallingAnthem_BS",
                "Katana_FallingAnthem_Loop",
                "Katana_FallingAnthem_AS_1",
                "Katana_FallingAnthem_AS_2"
              ],
              "modifierName": "Shougun_KatanaReviveEnergy"
            }
          ]
        },
        "UNIQUE_Shougun_KatanaIgnoreDefense_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "AttachToStateIDMixin",
              "stateIDs": [
                "Katana_Attack01",
                "Katana_Attack02",
                "Katana_Attack03",
                "Katana_Attack04",
                "Katana_Attack05",
                //
                "Katana_ExtraAttack",
                "Katana_ExtraAttack_AS",
                //
                "Katana_FallingAnthem_BS",
                "Katana_FallingAnthem_Loop",
                "Katana_FallingAnthem_AS_1",
                "Katana_FallingAnthem_AS_2",
                //
                "Shougun_ElementalBurst",
                "Shougun_ElementalBurst_AS"
              ],
              "modifierName": "Shougun_KatanaIgnoreDefense_EnableMark"
            },
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_Shougun_KatanaIgnoreDefense_EnableMark",
              "valueSteps": [-0.5, 0.5, 5.5],
              "removeAppliedModifier": true,
              "modifierNameSteps": [
                "Blank",
                "UNIQUE_Shougun_KatanaIgnoreDefense"
              ]
            }
          ]
        },
        "Shougun_KatanaIgnoreDefense_EnableMark": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_KatanaIgnoreDefense_EnableMark",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 0,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_KatanaIgnoreDefense_EnableMark",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 0,
              "doOffStage": true
            }
          ]
        },
        "Shougun_KatanaReviveEnergy": {
          "stacking": "Unique",
          "onHittingOther": [
            {
              "$type": "Predicated",
              "target": "Other",
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ANIMAL_ENTITY_TYPE",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Elemental_Burst"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_Mark",
                  "value": 1,
                  "compareType": "Equal",
                  "target": "Self"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Shougun_Tachi_ReviveEnergy_Handler", //大招打人回能
                  "predicates": [
                    {
                      "$type": "ByNot",
                      "predicates": [
                        {
                          "$type": "ByTargetGlobalValue",
                          "key": "_ABILITY_Shougun_ReviveEnergy_Mark",
                          "value": "%Max_ReviveEnergy_Mark",
                          "compareType": "MoreThanAndEqual"
                        }
                      ]
                    }
                  ],
                  "doOffStage": true
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Shougun_Tachi_ReduceBurstCD_Handler",
                  "predicates": [
                    {
                      "$type": "ByUnlockTalentParam",
                      "talentParam": "ReduceBurstCD"
                    },
                    {
                      "$type": "ByNot",
                      "predicates": [
                        {
                          "$type": "ByTargetGlobalValue",
                          "key": "_ABILITY_Shougun_ReduceBurstCD_Mark",
                          "value": "%Max_ReduceBurstCD_Mark",
                          "compareType": "MoreThanAndEqual"
                        }
                      ]
                    }
                  ],
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_KatanaIgnoreDefense": {
          "isUnique": true,
          "stacking": "Unique",
          "state": "AttackUp",
          "isLimitedProperties": true,
          "properties": {
            "Actor_DefenseIgnoreRatio": "%KatanaIgnoreDefense_Rate"
          }
        },
        "UNIQUE_CharacterQuest_Shougun_UnendlessKatana_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_BurstDamageDelta",
              "value": "%Elf_Max_ChargeLevel*%ChargeLevelToBurstDamageRatio"
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Charge_KatanaDamageDelta",
              "value": "%Elf_Max_ChargeLevel*%ChargeLevelToKatanaDamageRatio"
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Shougun_Charge_BurstDamageDelta",
              "overrideMapKey": "BurstDamageDelta" //环等级 - 伤害增幅
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Shougun_Charge_KatanaDamageDelta",
              "overrideMapKey": "KatanaDamageDelta" //环等级 - 伤害增幅
            },
            ///////////////////状态重置和前期计算结束，开始干正事///////////////////
            {
              "$type": "TriggerHideWeapon",
              "visible": false,
              "partNames": ["equip01", "equip02", "equip03", "sheathPoint"]
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ReduceBurstCD_Mark",
              "value": "%Max_ReduceBurstCD_Mark"
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ReviveEnergy_Mark",
              "value": "%Max_ReviveEnergy_Mark"
            },
            {
              "$type": "ApplyModifier", //进入太刀模式
              "modifierName": "UNIQUE_Shougun_Tachi_Handler"
            }
          ]
        },
        "Blank": {}
      },
      "abilitySpecials": {
        "ElementalBurst_BaseDamage": 0,
        "ChargeLevel": 0,
        "ChargeLevelToBurstDamageRatio": 0,
        "ChargeLevelToKatanaDamageRatio": 0,
        "BurstDamageDelta": 0,
        "KatanaDamageDelta": 0,
        "ExtraReviveEnergy_ValidProp_StartPoint": 0,
        "ExtraReviveEnergy_ValidProp": 0,
        "ExtraReviveEnergy_PropConvertRatio": 0,
        "ExtraReviveEnergyRatio": 0,
        "Tachi_ReviveEnergy_CD": 0,
        "Tachi_BaseReviveEnergy": 0,
        "Tachi_Duration": 0,
        "KatanaIgnoreDefense_Rate": 0,
        "Tachi_ReduceBurstCD_CD": 0,
        "Tachi_ReduceBurstCD_Delta": 0,
        "Max_ReduceBurstCD_Mark": 5,
        "Max_ReviveEnergy_Mark": 5,
        //////////////////////////////
        "Attack_01_Normal": 0,
        "Attack_02_Normal": 0,
        "Attack_03_Normal": 0,
        "Attack_04_01_Normal": 0,
        "Attack_04_02_Normal": 0,
        "Attack_05_Normal": 0,
        "ExtraAttack_Normal": 0,
        //////////
        "Attack_01_Katana": 0,
        "Attack_02_Katana": 0,
        "Attack_03_Katana": 0,
        "Attack_04_01_Katana": 0,
        "Attack_04_02_Katana": 0,
        "Attack_05_Katana": 0,
        "ExtraAttack_Katana_01": 0,
        "ExtraAttack_Katana_02": 0,
        //////////
        "Elf_Max_ChargeLevel": 0
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Shougun_HideWeaponControl
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Shougun_HideWeaponControl",
      "onAdded": [
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_Katana_FXMark", //标记初始化
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_KatanaPoint_Mark",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_ElementalArt_SkinOn_Mark",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_ABILITY_Shougun_ElementalArt_HideWeapon_Mark",
          "value": 0
        }
      ],
      "abilityMixins": [
        ////////////////太刀出现控制//////////////////
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack01",
          "modifierName": "Shougun_ShowKatana_OnEnter",
          "normalizeStart": 0,
          "normalizeEnd": 0.2 //防止01进01无法触发
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack02",
          "modifierName": "Shougun_ShowKatana_OnEnter",
          "normalizeStart": 0,
          "normalizeEnd": 1
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack03",
          "modifierName": "Shougun_ShowKatana_OnEnter",
          "normalizeStart": 0,
          "normalizeEnd": 1
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack04",
          "modifierName": "Shougun_ShowKatana_OnEnter",
          "normalizeStart": 0,
          "normalizeEnd": 1
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack05",
          "modifierName": "Shougun_ShowKatana_OnEnter",
          "normalizeStart": 0,
          "normalizeEnd": 1
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_ExtraAttack",
          "modifierName": "Shougun_ShowKatana_OnEnter",
          "normalizeStart": 0,
          "normalizeEnd": 1
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_FallingAnthem_BS_1",
          "modifierName": "Shougun_ShowKatana_OnEnter",
          "normalizeStart": 0,
          "normalizeEnd": 1
        },
        /////////////////////太刀消失控制/////////////////////
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack01",
          "modifierName": "Shougun_HideKatana_OnEnter",
          "normalizeStart": 0.215
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack02",
          "modifierName": "Shougun_HideKatana_OnEnter",
          "normalizeStart": 0.43
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack03",
          "modifierName": "Shougun_HideKatana_OnEnter",
          "normalizeStart": 0.52
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack04",
          "modifierName": "Shougun_HideKatana_OnEnter",
          "normalizeStart": 0.48
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack05",
          "modifierName": "Shougun_HideKatana_OnEnter",
          "normalizeStart": 0.33
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_ExtraAttack_AS",
          "modifierName": "Shougun_HideKatana_OnEnter",
          "normalizeStart": 0.36
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_FallingAnthem_AS_2",
          "modifierName": "Shougun_HideKatana_OnEnter",
          "normalizeStart": 0.14
        },
        /////////////////////太刀切换挂点控制/////////////////////
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack01",
          "modifierName": "Shougun_KatanaPoint_CatalystR",
          "normalizeStart": 0.0,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack02",
          "modifierName": "Shougun_KatanaPoint_CatalystR",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.035
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack02",
          "modifierName": "Shougun_KatanaPoint_WeaponR",
          "normalizeStart": 0.035,
          "normalizeEnd": 0.362
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack02",
          "modifierName": "Shougun_KatanaPoint_CatalystR",
          "normalizeStart": 0.362,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack03",
          "modifierName": "Shougun_KatanaPoint_WeaponR",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.382
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack03",
          "modifierName": "Shougun_KatanaPoint_CatalystR",
          "normalizeStart": 0.382,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack04",
          "modifierName": "Shougun_KatanaPoint_CatalystR",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.112
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack04",
          "modifierName": "Shougun_KatanaPoint_WeaponR",
          "normalizeStart": 0.112,
          "normalizeEnd": 0.41
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack04",
          "modifierName": "Shougun_KatanaPoint_CatalystR",
          "normalizeStart": 0.41,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack05",
          "modifierName": "Shougun_KatanaPoint_CatalystR",
          "normalizeStart": 0.0,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_ExtraAttack",
          "modifierName": "Shougun_KatanaPoint_CatalystR",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.657
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_ExtraAttack",
          "modifierName": "Shougun_KatanaPoint_WeaponR",
          "normalizeStart": 0.657,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_ExtraAttack_AS",
          "modifierName": "Shougun_KatanaPoint_WeaponR",
          "normalizeStart": 0.0,
          "normalizeEnd": 0.115
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_ExtraAttack_AS",
          "modifierName": "Shougun_KatanaPoint_CatalystR",
          "normalizeStart": 0.115,
          "normalizeEnd": 1.0
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "Katana_FallingAnthem_BS",
            "Katana_FallingAnthem_Loop",
            "Katana_FallingAnthem_AS_1",
            "Katana_FallingAnthem_AS_2"
          ],
          "modifierName": "Shougun_KatanaPoint_WeaponR"
        },
        /////////////////////太刀收刀刀鞘特效////////////////////
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack01",
          "modifierName": "Shougun_Katana_SheathSpark",
          "normalizeStart": 0,
          "normalizeEnd": 0.215
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack02",
          "modifierName": "Shougun_Katana_SheathSpark_NoStamp",
          "normalizeStart": 0,
          "normalizeEnd": 0.042
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack05",
          "modifierName": "Shougun_Katana_SheathSpark",
          "normalizeStart": 0.13,
          "normalizeEnd": 0.33
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_ExtraAttack",
          "modifierName": "Shougun_Katana_SheathSpark_NoBurst",
          "normalizeStart": 0,
          "normalizeEnd": 0.5
        },
        ////////////////////////Cine太刀特效管理//////////////////////
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Shougun_ElementalBurst",
          "modifierName": "Shougun_ShowCineKatana_OnEnter",
          "normalizeStart": 0
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Shougun_ElementalBurst_AS",
          "modifierName": "Shougun_HideCineKatana_OnEnter",
          "normalizeStart": 0.248
        },
        ////////////////////////太刀特效整体管理//////////////////////
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_ABILITY_Shougun_Katana_FXMark",
          "valueSteps": [-0.5, 0.5, 1.5, 2.5, 3.5], //1是太刀，2是充能技太刀，3是临时无太刀
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "Blank",
            "Shougun_Katana_FXHandler",
            "Shougun_CineKatana_FXHandler",
            "Blank"
          ]
        },
        ////////////////////////角色出现消失管理//////////////////////
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Attack04",
          "modifierName": "Attack04Blink", //长枪第四击隐身
          "normalizeStart": 0.045,
          "normalizeEnd": 0.15
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_Attack04",
          "modifierName": "Katana_Attack04Blink", //太刀第四击隐身
          "normalizeStart": 0.045,
          "normalizeEnd": 0.15
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Katana_ExtraAttack",
          "modifierName": "Katana_ExtraAttackBlink", //太刀重击隐身
          "normalizeStart": 0.36,
          "normalizeEnd": 0.7
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Shougun_ElementalArt", "Shougun_ElementalArt_AS"],
          "modifierName": "HideWeapon_InElementalArt"
        },
        ////////////////////////头发眼睛亮起管理//////////////////////
        {
          "$type": "AttachToAnimatorStateIDMixin", //控制休闲待机01时的角色发光
          "stateIDs": ["StandbyShow_01"],
          "modifierName": "Show_SkinOn"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Shougun_ElementalArt", "Shougun_ElementalArt_AS"],
          "modifierName": "ElementalArt_SkinOff_OnExit"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Shougun_ElementalArt"],
          "modifierName": "ElementalArt_HideWeapon_Mark"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Shougun_ElementalArt_AS",
          "modifierName": "ElementalArt_SkinOff_OnEnter",
          "normalizeStart": 0.353
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Shougun_ElementalArt",
          "modifierName": "ElementalArt_SkinOn_OnEnter",
          "normalizeEnd": 0.5
        },
        /////////////////太刀消失-退出保护//////////////////
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "Katana_Attack01",
            "Katana_Attack02",
            "Katana_Attack03",
            "Katana_Attack04",
            "Katana_Attack05",
            //
            "Katana_ExtraAttack",
            "Katana_ExtraAttack_AS",
            //
            "Katana_FallingAnthem_BS",
            "Katana_FallingAnthem_Loop",
            "Katana_FallingAnthem_AS_1",
            "Katana_FallingAnthem_AS_2",
            //
            "Shougun_ElementalBurst",
            "Shougun_ElementalBurst_AS"
          ],
          "modifierName": "Shougun_ForceHideKatana_OnExit"
        },
        ////////////////////////长枪模式显示武器///////////////////////
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "Attack01",
            "Attack02",
            "Attack03",
            "Attack04",
            "Attack05",
            //
            "ExtraAttack",
            //
            "FallingAnthem_BS",
            //
            "NormalMoveWeaponPutaway"
          ],
          "modifierName": "Shougun_ShowWeapon_OnEnter"
        }
      ],
      "modifiers": {
        "Shougun_ForceHideKatana_OnExit": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Katana_ShowWeaponMark",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 0,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Katana_FXMark",
              "value": 0,
              "doOffStage": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_Shougun_Katana_ShowWeaponMark",
              "value": -1,
              "useLimitRange": true,
              "maxValue": 5,
              "minValue": 0,
              "doOffStage": true
            },
            {
              "$type": "TriggerHideWeapon",
              "visible": true,
              "partNames": ["equip01", "equip02", "equip03", "sheathPoint"],
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_ShowWeaponMark",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "Shougun_ShowWeapon_OnEnter": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Katana_FXMark",
              "value": 0
            },
            {
              "$type": "TriggerHideWeapon",
              "visible": true,
              "partNames": ["equip01", "equip02", "equip03", "sheathPoint"]
            }
          ]
        },
        "Shougun_ShowKatana_OnEnter": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Katana_FXMark",
              "value": 1
            }
          ]
        },
        "Shougun_HideKatana_OnEnter": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Katana_FXMark",
              "value": 0
            }
          ]
        },
        "Shougun_Katana_SheathSpark": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Attack_Spark_Sheath"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Attack_Spark_Sheath_AS"
            }
          ]
        },
        "Shougun_Katana_SheathSpark_NoStamp": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Attack_Spark_Sheath_Extra"
            }
          ]
        },
        "Shougun_Katana_SheathSpark_NoBurst": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Attack_Spark_Sheath"
            }
          ]
        },
        "Shougun_ShowCineKatana_OnEnter": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Katana_FXMark", //清Cine太刀动画，但是不触发退出播收刀特效
              "value": 3
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Katana_FXMark",
              "value": 2
            }
          ]
        },
        "Shougun_HideCineKatana_OnEnter": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_Katana_FXMark",
              "value": 0
            }
          ]
        },
        "Shougun_Katana_FXHandler": {
          "stacking": "Unique",
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_Shougun_KatanaPoint_Mark",
              "valueSteps": [-0.5, 0.5, 1.5],
              "removeAppliedModifier": true,
              "defaultGlobalValueOnCreate": 0,
              "modifierNameSteps": [
                "Shougun_Katana_FX_WeaponR",
                "Shougun_Katana_FX_CatalystR"
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_WeaponFX_Dissappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "WeaponR",
                "attachPointTargetType": "Self"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_FXMark", //退出太刀播，太刀切太刀不播
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "Shougun_KatanaPoint_CatalystR": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_KatanaPoint_Mark",
              "value": 1,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_KatanaPoint_Mark",
              "value": 0,
              "doOffStage": true
            }
          ]
        },
        "Shougun_KatanaPoint_WeaponR": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_KatanaPoint_Mark",
              "value": 0,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_KatanaPoint_Mark",
              "value": 1,
              "doOffStage": true
            }
          ]
        },
        "Shougun_Katana_FX_CatalystR": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Tachi_CatalystR"
            }
            // {
            // 	"$type": "AttachEffect",
            // 	"effectPattern": "Eff_Avatar_Lady_Pole_Shougun_WeaponFX_CatalystR",
            // },
          ]
        },
        "Shougun_Katana_FX_WeaponR": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Tachi_WeaponR"
            }
            // {
            // 	"$type": "AttachEffect",
            // 	"effectPattern": "Eff_Avatar_Lady_Pole_Shougun_WeaponFX_WeaponR",
            // },
          ]
        },
        "Shougun_CineKatana_FXHandler": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Tachi_Cine"
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_WeaponFX_Cine_Dissappear",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "WeaponR",
                "attachPointTargetType": "Self"
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_FXMark", //退出太刀播，太刀切太刀不播
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        //长枪第四击隐身
        "Attack04Blink": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "TriggerSetVisible",
              "visible": false,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerSetVisible",
              "visible": true,
              "doOffStage": true
            },
            {
              "$type": "TriggerHideWeapon",
              "visible": false,
              "partNames": ["equip01", "equip02", "equip03", "sheathPoint"],
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_ElementalArt_HideWeapon_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        //太刀第四击隐身
        "Katana_Attack04Blink": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "TriggerSetVisible",
              "visible": false,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerSetVisible",
              "visible": true,
              "doOffStage": true
            },
            {
              "$type": "TriggerHideWeapon",
              "visible": false,
              "partNames": ["equip01", "equip02", "equip03", "sheathPoint"],
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_ShowWeaponMark",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        //太刀重击隐身
        "Katana_ExtraAttackBlink": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "TriggerSetVisible",
              "visible": false,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_Katana_ExtraAttack_ShowSpark",
              "doOffStage": true
            },
            {
              "$type": "TriggerSetVisible",
              "visible": true,
              "doOffStage": true
            },
            {
              "$type": "TriggerHideWeapon",
              "visible": false,
              "partNames": ["equip01", "equip02", "equip03", "sheathPoint"],
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_ShowWeaponMark",
                  "value": 0,
                  "compareType": "MoreThan"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "HideWeapon_InElementalArt": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "TriggerHideWeapon",
              "visible": false,
              "partNames": ["equip01", "equip02", "sheathPoint"],
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_Mark",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerHideWeapon",
              "visible": true,
              "partNames": ["equip01", "equip02", "sheathPoint"],
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_Katana_Mark",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "doOffStage": true
            }
          ]
        },
        //控制休闲待机01时的角色发光
        "Show_SkinOn": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetAnimatorInt",
              "intID": "SkinControl",
              "value": 3
            },
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "SkinTrigger"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorInt",
              "intID": "SkinControl",
              "value": 0,
              "doOffStage": true
            }
          ]
        },
        //控制小技能时的角色发光
        "ElementalArt_SkinOff_OnExit": {
          "stacking": "Unique",
          "onRemoved": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByAnimatorInt",
                      "value": 4,
                      "parameter": "SkinControl",
                      "logic": "Equal"
                    }
                  ]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_ElementalArt_SkinOn_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkinControl",
                  "value": 0,
                  "doOffStage": true
                },
                {
                  "$type": "SetEmissionScaler",
                  "materialType": "Hair",
                  "value": 1,
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_HairEmission_Dissipate",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_ElementalArt_SkinOn_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ElementalArt_SkinOn_Mark",
              "value": 0,
              "doOffStage": true
            }
          ]
        },
        //控制小技能时的角色发光
        "ElementalArt_SkinOn_OnEnter": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ElementalArt_SkinOn_Mark",
              "value": 1
            },
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByAnimatorInt",
                      "value": 4,
                      "parameter": "SkinControl",
                      "logic": "Equal"
                    }
                  ]
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkinControl",
                  "value": 1
                },
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "SkinTrigger"
                },
                {
                  "$type": "SetEmissionScaler",
                  "materialType": "Hair",
                  "value": 15,
                  "duration": 5
                }
              ]
            }
          ]
        },
        //控制小技能时的角色发光
        "ElementalArt_SkinOff_OnEnter": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByAnimatorInt",
                      "value": 4,
                      "parameter": "SkinControl",
                      "logic": "Equal"
                    }
                  ]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_ElementalArt_SkinOn_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorInt",
                  "intID": "SkinControl",
                  "value": 0,
                  "doOffStage": true
                },
                {
                  "$type": "SetEmissionScaler",
                  "materialType": "Hair",
                  "value": 1,
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_HairEmission_Dissipate",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_ElementalArt_SkinOn_Mark",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ElementalArt_SkinOn_Mark",
              "value": 0,
              "doOffStage": true
            }
          ]
        },
        "ElementalArt_HideWeapon_Mark": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ElementalArt_HideWeapon_Mark",
              "value": 1,
              "doOffStage": true
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ElementalArt_HideWeapon_Mark",
              "value": 0,
              "doOffStage": true
            }
          ]
        },
        "Blank": {}
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Shougun_Talent_ChargeEfficiencyToElecAddHurt",
      "isDynamicAbility": true,
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Shougun_Talent_ChargeEfficiencyToElecAddHurt_Handler"
        }
      ],
      "modifiers": {
        "UNIQUE_Shougun_Talent_ChargeEfficiencyToElecAddHurt_Handler": {
          "isUnique": true,
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ExtraElecAddHurt_ValidProp",
              "value": "%FIGHT_PROP_NONEXTRA_CHARGE_EFFICIENCY-%ExtraElecAddHurt_ValidProp_StartPoint",
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ExtraElecAddHurt_ValidProp",
              "value": 0,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_Shougun_ExtraElecAddHurt_ValidProp",
                  "value": 0,
                  "compareType": "LessAndEqual"
                }
              ],
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Shougun_ExtraElecAddHurt_ValidProp",
              "overrideMapKey": "ExtraElecAddHurt_ValidProp",
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_ExtraElecAddHurt_CurChargeEfficiency",
              "value": "%FIGHT_PROP_NONEXTRA_CHARGE_EFFICIENCY",
              "doOffStage": true
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Shougun_Talent_ChargeEfficiencyToElecAddHurt",
              "doOffStage": true
            },
            {
              "$type": "AttachModifier",
              "modifierName": "UNIQUE_Shougun_Talent_ChargeEfficiencyToElecAddHurt",
              "doOffStage": true
            }
          ],
          "thinkInterval": 0.5,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByNot",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_ExtraElecAddHurt_CurChargeEfficiency",
                      "value": "%FIGHT_PROP_NONEXTRA_CHARGE_EFFICIENCY",
                      "compareType": "Equal"
                    }
                  ]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Shougun_ExtraElecAddHurt_ValidProp",
                  "value": "%FIGHT_PROP_NONEXTRA_CHARGE_EFFICIENCY-%ExtraElecAddHurt_ValidProp_StartPoint",
                  "doOffStage": true
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Shougun_ExtraElecAddHurt_ValidProp",
                  "value": 0,
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_Shougun_ExtraElecAddHurt_ValidProp",
                      "value": 0,
                      "compareType": "LessAndEqual"
                    }
                  ],
                  "doOffStage": true
                },
                {
                  "$type": "SetGlobalValueToOverrideMap",
                  "globalValueKey": "_ABILITY_Shougun_ExtraElecAddHurt_ValidProp",
                  "overrideMapKey": "ExtraElecAddHurt_ValidProp",
                  "doOffStage": true
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_ABILITY_Shougun_ExtraElecAddHurt_CurChargeEfficiency",
                  "value": "%FIGHT_PROP_NONEXTRA_CHARGE_EFFICIENCY",
                  "doOffStage": true
                },
                {
                  "$type": "RemoveUniqueModifier",
                  "modifierName": "UNIQUE_Shougun_Talent_ChargeEfficiencyToElecAddHurt",
                  "doOffStage": true
                },
                {
                  "$type": "AttachModifier",
                  "modifierName": "UNIQUE_Shougun_Talent_ChargeEfficiencyToElecAddHurt",
                  "doOffStage": true
                }
              ],
              "doOffStage": true
            }
          ]
        },
        "UNIQUE_Shougun_Talent_ChargeEfficiencyToElecAddHurt": {
          "isUnique": true,
          "stacking": "RefreshUniqueDurability",
          "isLimitedProperties": true,
          "properties": {
            "Actor_ElecAddHurtExtraDelta": "%ExtraElecAddHurt_ValidProp*%ExtraElecAddHurt_PropConvertRatio*100"
          }
        }
      },
      "abilitySpecials": {
        "ExtraElecAddHurt_ValidProp_StartPoint": 0,
        "ExtraElecAddHurt_ValidProp": 0,
        "ExtraElecAddHurt_PropConvertRatio": 0
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Shougun_Talent_BuffAfterKatana",
      "isDynamicAbility": true,
      "onAbilityStart": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Shougun_Talent_BuffAfterKatana",
          "target": "AllPlayerAvatars",
          "predicates": [
            {
              "$type": "ByTargetPositionToSelfPosition",
              "compareType": "XZ",
              "value": 40,
              "logic": "LesserOrEqual"
            },
            {
              "$type": "ByTargetIsCaster",
              "isCaster": false
            }
          ],
          "doOffStage": true
        }
      ],
      "modifiers": {
        "UNIQUE_Shougun_Talent_BuffAfterKatana": {
          "isUnique": true,
          "stacking": "RefreshUniqueDurability",
          "duration": "%BuffAfterKatana_Duration",
          "elementDurability": "%BuffAfterKatana_Duration",
          "elementType": "None",
          "state": "AttackUp",
          "isLimitedProperties": true,
          "properties": {
            "Actor_AttackRatio": "%BuffAfterKatana_ATKUP"
          }
        }
      },
      "abilitySpecials": {
        "BuffAfterKatana_ATKUP": 0,
        "BuffAfterKatana_Duration": 0
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  空中攻击  常驻
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Avatar_Shougun_FallingAnthem",
      "abilityMixins": [
        {
          "$type": "AvatarChangeSkillMixin",
          "priority": "AvatarCommon",
          "jumpSkillID": 5052010,
          "flySkillID": 5052010
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2",
            "Katana_FallingAnthem_BS",
            "Katana_FallingAnthem_Loop",
            "Katana_FallingAnthem_AS_1",
            "Katana_FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_FallingDamageImmune_01"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS", "Katana_FallingAnthem_BS"],
          "modifierName": "FallingAnthem_BS_VelocityForce_Initialize"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2",
            "Katana_FallingAnthem_BS",
            "Katana_FallingAnthem_Loop",
            "Katana_FallingAnthem_AS_1",
            "Katana_FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_Height_Detect"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "Katana_FallingAnthem_BS",
            "Katana_FallingAnthem_Loop"
          ],
          "modifierName": "Inertia"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "FallingAnthem_Loop",
            "FallingAnthem_AS_1",
            "FallingAnthem_AS_2",
            "Katana_FallingAnthem_BS",
            "Katana_FallingAnthem_Loop",
            "Katana_FallingAnthem_AS_1",
            "Katana_FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_OverHead_Camera"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "FallingAnthem_BS",
            "Katana_FallingAnthem_BS",
            "Katana_FallingAnthem_AS_1",
            "Katana_FallingAnthem_AS_2"
          ],
          "modifierName": "FallingAnthem_ClearVelocityForce"
        },
        //////////////////////////////
        //
        //
        //
        //////////////////////////////
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "Pole_FallingAnthem_BS_Material"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_Loop"],
          "modifierName": "Pole_FallingAnthem_Loop_Normal"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_Loop"],
          "modifierName": "Pole_FallingAnthem_LoopDamage"
        },
        //////////////////////////////
        //
        //
        //
        //////////////////////////////
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Katana_FallingAnthem_BS"],
          "modifierName": "Katana_FallingAnthem_BS_Material"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Katana_FallingAnthem_BS"],
          "modifierName": "Katana_FallingAnthem_Loop_Normal"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": [
            "Katana_FallingAnthem_BS_2",
            "Katana_FallingAnthem_Loop",
            "Katana_FallingAnthem_Loop_Low"
          ],

          "modifierName": "Katana_FallingAnthem_LoopDamage"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Katana_FallingAnthem_BS", "Katana_FallingAnthem_Loop"],
          "modifierName": "Katana_FallingAnthem_AttachWeaponEffect"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": ["Katana_FallingAnthem_BS_2"],
          "modifierName": "Katana_FallingAnthem_CameraRadialBlur"
        },
        //////////////////////////////
        //
        //
        //
        //////////////////////////////
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["FallingAnthem_BS"],
          "modifierName": "Pole_FallingAnthem_Mark"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["Katana_FallingAnthem_BS"],
          "modifierName": "Katana_FallingAnthem_Mark"
        }
      ],
      "onAdded": [],
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_ABILITY_Shougun_FallingAnthem_Mark",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            //普通状态第一段
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "scale": 1.0,
                  "height": 2.0,
                  "centerYOffset": 0.0,
                  "offsetZ": 0.0,
                  "fanAngle": 360.0,
                  "radius": 3.0,
                  "followRootNodeY": false,
                  "followTransformY": false,
                  "offsetAngle": 0.0,
                  "born": {
                    "$type": "ConfigBornByTarget",
                    "offset": {
                      "x": 0.0,
                      "y": -0.5,
                      "z": 1.0
                    }
                  },
                  "massiveAttackRatio": 0.6
                },
                "attackInfo": {
                  "attackTag": "Elemental_Burst",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Rank_1_Katana_Damage+%KatanaDamageDelta",
                    "overrideByWeapon": false,
                    "strikeType": "Blunt",
                    "attackType": "Melee",
                    "elementType": "Electric",
                    "elementDurability": 25,
                    "elementRank": 1.0,
                    "enBreak": 100
                  },
                  "hitPattern": {
                    "onHitEffectName": "none",
                    "hitImpulseType": "LV4",
                    // "hitLevel": "Heavy", //hitlevel = 4
                    // "hitImpulseX": 800, //hitlevel = 4
                    // "hitImpulseY": 0, //hitlevel = 4
                    "retreatType": "ByAttacker",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.1,
                    "muteHitText": false
                  },
                  "forceCameraShake": true,
                  "cameraShake": {
                    "shakeType": "CustomVector",
                    "shakeRange": 0.24,
                    "shakeTime": 0.12,
                    "shakeDistance": 30,
                    "shakeDir": {
                      "x": 0,
                      "y": 1,
                      "z": 0
                    },
                    "extension": {
                      "baseCycle": 0.24,
                      "cycleDamping": 0,
                      "rangeAttenuation": 0.3
                    }
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_FallingAnthem_UseCamera",
                  "forceByCaster": true,
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            },
            //普通状态第二段
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "scale": 1.0,
                  "height": 2.0,
                  "centerYOffset": 0.0,
                  "offsetZ": 0.0,
                  "fanAngle": 360.0,
                  "radius": 5.0,
                  "followRootNodeY": false,
                  "followTransformY": false,
                  "offsetAngle": 0.0,
                  "born": {
                    "$type": "ConfigBornByTarget",
                    "offset": {
                      "x": 0.0,
                      "y": -0.5,
                      "z": 1.0
                    }
                  },
                  "massiveAttackRatio": 0.6
                },
                "attackInfo": {
                  "attackTag": "Elemental_Burst",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Rank_2_Katana_Damage+%KatanaDamageDelta",
                    "overrideByWeapon": false,
                    "strikeType": "Blunt",
                    "attackType": "Melee",
                    "elementType": "Electric",
                    "elementDurability": 25,
                    "elementRank": 1.0,
                    "enBreak": 150
                  },
                  "hitPattern": {
                    "onHitEffectName": "none",
                    "hitImpulseType": "LV7",
                    // "hitLevel": "Air", //hitlevel = 7
                    // "hitImpulseX": 0, //hitlevel = 7
                    // "hitImpulseY": 800, //hitlevel = 7
                    "retreatType": "ByAttacker",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.1,
                    "muteHitText": false
                  },
                  "forceCameraShake": true,
                  "cameraShake": {
                    "shakeType": "CustomVector",
                    "shakeRange": 0.5,
                    "shakeTime": 0.2,
                    "shakeDistance": 30,
                    "shakeDir": {
                      "x": 0,
                      "y": 1,
                      "z": 1
                    },
                    "extension": {
                      "baseCycle": 0.4,
                      "cycleDamping": 0,
                      "rangeAttenuation": 0.3
                    }
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_FallingAnthem_UseCamera",
                  "forceByCaster": true,
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //普通状态第一段
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_FallAnthem_Strike_01",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_FallingAnthem_UseCamera",
                  "forceByCaster": true,
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            },
            //普通状态第二段
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_FallAnthem_Strike_02",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_FallingAnthem_UseCamera",
                  "forceByCaster": true,
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ],
          "failActions": [
            //普通状态第一段
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "scale": 1.0,
                  "height": 2.0,
                  "centerYOffset": 0.0,
                  "offsetZ": 0.0,
                  "fanAngle": 360.0,
                  "radius": 3.0,
                  "followRootNodeY": false,
                  "followTransformY": false,
                  "offsetAngle": 0.0,
                  "born": {
                    "$type": "ConfigBornByTarget",
                    "offset": {
                      "x": 0.0,
                      "y": -0.5,
                      "z": 1.0
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "FallingAttack",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Rank_1_Damage",
                    "overrideByWeapon": true,
                    "strikeType": "Blunt",
                    "attackType": "Melee",
                    "elementType": "None",
                    "elementDurability": 25,
                    "elementRank": 1.0,
                    "enBreak": 100
                  },
                  "hitPattern": {
                    "onHitEffectName": "none",
                    "hitImpulseType": "LV4",
                    "retreatType": "ByAttacker",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.1,
                    "muteHitText": false
                  },
                  "forceCameraShake": true,
                  /*						  "cameraShake":
									{
										"shakeType": "CustomVector",
										"shakeRange": 0.3,
										"shakeTime": 0.12,
										"shakeDistance": 30,
										"shakeDir":
										{
											"x": 0,
											"y": 1,
											"z": 0,
										},
									},*/
                  "cameraShake": {
                    "shakeType": "CustomVector",
                    "shakeRange": 0.24,
                    "shakeTime": 0.12,
                    "shakeDistance": 30,
                    "shakeDir": {
                      "x": 0,
                      "y": 1,
                      "z": 0
                    },
                    "extension": {
                      "baseCycle": 0.24,
                      "cycleDamping": 0,
                      "rangeAttenuation": 0.3
                    }
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_FallingAnthem_UseCamera",
                  "forceByCaster": true,
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            },
            //普通状态第二段
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "scale": 1.0,
                  "height": 2.0,
                  "centerYOffset": 0.0,
                  "offsetZ": 0.0,
                  "fanAngle": 360.0,
                  "radius": 5.0,
                  "followRootNodeY": false,
                  "followTransformY": false,
                  "offsetAngle": 0.0,
                  "born": {
                    "$type": "ConfigBornByTarget",
                    "offset": {
                      "x": 0.0,
                      "y": -0.5,
                      "z": 1.0
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "FallingAttack",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Rank_2_Damage",
                    "overrideByWeapon": true,
                    "strikeType": "Blunt",
                    "attackType": "Melee",
                    "elementType": "None",
                    "elementDurability": 25,
                    "elementRank": 1.0,
                    "enBreak": 150
                  },
                  "hitPattern": {
                    "onHitEffectName": "none",
                    "hitImpulseType": "LV7",
                    "retreatType": "ByAttacker",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.1,
                    "muteHitText": false
                  },
                  "forceCameraShake": true,
                  "cameraShake": {
                    "shakeType": "CustomVector",
                    "shakeRange": 0.5,
                    "shakeTime": 0.2,
                    "shakeDistance": 30,
                    "shakeDir": {
                      "x": 0,
                      "y": 1,
                      "z": 1
                    },
                    "extension": {
                      "baseCycle": 0.4,
                      "cycleDamping": 0,
                      "rangeAttenuation": 0.3
                    }
                  }
                }
              },
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_FallingAnthem_UseCamera",
                  "forceByCaster": true,
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            },
            //普通状态第一段
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Pole_FallingAnthem_Strike_01_Normal",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_FallingAnthem_UseCamera",
                  "forceByCaster": true,
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ]
            },
            //普通状态第二段
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Pole_FallingAnthem_Strike_02_Normal",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_ABILITY_FallingAnthem_UseCamera",
                  "forceByCaster": true,
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ],
          "doOffStage": true
        }
      ],
      "modifiers": {
        "Pole_FallingAnthem_Mark": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_FallingAnthem_Mark",
              "value": 0,
              "doOffStage": true
            }
          ]
        },
        "Katana_FallingAnthem_Mark": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_ABILITY_Shougun_FallingAnthem_Mark",
              "value": 1,
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_Shougun_Charge_KatanaDamageDelta",
              "overrideMapKey": "KatanaDamageDelta", //环等级 - 伤害增幅
              "doOffStage": true
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_01": {
          "onAdded": [
            {
              "$type": "ClearGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv0",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv0",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv0",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv0",
                  "logic": "LesserOrEqual"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv1",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv1",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv1",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv1",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv0",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv2",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv2",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv2",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv2",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv1",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv3",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv3",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv3",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv3",
                  "logic": "LesserOrEqual"
                },
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv2",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAttack_Altitude",
              "value": "%FallingAnthem_FallingDamageRatio_Lv4",
              "useLimitRange": true,
              "maxValue": "%FallingAnthem_FallingDamageRatio_Lv4",
              "minValue": "%FallingAnthem_FallingDamageRatio_Lv4",
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": "%FallingAnthem_Altitude_Lv3",
                  "logic": "Greater"
                }
              ]
            }, //==================================================================================

            {
              "$type": "AttachModifier",
              "modifierName": "FallingAnthem_FallingDamageImmune_02"
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_02": {
          "onAdded": [
            {
              "$type": "SetGlobalValueToOverrideMap",
              "globalValueKey": "_ABILITY_FallingAttack_Altitude",
              "overrideMapKey": "FallingAnthem_FallingDamageRatio"
            },
            {
              "$type": "AttachModifier",
              "modifierName": "FallingAnthem_FallingDamageImmune_03"
            }
          ]
        },
        "FallingAnthem_FallingDamageImmune_03": {
          "properties": {
            "Actor_FallingDamageRatio": "%FallingAnthem_FallingDamageRatio"
          }
        },
        "FallingAnthem_BS_VelocityForce_Initialize": {
          "properties": {
            "Actor_AddGravityScale": -2
          },
          "onAdded": [
            {
              "$type": "RemoveVelocityForce",
              "forces": ["RushMoveType"]
            }
          ]
        },
        //水平惯性继承
        "Inertia": {
          "modifierMixins": [
            {
              "$type": "ApplyInertiaVelocityMixin",
              "damping": 0,
              "useXZ": false,
              "useY": false
            }
          ]
        },
        "FallingAnthem_Height_Detect": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "LesserOrEqual"
                }
              ]
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 5,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "Greater"
                }
              ]
            },
            /*					  {
							"$type": "DebugLog",
							"content": "FallingAnthem Height Set True!",
							"predicates":
							[
								{
									"$type": "ByTargetAltitude",
									"value": 3.0,
									"logic": "Greater",
								},
							],
						},*/
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 0,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "LesserOrEqual"
                }
              ]
            },
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 1,
              "predicates": [
                {
                  "$type": "ByTargetAltitude",
                  "value": 2.4,
                  "logic": "Greater"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorFloat",
              "floatID": "FallingAnthem_UseCamera",
              "value": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_ABILITY_FallingAnthem_UseCamera",
              "value": 0,
              "useLimitRange": true,
              "maxValue": 0,
              "minValue": 0
            }
            /*					  {
							"$type": "DebugLog",
							"content": "FallingAnthem Height Reset!",
						},*/
          ]
        },
        "FallingAnthem_OverHead_Camera": {
          "onAdded": [
            {
              "$type": "AvatarCameraParam",
              "lockParam": false,
              "cameraParam": {
                "forceRadius": 4.5,
                "forceRadiusDuration": 0.2,
                "shouldKeepForceRadius": true
              },
              "predicates": [
                {
                  "$type": "ByAnimatorFloat",
                  "parameter": "FallingAnthem_UseCamera",
                  "value": 1,
                  "logic": "Equal"
                }
              ]
            }
          ]
        },
        "FallingAnthem_ClearVelocityForce": {
          "onAdded": [
            {
              "$type": "RemoveVelocityForce",
              "forces": ["RushMoveType", "InertiaType"]
            }
          ]
          /*				  "onRemoved":
					[
						{
							"$type": "RemoveVelocityForce",
							"forces": ["RushMoveType"],
						},
					],*/
        },
        //////////////////////////////
        //
        //
        //
        //////////////////////////////
        "Pole_FallingAnthem_BS_Material": {
          "duration": 0.53,
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Pole_FallingAnthem_BS_Normal"
            }
          ],
          "onRemoved": [
            {
              "$type": "ActCameraRadialBlur",
              "cameraRadialBlur": {
                "power": 0.3,
                "blurTime": 0.3,
                "fadeTime": 0.15
              }
            }
          ]
        },
        "Pole_FallingAnthem_LoopDamage": {
          "onAdded": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 1.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 1
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "FallingAttack",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Loop_Damage",
                    "strikeType": "Slash",
                    "overrideByWeapon": true,
                    "attackType": "Melee",
                    "elementType": "None",
                    "elementDurability": 0,
                    "enBreak": 25
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false
                  }
                }
              }
            }
          ],
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 1.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 1
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "FallingAttack",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Loop_Damage",
                    "strikeType": "Slash",
                    "overrideByWeapon": true,
                    "attackType": "Melee",
                    "elementType": "None",
                    "elementDurability": 0,
                    "enBreak": 25
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        },
        "Pole_FallingAnthem_Loop_Normal": {
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_FallingAnthem_UseCamera",
              "valueSteps": [-1, 0.5, 1.5],
              "removeAppliedModifier": true,
              "modifierNameSteps": [
                "Pole_FallingAnthem_Loop_Normal_Rank_1",
                "Pole_FallingAnthem_Loop_Normal_Rank_2"
              ]
            }
          ]
        },
        "Pole_FallingAnthem_Loop_Normal_Rank_1": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Pole_FallingAnthem_Loop_01_Normal"
            }
          ]
        },
        "Pole_FallingAnthem_Loop_Normal_Rank_2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Pole_FallingAnthem_Loop_02_Normal"
            }
          ]
        },
        //////////////////////////////
        //
        //
        //
        //////////////////////////////
        "Katana_FallingAnthem_AttachWeaponEffect": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_FallAnthem_Self_01"
            }
          ]
        },
        "Katana_FallingAnthem_CameraRadialBlur": {
          "duration": 0.23,
          "modifierMixins": [
            {
              "$type": "CameraBlurMixin",
              "cameraRadialBlur": {
                "power": 0.3,
                "fadeTime": 0.15
              }
            }
          ]
        },
        "Katana_FallingAnthem_BS_Material": {
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_FallAnthem_BS"
            }
          ]
        },
        "Katana_FallingAnthem_LoopDamage": {
          "thinkInterval": 0.3,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackSphere",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 1.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 1
                    }
                  },
                  "massiveAttackRatio": 0.6
                },
                "attackInfo": {
                  "attackTag": "Elemental_Burst",
                  "attackProperty": {
                    "damagePercentage": "%FallingAnthem_Normal_Loop_Katana_Damage+%KatanaDamageDelta",
                    "strikeType": "Slash",
                    "overrideByWeapon": false,
                    "attackType": "Melee",
                    "elementType": "Electric",
                    "elementDurability": 0,
                    "enBreak": 25
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV2",
                    // "hitLevel": "Light", //hitlevel = 2
                    // "hitImpulseX": 200, //hitlevel = 2
                    // "hitImpulseY": 0, //hitlevel = 2
                    "reboundRatio": 0,
                    "canBeDefenceHalt": false,
                    "hitHaltTime": 0,
                    "hitHaltTimeScale": 0.02,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        },
        "Katana_FallingAnthem_Loop_Normal": {
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_ABILITY_FallingAnthem_UseCamera",
              "valueSteps": [-1, 0.5, 1.5],
              "removeAppliedModifier": true,
              "modifierNameSteps": [
                "Katana_FallingAnthem_Loop_Normal_Rank_1",
                "Katana_FallingAnthem_Loop_Normal_Rank_2"
              ]
            }
          ]
        },
        "Katana_FallingAnthem_Loop_Normal_Rank_1": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_FallAnthem_Loop_01"
            }
          ]
        },
        "Katana_FallingAnthem_Loop_Normal_Rank_2": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Avatar_Lady_Pole_Shougun_FallAnthem_Loop_02"
            }
          ]
        }
      },
      "abilitySpecials": {
        "FallingAnthem_Normal_Loop_Damage": 0,
        "FallingAnthem_Normal_Rank_1_Damage": 0,
        "FallingAnthem_Normal_Rank_2_Damage": 0,
        "FallingAnthem_Normal_Loop_Katana_Damage": 0,
        "FallingAnthem_Normal_Rank_1_Katana_Damage": 0,
        "FallingAnthem_Normal_Rank_2_Katana_Damage": 0,
        "KatanaDamageDelta": 0,

        "FallingAnthem_Altitude_Lv0": 20,
        "FallingAnthem_Altitude_Lv1": 40,
        "FallingAnthem_Altitude_Lv2": 60,
        "FallingAnthem_Altitude_Lv3": 100,
        "FallingAnthem_Altitude_Lv4": 200,

        "FallingAnthem_FallingDamageRatio_Lv0": -1,
        "FallingAnthem_FallingDamageRatio_Lv1": -1,
        "FallingAnthem_FallingDamageRatio_Lv2": -0.9,
        "FallingAnthem_FallingDamageRatio_Lv3": -0.8,
        "FallingAnthem_FallingDamageRatio_Lv4": -0.6,

        "FallingAnthem_FallingDamageRatio": 0
      }
    }
  }
]
