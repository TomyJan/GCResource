[
  ////////////////////////////////////////////////////////////////
  //
  //  转向
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_Steer",
      "abilityMixins": [
        {
          "$type": "AnimatorRotationCompensateMixin",
          "animatorStateIDs": ["TurnLeft"],
          "animationRotate": -90,
          "angleLimit": 180
        },
        {
          "$type": "AnimatorRotationCompensateMixin",
          "animatorStateIDs": ["TurnRight"],
          "animationRotate": 90,
          "angleLimit": 180
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["WaterSpear"],
          "startNormalizedTime": 0,
          "endNormalizedTime": 0.04,
          "angularSpeed": 100,
          "attackTrigger": "",
          "attackDistance": 0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["Detect"],
          "startNormalizedTime": 0,
          "endNormalizedTime": 0.5,
          "angularSpeed": 360,
          "attackTrigger": "",
          "attackDistance": 0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["CounterAtk"],
          "startNormalizedTime": 0,
          "endNormalizedTime": 0.1,
          "angularSpeed": 360,
          "attackTrigger": "",
          "attackDistance": 0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["FieldOpen"],
          "startNormalizedTime": 0,
          "endNormalizedTime": 0.1,
          "angularSpeed": 360,
          "attackTrigger": "",
          "attackDistance": 0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["Capture"],
          "startNormalizedTime": 0,
          "endNormalizedTime": 0.5,
          "angularSpeed": 360,
          "attackTrigger": "",
          "attackDistance": 0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["WaterTomb"],
          "startNormalizedTime": 0,
          "endNormalizedTime": 0.5,
          "angularSpeed": 360,
          "attackTrigger": "",
          "attackDistance": 0
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  水流子弹普通版
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_WaterSpear_Normal",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_WaterSpear_Normal_Bullet"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "RemoveModifier",
          "modifierName": "Monster_Fatuus_Maiden_WaterSpear_Normal_Bullet"
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterSpear_Bullet_Explode"
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 0.7,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attenuationGroup": "Skirmisher_Fat_SprayGun_Ice",
              "attackProperty": {
                "damagePercentage": 0.625,
                "strikeType": "Slash",
                "elementType": "Water",
                "enBreak": 101,
                "elementDurability": 50
              },
              "hitPattern": {
                "onHitEffectName": "default",
                "hitImpulseType": "LV2",
                "muteHitText": false
              }
            }
          }
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_WaterSpear_Normal_Bullet": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterSpear_Bullet"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterSpear_Bullet_Trail"
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal1",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_CreateWaterSpear_BS",
          "born": {
            "$type": "ConfigBornBySelf"
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal1_Delay"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal1_Delay": {
          "duration": 0.2,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal1"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal1": {
          "duration": 0.86,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_CreateWaterSpear",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 1.8,
                  "z": 0.6
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearBullet_Normal1"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireWaterSpearBullet_Normal1": {
          "duration": 0.86,
          "onRemoved": [
            {
              "$type": "TriggerBullet",
              "bulletID": 42305001,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 1.8,
                  "z": 0.6
                },
                "direction": {
                  "$type": "ConfigDirectionByAttackTarget"
                }
              }
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal2",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_CreateWaterSpear_BS",
          "born": {
            "$type": "ConfigBornBySelf"
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal2_Delay"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "WaterSpear_TwoCombo",
          "normalizeStart": 0.16,
          "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal2_Combo"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal2_Delay": {
          "duration": 0.2,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal2"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal2": {
          "duration": 0.8,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_CreateWaterSpear",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 1.8,
                  "z": 0.6
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearBullet_Normal2"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireWaterSpearBullet_Normal2": {
          "duration": 0.8,
          "onRemoved": [
            {
              "$type": "TriggerBullet",
              "bulletID": 42305001,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 1.8,
                  "z": 0.6
                },
                "direction": {
                  "$type": "ConfigDirectionByAttackTarget"
                }
              }
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal2_Combo": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal2_ComboFire"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireWaterSpearNormal2_ComboFire": {
          "duration": 0.42,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_CreateWaterSpear",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 1.8,
                  "z": 0.6
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearBullet_Normal2_ComboFire"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireWaterSpearBullet_Normal2_ComboFire": {
          "duration": 0.42,
          "onRemoved": [
            {
              "$type": "TriggerBullet",
              "bulletID": 42305001,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 1.8,
                  "z": 0.6
                },
                "direction": {
                  "$type": "ConfigDirectionByAttackTarget"
                }
              }
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  水流子弹强化班 3弹齐射
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_WaterSpear_Power",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_WaterSpear_Power_Bullet"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "RemoveModifier",
          "modifierName": "Monster_Fatuus_Maiden_WaterSpear_Power_Bullet"
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterSpear_Bullet_Explode"
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 0.7,
              "born": {
                "$type": "ConfigBornByCollisionPoint"
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attenuationGroup": "Skirmisher_Fat_SprayGun_Ice",
              "attackProperty": {
                "damagePercentage": 0.5,
                "strikeType": "Slash",
                "elementType": "Water",
                "enBreak": 101,
                "elementDurability": 50
              },
              "hitPattern": {
                "onHitEffectName": "default",
                "hitImpulseType": "LV2",
                "muteHitText": false
              }
            }
          }
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_WaterSpear_Power_Bullet": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterSpear_Bullet"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterSpear_Bullet_Trail"
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_FireWaterSpearPower",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_CreateWaterSpear_BS",
          "born": {
            "$type": "ConfigBornBySelf"
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearPower_Delay"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_FireWaterSpearPower_Delay": {
          "duration": 0.3,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireWaterSpearPower"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireWaterSpearPower": {
          "duration": 1.5,
          "onAdded": [
            {
              "$type": "FireSubEmitterEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_CreateWaterSpearPower",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 1,
                  "y": 1.7,
                  "z": 0.6
                }
              }
            },
            {
              "$type": "FireSubEmitterEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_CreateWaterSpearPower",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": -1,
                  "y": 1.7,
                  "z": 0.6
                }
              }
            },
            {
              "$type": "FireSubEmitterEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_CreateWaterSpearPower",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 1.2,
                  "z": 0.6
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerBullet",
              "bulletID": 42305006,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 1,
                  "y": 1.7,
                  "z": 0.6
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0,
                    "y": 60,
                    "z": 0
                  }
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 42305006,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": -1,
                  "y": 1.7,
                  "z": 0.6
                },
                "direction": {
                  "$type": "ConfigDirectionByDefault",
                  "angleOffset": {
                    "x": 0,
                    "y": -60,
                    "z": 0
                  }
                }
              }
            },
            {
              "$type": "TriggerBullet",
              "bulletID": 42305006,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 1.2,
                  "z": 0.6
                }
              }
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  水牢发生器(锁定探测gadget释放)
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_DetectOnceFollow",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_FireCapture_ToLockGadget"
        }
      ],
      "modifiers": {
        //水牢预警modifier
        "Monster_Fatuus_Maiden_Water_FireCapture_ToLockGadget": {
          "duration": 0.8,
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Capture_Warning",
              "born": {
                "$type": "ConfigBornByTarget",
                "onGround": true,
                "onGroundIgnoreWater": true
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "CreateGadget",
              "gadgetID": 42305003,
              "born": {
                "$type": "ConfigBornBySelf",
                "onGround": true,
                "onGroundIgnoreWater": true
              }
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  探测跟随物件
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_DetectLockObj",
      "onAdded": [
        //锁定玩家标记特效。由玩家的team创建，锁定玩家其实锁定的是身上的gadget，
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_DetectLockObj"
        },
        {
          "$type": "SetGlobalValue",
          "key": "_FATUUS_MAIDEN_WATER_DETECT_SKILL",
          "value": 0
        },
        {
          "$type": "SetGlobalValue",
          "key": "_IS_FATUUS_MAIDEN_WATER_DETECTED_OBJ",
          "value": 1
        },
        //判断距离，如果距离怪物或者玩家过远。则直接删除锁定的gadget，
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDistanceToOwner"
        }
        // //给Team上一个modifier，每隔5秒（5秒足够探测gadget重连恢复出来），判断一次自身周围有没有gadget，没有的话把被探测到的value重置,用来处理传送走后的保底。
        // {
        // 	"$type": "ApplyModifier",
        // 	"target": "Owner",
        // 	"modifierName": "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss"
        // }
      ],
      "onKill": [
        {
          "$type": "RemoveModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_DetectLockObj"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_FATUUS_MAIDEN_WATER_DETECT_DIE",
          "valueSteps": [-0.5, 0.5, 1.5],
          "modifierNameSteps": [
            "Fatuus_Maiden_Water_Detect_Alive",
            "Fatuus_Maiden_Water_Detect_Die"
          ]
        }
      ],
      "onAbilityStart": [],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss": {
          "stacking": "Refresh",
          "duration": 600,
          "thinkInterval": 5,
          "onThinkInterval": [
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
              "value": 0
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42305005
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Gadget"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "target": "Self",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
                  "value": 1
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
              "value": 0,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDistanceToOwner": {
          "thinkInterval": 2,
          "onAdded": [],
          "onThinkInterval": [
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_OWNER",
              "value": 0
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR40",
                "campBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "centerBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Monster"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_FATUUS_MAIDEN_WATER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_OWNER",
                  "value": 1
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_DIE",
              "value": 1,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_OWNER",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_TEAM_OWNER",
              "value": 0
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR0_5",
                "campBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "centerBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_TEAM_OWNER",
                  "value": 1
                }
              ]
            },
            {
              "$type": "AddGlobalValue",
              "key": "_DETECT_OBJ_NOT_NEAR_TEAM_CHECKTIMES",
              "value": 1,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_TEAM_OWNER",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Detect_Obj_DoubleCheckTimer",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_TEAM_OWNER",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_DIE",
              "value": 1,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_DETECT_OBJ_NOT_NEAR_TEAM_CHECKTIMES",
                  "value": 2,
                  "compareType": "MoreThanAndEqual"
                }
              ]
            }
          ]
        },
        "Detect_Obj_DoubleCheckTimer": {
          "duration": 2.5,
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_DETECT_OBJ_NOT_NEAR_TEAM_CHECKTIMES",
              "value": 0
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_DetectLockObj": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Detect_Mark"
            }
          ]
        },
        "Fatuus_Maiden_Water_Detect_Alive": {},
        "Fatuus_Maiden_Water_Detect_Die": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Owner",
              "modifierName": "Monster_Fatuus_Maiden_Water_Detect_Delete"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_DetectLockObj"
            },
            {
              "$type": "KillSelf"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_Detect_Delete": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
              "value": 0
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_DetectObj",
      "onAdded": [
        {
          "$type": "Predicated",
          "target": "Owner",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "target": "Self",
              "modifierName": "Monster_Fatuus_Maiden_DetectOnce_Timer"
            }
          ],
          "failActions": [
            {
              "$type": "ApplyModifier",
              "target": "Self",
              "modifierName": "Monster_Fatuus_Maiden_DetectObj_Timer"
            }
          ]
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_Detect_MarkCheck"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_DetectOnce_Timer": {
          "duration": 1.5,
          "onAdded": [
            {
              "$type": "FireSubEmitterEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_DetectOnce_Warning"
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_sfx_monster_fatuus_maiden_water_vfx_detectOnce_warning"
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_DetectOnce_Explode_Damage"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_DetectOnce_Explode_Damage": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "FireSubEmitterEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_DetectOnce_Explode"
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_sfx_monster_fatuus_maiden_water_vfx_detectOnce_explode"
                }
              }
            },
            {
              "$type": "TriggerAttackEvent",
              "target": "Self",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 3,
                  "height": 2,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0,
                      "y": -0.2,
                      "z": 0
                    }
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackProperty": {
                    "damagePercentage": 0.625,
                    "strikeType": "Blunt",
                    "enBreak": 100,
                    "elementType": "Water",
                    "elementDurability": 50
                  },
                  "hitPattern": {
                    "onHitEffectName": "",
                    "hitImpulseType": "LV0"
                  }
                }
              }
            }
          ]
        },
        "Monster_Fatuus_Maiden_DetectObj_Timer": {
          "duration": 2,
          "onAdded": [
            {
              "$type": "FireSubEmitterEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Detect_Duration",
              "born": {
                "$type": "ConfigBornBySelf"
              }
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_sfx_monster_fatuus_maiden_water_vfx_detect_duration"
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "FireSubEmitterEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Detect_Explode",
              "born": {
                "$type": "ConfigBornBySelf"
              }
            },
            {
              "$type": "TriggerAudio",
              "responder": "Caster",
              "operation": {
                "$type": "ConfigAudioEventOp",
                "operation": {
                  "text": "Play_sfx_monster_fatuus_maiden_water_vfx_detect_explode"
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_Detect_Explode_Damage"
            }
          ]
        },
        //探测的伤害，未开眼时释放
        "Monster_Fatuus_Maiden_Water_Detect_Explode_Damage": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "TriggerAttackEvent",
              "target": "Self",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 7,
                  "height": 2,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0,
                      "y": -0.2,
                      "z": 0
                    }
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackTag": "Maiden_Detect_Damage",
                  "attackProperty": {
                    "damagePercentage": 0.625,
                    "strikeType": "Blunt",
                    "enBreak": 100,
                    "elementType": "Water",
                    "elementDurability": 50
                  },
                  "hitPattern": {
                    "onHitEffectName": "",
                    "hitImpulseType": "LV0"
                  }
                }
              }
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_Detect_MarkCheck": {
          "onAttackLanded": [
            {
              //打中目标。给目标上一个modifier，这个modifier会给Team挂一个obj
              "$type": "ApplyModifier",
              "target": "Target",
              "modifierName": "Monster_Fatuus_Maiden_Water_Detect_Mark",
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            },
            //打中目标后怪物标记已探测到玩家
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Maiden_Detect_Damage"]
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Owner",
                  "modifierName": "UNIQUE_Monster_Fatuus_Maiden_Water_Detected"
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss": {
          "stacking": "Refresh",
          "duration": 600,
          "thinkInterval": 5,
          "onThinkInterval": [
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
              "value": 0
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42305005
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Gadget"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "target": "Self",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
                  "value": 1
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
              "value": 0,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_Detect_Mark": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Monster_Fatuus_Maiden_Water_Detect_MarkToTeam"
            }
            //给Team上一个modifier，每隔5秒（5秒足够探测gadget重连恢复出来），判断一次自身周围有没有gadget，没有的话把被探测到的value重置,用来处理传送走后的保底。
            // {
            // 	"$type": "RemoveModifier",
            // 	"target": "Team",
            // 	"modifierName": "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss"
            // },
            // {
            // 	"$type": "ApplyModifier",
            // 	"target": "Team",
            // 	"modifierName": "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss"
            // }
          ]
        },
        //给打中的目标上modifier，由于有可能命中的是remote玩家。所以这里只能让team创建自己的跟踪gadget，怪物要取这些gadget需要通过selecttargetbyshape来取
        "Monster_Fatuus_Maiden_Water_Detect_MarkToTeam": {
          "duration": 0.5,
          "onAdded": [
            //用来测试首次重置team的被探测状态
            // {
            // 	"$type": "SetGlobalValue",
            // 	"key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
            // 	"value": 0
            // },
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "CreateGadget",
                  "target": "Self",
                  "campID": 4001,
                  "gadgetID": 42305005,
                  //"propOwnerIs":"CasterOriginOwner",
                  "lifeByOwnerIsAlive": true,
                  //"sightGroupWithOwner":true,
                  "byServer": true
                },
                {
                  "$type": "SetGlobalValue",
                  "target": "Target",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
                  "value": 1
                }
                // {
                // 	"$type": "ApplyModifier",
                // 	"target": "Target",
                // 	"modifierName": "Monster_Fatuus_Maiden_DetectObj_Created_RemarkForSure"
                // }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_DetectObj_Created_RemarkForSure": {
          "stacking": "Unique",
          "duration": 600,
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
              "value": 0
            }
          ]
        },
        "UNIQUE_Monster_Fatuus_Maiden_Water_Detected": {
          "isUnique": true,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
              "value": 0
            }
          ]
        }
      }
    }
  },
  //本体自身发射探测
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_FireDetect",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_DetectObj_Check"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Monster_Fatuus_Maiden_Water_DieCreateGadget"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToAIAlertnessMixin",
          "alertness": [2],
          "modifierName": "Monster_Fatuus_Maiden_Water_DetectCheck"
        }
        // {
        // 	"$type": "AttachModifierToHPPercentMixin",
        // 	"valueSteps": [0.01],
        // 	"modifierNameSteps": ["Fatuus_Maiden_Hp_High","Fatuus_Maiden_Hp_Dying"]
        // }
      ],
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 42305002,
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": -6,
              "y": 0,
              "z": -6
            },
            "bornRandom": {
              "$type": "BornRandomFromCenter",
              "minRandomRange": 1,
              "maxRandomRange": 3
            },
            "onGround": true,
            "onGroundIgnoreWater": true
          }
        },
        {
          "$type": "CreateGadget",
          "gadgetID": 42305002,
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 6,
              "y": 0,
              "z": -6
            },
            "bornRandom": {
              "$type": "BornRandomFromCenter",
              "minRandomRange": 1,
              "maxRandomRange": 3
            },
            "onGround": true,
            "onGroundIgnoreWater": true
          }
        },
        {
          "$type": "Predicated",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR40",
            "campBasedOn": "Self",
            "campTargetType": "Enemy",
            "centerBasedOn": "Self"
          },
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Avatar"]
            }
          ],
          "successActions": [
            {
              "$type": "CreateGadget",
              "target": "Target",
              "ownerIs": "Caster",
              "propOwnerIs": "Caster",
              "gadgetID": 42305002,
              "born": {
                "$type": "ConfigBornByTarget",
                "bornRandom": {
                  "$type": "BornRandomFromCenter",
                  "minRandomRange": 2,
                  "maxRandomRange": 3.5
                },
                "onGround": true,
                "onGroundIgnoreWater": true
              }
            }
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Monster_Fatuus_Maiden_Water_DieCreateGadget": {
          "isUnique": true,
          "modifierMixins": [
            {
              "$type": "ServerCreateGadgetOnKillMixin",
              "gadgetIDList": [42305010],
              "campID": 4001,
              "campTargetType": "All"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_DetectCheck": {
          "onAdded": [
            {
              "$type": "AttachModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_CheckDetect_Tick"
            }
          ],
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
              "valueSteps": [-0.5, 0.5, 1.5],
              "modifierNameSteps": [
                "Monster_Fatuus_Maiden_Water_GoDetectedEmpty",
                "Monster_Fatuus_Maiden_Water_GoDetected"
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_CheckDetect_Tick": {
          "thinkInterval": 1,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR40",
                "campBasedOn": "Self",
                "campTargetType": "Enemy",
                "centerBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Target",
                  "modifierName": "Monster_Fatuus_Maiden_Water_CheckDetect_ToAvatar"
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_CheckDetect_ToAvatar": {
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss": {
          "stacking": "Refresh",
          "duration": 2,
          "thinkInterval": 1,
          "onThinkInterval": [
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
              "value": 0
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42305005
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Gadget"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "target": "Self",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
                  "value": 1
                },
                {
                  "$type": "SetGlobalValue",
                  "target": "Self",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
                  "value": 1
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
              "value": 0,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_IniatialDetectObj": {
          "duration": 2,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
              "value": 0
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_DetectObj_Check": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_IS_FATUUS_MAIDEN_WATER",
              "value": 1
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_GoDetectedEmpty": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
              "value": 0
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_GoDetected": {
          "stacking": "MultipleRefresh",
          "stackingOption": {
            "maxModifierNumForMultipleType": 1
          },
          "onAdded": [
            {
              "$type": "SetAISkillCDAvailableNow",
              "skillIDs": [901],
              "canBeHandledOnRecover": true
            }
          ]
        },
        "Fatuus_Maiden_Hp_High": {},
        "Fatuus_Maiden_Hp_Dying": {
          "onAdded": []
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  水牢
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_Capture",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_Capture"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_Capture": {
          "duration": 0.1,
          "onAdded": [
            // {
            // 	"$type":"FireEffect",
            // 	"effectPattern":"Eff_Monster_Fatuus_Maiden_Water_Capture_Warning"
            // },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Capture_Attack"
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["Collider"],
              "setEnable": false
            }
          ],
          "onRemoved": [
            // {
            // 	"$type":"FireEffect",
            // 	"effectPattern":"Eff_Monster_Fatuus_Maiden_Water_Capture_Attack"
            // },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["Collider"],
              "setEnable": true
            },
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 0.5,
                  "height": 4,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0,
                      "y": -1.5,
                      "z": 0
                    }
                  }
                },
                "attackInfo": {
                  "attackTag": "Fatuus_Maiden_Water_Capture",
                  "attackProperty": {
                    "damagePercentage": 0.125,
                    "strikeType": "Blunt",
                    "enBreak": 0,
                    "elementType": "Water",
                    "elementDurability": 50
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV0",
                    "muteHitText": false
                  }
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_Capture_EndEffect"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_Capture_EndEffect": {
          "duration": 3.9,
          "onRemoved": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["Collider"],
              "setEnable": false
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_FireCapture",
      "onAbilityStart": [
        //判断是否存在探测锁定物件，存在则让锁定物件释放攻击，不存在则直接对selfattacktarget释放
        {
          "$type": "SetGlobalValue",
          "key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_TARGET",
          "value": 1
        },
        {
          "$type": "SetGlobalValue",
          "key": "_FATUUS_MAIDEN_WATER_CAPTURE_TIMES",
          "value": 0
        },
        {
          "$type": "Predicated",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR50",
            "campBasedOn": "Self",
            "campTargetType": "AllExceptSelf",
            "centerBasedOn": "Self",
            "sortType": "Random",
            "topLimit": 1
          },
          "predicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Gadget"]
            },
            {
              "$type": "ByTargetGlobalValue",
              "key": "_IS_FATUUS_MAIDEN_WATER_DETECTED_OBJ",
              "value": 1
            }
          ],
          "targetPredicates": [
            {
              "$type": "ByEntityTypes",
              "entityTypes": ["Gadget"]
            },
            {
              "$type": "ByTargetGlobalValue",
              "key": "_IS_FATUUS_MAIDEN_WATER_DETECTED_OBJ",
              "value": 1
            }
          ],
          "successActions": [
            {
              "$type": "ApplyModifier",
              "target": "Target",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireCapture_ToLockGadget"
            },
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_TARGET",
              "value": 0
            }
          ],
          "failActions": []
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_FireCapture_ToSelfAttackTarget",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_TARGET",
              "value": 1,
              "compareType": "Equal",
              "forceByCaster": true
            }
          ]
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_Capture_FireDetect_ToSelfAttackTarget": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Monster_Fatuus_Maiden_Water_Capture_FireDetect_ToSelfAttackTeam"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_Capture_FireDetect_ToSelfAttackTeam": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Caster",
              "modifierName": "Monster_Fatuus_Maiden_Water_Capture_FireDetect_Monster"
            }
          ]
        },
        //开眼状态下找不到目标，就给selfattacktarget重新上一个探测gadget
        "Monster_Fatuus_Maiden_Water_Capture_FireDetect_Monster": {
          "duration": 1,
          "onAdded": []
        },
        "Monster_Fatuus_Maiden_DetectObj_Created_RemarkForSure": {
          "stacking": "Refresh",
          "duration": 600,
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
              "value": 0
            }
          ]
        },
        // "Monster_Fatuus_Maiden_Water_Capture_FireEffToTeam":{
        // 	"duration": 1,
        // 	"onAdded": [
        // 		{
        // 			"$type": "ApplyModifier",
        // 			"target": "Team",
        // 			"modifierName": "Monster_Fatuus_Maiden_Water_Capture_EffToTeam"
        // 		}
        // 	]
        // },
        "Monster_Fatuus_Maiden_Water_FireCapture_ToTeam": {
          "duration": 0.8,
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Capture_Warning",
              "born": {
                "$type": "ConfigBornBySelf",
                "onGround": true,
                "onGroundIgnoreWater": true
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "target": "Caster",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireCapture_Monster"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireCapture_ToSelfAttackTarget": {
          "duration": 0.8,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireCapture_ToTeam"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireCapture_ToLockGadget": {
          "duration": 0.8,
          "onAdded": [
            {
              "$type": "FireEffect",
              "target": "Target",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Capture_Warning",
              "born": {
                "$type": "ConfigBornByTarget",
                "onGround": true,
                "onGroundIgnoreWater": true
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "target": "Caster",
              "modifierName": "Monster_Fatuus_Maiden_Water_FireCapture_Monster"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireCapture_Monster": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetGlobalPos",
              "target": "Applier",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_POS",
              "born": {
                "$type": "ConfigBornByTarget",
                "onGround": true,
                "onGroundIgnoreWater": true
              },
              "setTarget": false
            },
            {
              "$type": "CreateGadget",
              "gadgetID": 42305003,
              "born": {
                "$type": "ConfigBornByGlobalValue",
                "positionKey": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_POS"
              }
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  水流葬
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_WaterTomb_Damage",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_WaterTomb_Damage_Delay"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_WaterTomb_Damage_Delay": {
          "duration": 0.6,
          "onAdded": [
            // {
            // 	"$type":"FireSubEmitterEffect",
            // 	"effectPattern":"Eff_Monster_Fatuus_Maiden_Water_WaterTomb_Attack"
            // },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterTomb_Attack"
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_WaterTomb_Damage"
            }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_Damage": {
          "duration": 0.3,
          "thinkInterval": 0.05,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 3,
                  "height": 4,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0,
                      "y": -1,
                      "z": 0
                    }
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackProperty": {
                    "damagePercentage": 0.1625,
                    "strikeType": "Blunt",
                    "enBreak": 0,
                    "elementType": "Water",
                    "elementDurability": 50
                  },
                  "hitPattern": {
                    "hitImpulseType": "LV0"
                  }
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_WaterTomb_FinalDamage"
            }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_FinalDamage": {
          "duration": 0.5,
          "onRemoved": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "radius": 3,
                  "height": 4,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0,
                      "y": -1,
                      "z": 0
                    }
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackProperty": {
                    "damagePercentage": 0.975,
                    "strikeType": "Blunt",
                    "enBreak": 101,
                    "elementType": "Water",
                    "elementDurability": 50
                  },
                  "hitPattern": {
                    "hitImpulseType": "LV4"
                  }
                }
              }
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_FireWaterTomb",
      "abilityMixins": [
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "WaterTomb_Loop",
          "normalizeStart": 0,
          "normalizeEnd": 4,
          "modifierName": "Monster_Fatuus_Maiden_WaterTomb_LockTarget"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "WaterTomb_BS",
          "normalizeStart": 0,
          "normalizeEnd": 4,
          "modifierName": "Monster_Fatuus_Maiden_WaterTomb_EffectStart"
        }
      ],
      "onAbilityStart": [
        //判断是否存在探测锁定物件，存在则让锁定物件释放攻击，不存在则直接对selfattacktarget释放
        // {
        // 	"$type": "SetGlobalValue",
        // 	"key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_TARGET",
        // 	"value": 1
        // },
        // {
        // 	"$type": "Predicated",
        // 	"otherTargets":{
        // 		"$type": "SelectTargetsByShape",
        // 		"shapeName": "CircleR50",
        // 		"campBasedOn": "Self",
        // 		"campTargetType": "AllExceptSelf",
        // 		"centerBasedOn": "Self",
        // 		"sortType": "Default"
        // 	},
        // 	"targetPredicates": [
        // 		{
        // 			"$type": "ByEntityTypes",
        // 			"entityTypes": ["Gadget"]
        // 		},
        // 		{
        // 			"$type": "ByTargetGlobalValue",
        // 			"key": "_IS_FATUUS_MAIDEN_WATER_DETECTED_OBJ",
        // 			"value": 1
        // 		}
        // 	],
        // 	"successActions": [
        // 		// {
        // 		// 	"$type":"SetGlobalValue",
        // 		// 	"target": "Target",
        // 		// 	"key":"_FATUUS_MAIDEN_WATER_DETECT_SKILL",
        // 		// 	"value":2,
        // 		// },
        // 		// {
        // 		// 	"$type":"TriggerAbility",
        // 		// 	"abilityName":"Monster_Fatuus_Maiden_Water_DetectLockObj",
        // 		// 	"target": "Target",
        // 		// },
        // 		{
        // 			"$type": "SetGlobalPos",
        // 			"target": "Target",
        // 			"key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_POS",
        // 			"born":{
        // 				"$type": "ConfigBornByTarget",
        // 				"onGroundIgnoreWater": true
        // 			},
        // 			"setTarget": false
        // 		},
        // 		{
        // 			"$type": "CreateGadget",
        // 			"target": "Self",
        // 			"gadgetID": 42305004,
        // 			"born": {
        // 				"$type": "ConfigBornByGlobalValue",
        // 				"positionKey": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_POS"
        // 			}
        // 		},
        // 		{
        // 			"$type": "SetGlobalValue",
        // 			"target": "Self",
        // 			"key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_TARGET",
        // 			"value": 0
        // 		},
        // 	],
        // 	"failActions": [
        // 	]
        // },
        // {
        // 	"$type": "SetGlobalPos",
        // 	"target": "SelfAttackTarget",
        // 	"key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_POS",
        // 	"born":{
        // 		"$type": "ConfigBornByTarget",
        // 		"onGroundIgnoreWater": true
        // 	},
        // 	"setTarget": false
        // },
        // {
        // 	"$type": "CreateGadget",
        // 	"gadgetID": 42305004,
        // 	"born": {
        // 		"$type": "ConfigBornByGlobalValue",
        // 		"positionKey": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_POS"
        // 	},
        // 	"predicates": [
        // 		{
        // 			"$type": "ByTargetGlobalValue",
        // 			"key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_TARGET",
        // 			"value": 1,
        // 			"compareType": "Equal"
        // 		}
        // 	]
        // }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_WaterTomb_EffectStart": {
          "onAdded": [
            //本体施法特效
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_WaterTomb_ChargeEffBS"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_WaterTomb_ChargeEffLoopDelay"
            }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_ChargeEffBS": {
          "duration": 2.5,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterTomb_ChargeBS"
            }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_ChargeEffLoopDelay": {
          "duration": 0.65,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_WaterTomb_ChargeEffLoop"
            }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_ChargeEffLoop": {
          "duration": 2.85,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterTomb_ChargeLoop"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_WaterTomb_ChargeEffLoopController_End"
            }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_ChargeEffLoopController_End": {
          "duration": 1.45,
          "onRemoved": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "ChargeLoopOver",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterTomb_ChargeLoop"
            }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_LockTarget": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_WATERTOMB_TARGET",
              "value": 1
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "campBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "centerBasedOn": "Self",
                "sortType": "Random",
                "topLimit": 1
              },
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Gadget"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_FATUUS_MAIDEN_WATER_DETECTED_OBJ",
                  "value": 1
                }
              ],
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Gadget"]
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_FATUUS_MAIDEN_WATER_DETECTED_OBJ",
                  "value": 1
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Target",
                  "modifierName": "Monster_Fatuus_Maiden_WaterTomb_LockEffect"
                },
                {
                  "$type": "SetGlobalValue",
                  "target": "Self",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_WATERTOMB_TARGET",
                  "value": 0
                }
              ],
              "failActions": []
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_WaterTomb_LockTarget_Eff",
              "target": "SelfAttackTarget",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_WATERTOMB_TARGET",
                  "value": 1,
                  "forceByCaster": true,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_LockTarget_Eff": {
          "duration": 2.13,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Monster_Fatuus_Maiden_WaterTomb_LockEffect"
            }
            // {
            // 	"$type": "TriggerBullet",
            // 	"bulletID": 42305007,
            // 	"trackTarget": "Target",
            // 	"lifeByOwnerIsAlive": true,
            // 	"born":{
            // 		"$type": "ConfigBornByTarget",
            // 		"offset": {
            // 			"x": 0,
            // 			"y": 1,
            // 			"z": 1
            // 		}
            // 	},
            // }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_LockEffect": {
          "duration": 2.13,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterTomb_LockTarget"
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "target": "Caster",
              "modifierName": "Monster_Fatuus_Maiden_WaterTomb_Attack_Monster"
            }
          ]
        },
        "Monster_Fatuus_Maiden_WaterTomb_Attack_Monster": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "SetGlobalPos",
              "target": "Applier",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_POS",
              "born": {
                "$type": "ConfigBornByTarget",
                "onGround": true,
                "onGroundIgnoreWater": true
              },
              "setTarget": false
            },
            {
              "$type": "CreateGadget",
              "target": "Self",
              "gadgetID": 42305004,
              "born": {
                "$type": "ConfigBornByGlobalValue",
                "positionKey": "_MONSTER_FATUUS_MAIDEN_WATER_CAPTURE_POS"
              }
            }
          ]
        }
      }
    }
  },
  /////////////////////////////////////////////////////////////////
  //
  //  水流葬锁定目标环绕效果
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_WaterTomb_Lock",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_WaterTomb_LockEffect"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_WaterTomb_LockEffect": {
          "duration": 2,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_WaterTomb_LockTarget"
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  闪烁的传送门
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_BlinkGate",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Test_Maiden_Water_ShaderCut"
        }
      ],
      "onKill": [
        {
          "$type": "RemoveModifier",
          "modifierName": "Monster_Test_Maiden_Water_ShaderCut"
        }
      ],
      "modifiers": {
        "Monster_Test_Maiden_Water_ShaderCut": {
          "modifierMixins": [
            {
              "$type": "SendPostionToShaderCutMixin",
              "sendTarget": "Owner",
              "sendRadius": 15,
              "scale": {
                "x": 1,
                "y": 3,
                "z": 0.55
              }
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Blink
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_Blink",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_Blink_ShowBodyForSure"
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Blink_BS",
          "normalizeStart": 0,
          "normalizeEnd": 0.4,
          "modifierName": "Monster_Fatuus_Maiden_Water_BlinkApplyInVincible"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Blink_BS",
          "normalizeStart": 0.65,
          "normalizeEnd": 0.7,
          "modifierName": "Monster_Fatuus_Maiden_Water_BlinkBS"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Blink_BS",
          "normalizeStart": 0.1,
          "normalizeEnd": 0.65,
          "modifierName": "Monster_Fatuus_Maiden_Water_BlinkCutShader"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "CounterBlink_BS",
          "normalizeStart": 0,
          "normalizeEnd": 0.4,
          "modifierName": "Monster_Fatuus_Maiden_Water_BlinkApplyInVincible"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "CounterBlink_BS",
          "normalizeStart": 0.65,
          "normalizeEnd": 0.7,
          "modifierName": "Monster_Fatuus_Maiden_Water_BlinkBS"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "CounterBlink_BS",
          "normalizeStart": 0.1,
          "normalizeEnd": 0.65,
          "modifierName": "Monster_Fatuus_Maiden_Water_BlinkCutShader"
        },
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "BlinkForward",
          "normalizeStart": 0,
          "normalizeEnd": 0.4,
          "modifierName": "Monster_Fatuus_Maiden_Water_BlinkForward_Handler"
        },
        {
          "$type": "ServerFinishWatcherMixin",
          "watcherId": 82096,
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Self",
              "key": "_WATCHER_82096_",
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_BlinkCutShader": {
          "onAdded": [
            {
              "$type": "CreateGadget",
              "gadgetID": 42305009,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": -0.7
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 42305009
              }
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkApplyInVincible": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkInVincible"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkInVincible": {
          "duration": 1.5,
          "onAdded": [
            // {
            // 	"$type": "HideUIBillBoard",
            // 	"hide": true,
            // 	"target": "Self",
            // }
          ],
          "onRemoved": [
            // {
            // 	"$type": "HideUIBillBoard",
            // 	"hide": false,
            // 	"target": "Self",
            // }
          ]
        },
        "Monster_Fatuus_Maiden_Water_Blink_ShowBodyForSure": {
          "onChangeAuthority": [
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox", "HeadBox"],
              "setEnable": true
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": true
            },
            {
              "$type": "TriggerSetVisible",
              "visible": true,
              "target": "Self"
            },
            {
              "$type": "HideUIBillBoard",
              "hide": false,
              "target": "Self"
            }
          ],
          "onReconnect": [
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox", "HeadBox"],
              "setEnable": true
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": true
            },
            {
              "$type": "TriggerSetVisible",
              "visible": true,
              "target": "Self"
            },
            {
              "$type": "HideUIBillBoard",
              "hide": false,
              "target": "Self"
            }
          ],
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Fatuus_Maiden_Water_Capture"]
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "target": "Self",
                  "key": "_WATCHER_82096_",
                  "value": 1
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkBS": {
          "onAdded": [
            // {
            // 	"$type":"AttachEffect",
            // 	"effectPattern":"Eff_Monster_Fatuus_Maiden_Water_Blink_Mirror_Trail"
            // },
            {
              "$type": "TryFindBlinkPointByBorn",
              "hitSceneType": "BlinkHitSceneTestByThreeSegments",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": -8
                },
                "bornRandom": {
                  "$type": "BornRandomFromCenter",
                  "maxRandomRange": 5,
                  "minRandomRange": 0
                }
              },
              "ignoreWater": true
            },
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByFindBlinkPointSuccess",
                  "findPointSuccess": false
                }
              ],
              "successActions": [
                {
                  "$type": "TryFindBlinkPointByBorn",
                  "hitSceneType": "BlinkHitSceneTestByThreeSegments",
                  "target": "SelfAttackTarget",
                  "born": {
                    "$type": "ConfigBornByTargetLinearPoint",
                    "baseOnTarget": true,
                    "linearOffset": 8,
                    "bornRandom": {
                      "$type": "BornRandomFromCenter",
                      "minRandomRange": 2,
                      "maxRandomRange": 5
                    }
                  },
                  "ignoreWater": true
                }
              ]
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkTimer"
            },
            {
              "$type": "DoBlink"
            },
            {
              "$type": "SetSelfAttackTarget",
              "target": "SelfAttackTarget",
              "turnToTargetImmediately": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkAS_Eff"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkTimer": {
          "duration": 0.75,
          "onAdded": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": false
            },
            {
              "$type": "TriggerSetVisible",
              "visible": false,
              "target": "Self"
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "target": "Self"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkAS_ShaderCut_Delay"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "ReachTarget"
            },
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox", "HeadBox"],
              "setEnable": true
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": true
            },
            {
              "$type": "HideUIBillBoard",
              "hide": false,
              "target": "Self"
            },
            {
              "$type": "TriggerSetVisible",
              "visible": true,
              "target": "Self"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkAS_ShaderCut_Delay": {
          "duration": 0.4,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkAS_ShaderCut"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkAS_ShaderCut": {
          "duration": 1.5,
          "onAdded": [
            {
              "$type": "CreateGadget",
              "gadgetID": 42305009,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": -0.2
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 42305009
              }
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkAS_Eff": {
          "duration": 0.3,
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Blink_AS",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": 0.2
                }
              }
            }
          ]
        },
        //向前闪现
        "Monster_Fatuus_Maiden_Water_BlinkForward_Handler": {
          "onAdded": [
            {
              "$type": "TryFindBlinkPointByBorn",
              "hitSceneType": "BlinkHitSceneTestByThreeSegments",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": 12
                },
                "bornRandom": {
                  "$type": "BornRandomFromCenter",
                  "maxRandomRange": 5,
                  "minRandomRange": 0
                }
              },
              "ignoreWater": true
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Blink_AS",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": 0.2
                }
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkForward_ShaderCutBS_Delay"
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkForward_Hide"
            },
            {
              "$type": "DoBlink"
            },
            {
              "$type": "SetSelfAttackTarget",
              "target": "SelfAttackTarget",
              "turnToTargetImmediately": true
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkForward_ShaderCutBS_Delay": {
          "duration": 0.1,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkForward_ShaderCutBS"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkForward_ShaderCutBS": {
          "duration": 1.3,
          "onAdded": [
            {
              "$type": "CreateGadget",
              "gadgetID": 42305009,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": 0.65
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 42305009
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkForward_ShaderCutASDelay"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Blink_AS",
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": 0
                }
              }
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkForward_ShaderCutASDelay": {
          "duration": 0.1,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_BlinkForward_ShaderCutAS"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkForward_ShaderCutAS": {
          "duration": 1.5,
          "onAdded": [
            {
              "$type": "CreateGadget",
              "gadgetID": 42305009,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0,
                  "y": 0,
                  "z": -0.55
                }
              }
            }
          ],
          "onRemoved": [
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 42305009
              }
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_BlinkForward_Hide": {
          "duration": 0.8,
          "onAdded": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": false
            },
            {
              "$type": "TriggerSetVisible",
              "visible": false,
              "target": "Self"
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "target": "Self"
            }
          ],
          "onRemoved": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": true
            },
            {
              "$type": "TriggerSetVisible",
              "visible": true,
              "target": "Self"
            },
            {
              "$type": "HideUIBillBoard",
              "hide": false,
              "target": "Self"
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  开眼
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_OpenField",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_FieldCheck"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_OpenField_Handler"
        }
      ],
      "onKill": [
        {
          "$type": "SetGlobalValue",
          "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
          "value": 0
        }
        // {
        // 	"$type": "RemoveModifier",
        // 	"modifierName": "Monster_Fatuus_Maiden_Water_HandEffect"
        // }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [901],
          "modifierName": "Monster_Fatuus_Maiden_Water_OutOfBattle"
        },
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_MONSTER_FATUUS_MAIDEN_OPEN",
          "valueSteps": [-0.5, 0.5, 1.5],
          "modifierNameSteps": [
            "Monster_Fatuus_Maiden_Water_Close",
            "Monster_Fatuus_Maiden_Water_Open"
          ]
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["BlinkForward", "Blink_BS", "Blink_AS"],
          "modifierName": "Monster_Fatuus_Maiden_Water_BodyEffectHandler"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_BodyEffectHandler": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_OpenEye_Effect"
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_OpenEye_Effect",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ],
          "onChangeAuthority": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_OpenEye_Effect",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ],
          "onReconnect": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_OpenEye_Effect",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FieldCheck": {
          "thinkInterval": 1,
          "onThinkInterval": [
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_MONSTER",
              "value": 0
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "campBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "centerBasedOn": "Self",
                "sortType": "Default"
              },
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_FATUUS_MAIDEN_WATER_DETECTED_OBJ",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "target": "Self",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_MONSTER",
                  "value": 1
                }
              ]
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Monster_Fatuus_Maiden_Water_Detected",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_MONSTER",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
              "value": 0,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_MONSTER",
                  "value": 0,
                  "compareType": "Equal"
                }
              ]
            },
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
              "value": 1,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_FATUUS_MAIDEN_WATER_DETECT_NEAR_MONSTER",
                  "value": 1,
                  "compareType": "Equal"
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_OpenField_Handler": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_FieldOpen"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_OpenField"
            }
            // {
            // 	"$type": "ApplyModifier",
            // 	"modifierName": "Monster_Fatuus_Maiden_Water_HandEffect"
            // }
          ]
        },
        "Monster_Fatuus_Maiden_Water_OutOfBattle": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_OpenField"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Monster_Fatuus_Maiden_Water_Detected"
            },
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
              "value": 0
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "campBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "centerBasedOn": "Self",
                "sortType": "Default"
              },
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_FATUUS_MAIDEN_WATER_DETECTED_OBJ",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Target",
                  "modifierName": "Monster_Fatuus_Maiden_Water_OutOfBattle_DeleteDetectOBJ"
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_OutOfBattle_DeleteDetectOBJ": {
          "duration": 0.3,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_DIE",
              "value": 1
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_OpenField": {
          // "stacking": "MultipleRefresh",
          // "stackingOption": {
          // 	"maxModifierNumForMultipleType": 1
          // },
          "onAdded": [
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                  "value": 1
                }
              ]
            }
          ],
          "thinkInterval": 1,
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                  "value": 1
                }
              ]
            }
          ]
          // "onRemoved": [
          // 	{
          // 		"$type":"SetGlobalValue",
          // 		"key":"_MONSTER_FATUUS_MAIDEN_OPEN",
          // 		"value":0
          // 	}
          // ]
        },
        "Monster_Fatuus_Maiden_Water_Close": {
          "onAdded": [
            {
              "$type": "SetPoseBool",
              "boolID": "Improve",
              "value": false
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "Improve",
              "value": false
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_OpenEye_Effect"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_OpenEye_Effect": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_Enhance_Body"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_LeftHandHalo"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Fatuus_Maiden_Water_RightHandHalo"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_Open": {
          "properties": {
            "Actor_EndureDelta": 0.1
          },
          "onAdded": [
            {
              "$type": "SetPoseBool",
              "boolID": "Improve",
              "value": true
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_OpenEye_Effect"
            },
            {
              "$type": "SetAISkillGCD",
              "value": 1
            },
            {
              "$type": "AttachAbilityStateResistance",
              "resistanceListID": 14001
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "Improve",
              "value": true
            }
          ],
          "modifierMixins": [
            {
              "$type": "VelocityForceMixin",
              "excludeForces": ["WindZoneType"]
            }
          ]
        }
        // "Monster_Fatuus_Maiden_Water_HandEffect":{
        // 	"onAdded": [
        // 		{
        // 			"$type": "AttachEffect",
        // 			"effectPattern": "Eff_Monster_Fatuus_Maiden_Water_LeftHandHalo"
        // 		},
        // 		{
        // 			"$type": "AttachEffect",
        // 			"effectPattern": "Eff_Monster_Fatuus_Maiden_Water_RightHandHalo"
        // 		}
        // 	]
        // }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  连续受击反击 近战释放反击技能 远程连续释放探测技能
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_CounterAttack",
      "onAdded": [
        // {
        // 	"$type": "ApplyModifier",
        // 	"modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack_Delay"
        // }
      ],
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["CounterAtk"],
          "modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack_HitCheck"
        },
        //入战后10秒再加反击计数modifier
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [101],
          "modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack_AddDelay"
        },
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [901],
          "modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack_RemoveCheck"
        }
      ],
      "onAbilityStart": [],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_CounterAttack_RemoveCheck": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack_Delay"
            },
            {
              "$type": "RemoveModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_CounterAttack_AddDelay": {
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack_Delay"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_CounterAttack_Delay": {
          "duration": 10,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack"
            }
          ],
          "onReconnect": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack"
            }
          ],
          "onChangeAuthority": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_CounterAttack"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_CounterAttack_HitCheck": {
          "onAttackLanded": [
            {
              "$type": "Predicated",
              "target": "Target",
              "targetPredicates": [
                {
                  "$type": "ByAttackTags",
                  "attackTags": ["Maiden_Detect_Damage"]
                },
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetGlobalValue",
                  "target": "Self",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
                  "value": 1
                }
              ]
            },
            {
              //打中目标。给目标上一个modifier，这个modifier会给Team挂一个obj
              "$type": "ApplyModifier",
              "target": "Target",
              "modifierName": "Monster_Fatuus_Maiden_Water_CounterDetect_Mark",
              "predicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_CounterDetect_Mark": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "target": "Team",
              "modifierName": "Monster_Fatuus_Maiden_Water_CounterDetect_MarkToTeam"
            }
            // {
            // 	"$type":"RemoveModifier",
            // 	"target":"Team",
            // 	"modifierName":"Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss"
            // },
            // {
            // 	"$type":"ApplyModifier",
            // 	"target":"Team",
            // 	"modifierName":"Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss"
            // }
          ]
        },
        // "Monster_Fatuus_Maiden_Water_DetectLockObj_CheckDetectMiss":{
        // 	"stacking": "Refresh",
        // 	"duration": 600,
        // 	"thinkInterval": 5,
        // 	"onThinkInterval": [
        // 		{
        // 			"$type": "SetGlobalValue",
        // 			"key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
        // 			"value": 0,
        // 		},
        // 		{
        // 			"$type": "Predicated",
        // 			"otherTargets": {
        // 				"$type": "SelectTargetsByChildren",
        // 				"configID": 42305005
        // 			},
        // 			"targetPredicates": [
        // 				{
        // 					"$type": "ByEntityTypes",
        // 					"entityTypes": ["Gadget"]
        // 				}
        // 			],
        // 			"successActions": [
        // 				{
        // 					"$type": "SetGlobalValue",
        // 					"target": "Self",
        // 					"key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
        // 					"value": 1,
        // 				}
        // 			]
        // 		},
        // 		{
        // 			"$type": "SetGlobalValue",
        // 			"target": "Self",
        // 			"key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
        // 			"value": 0,
        // 			"predicates": [
        // 				{
        // 					"$type": "ByTargetGlobalValue",
        // 					"key": "_FATUUS_MAIDEN_WATER_DETECT_Detect_Near_Team",
        // 					"value": 0,
        // 					"compareType": "Equal"
        // 				}
        // 			]
        // 		}
        // 	]
        // },
        "Monster_Fatuus_Maiden_Water_CounterDetect_MarkToTeam": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "CreateGadget",
                  "campID": 4001,
                  "target": "Self",
                  "gadgetID": 42305005,
                  // "ownerIs":"CasterOriginOwner",
                  // "propOwnerIs":"CasterOriginOwner",
                  "lifeByOwnerIsAlive": true,
                  //"sightGroupWithOwner":true,
                  "byServer": true
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
                  "value": 1
                }
                // {
                // 	"$type": "ApplyModifier",
                // 	"target": "Target",
                // 	"modifierName": "Monster_Fatuus_Maiden_DetectObj_Created_RemarkForSure"
                // }
              ]
            }
          ]
        },
        "Monster_Fatuus_Maiden_DetectObj_Created_RemarkForSure": {
          "stacking": "Refresh",
          "duration": 600,
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED_OBJ_CREATED",
              "value": 0
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_CounterDetected": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_DETECTED",
              "value": 0
            }
          ]
        },
        //挨打计数，一段时间不挨打，计数清除，计数满足条件释放反击，反击释放后清空计数
        "Monster_Fatuus_Maiden_Water_CounterAttack": {
          "onBeingHit": [
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "forceByCaster": true,
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_BEHIT_INCD",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "forceByCaster": true,
                  "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                  "value": 0,
                  "compareType": "NoneOrEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "AddGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_BEHIT_TIMES",
                  "value": 1
                },
                {
                  "$type": "ApplyModifier",
                  "modifierName": "Monster_Fatuus_Maiden_Water_CounterHitTimer"
                }
              ]
            }
          ],
          "modifierMixins": [
            {
              "$type": "AttachModifierToSelfGlobalValueMixin",
              "globalValueKey": "_MONSTER_FATUUS_MAIDEN_WATER_BEHIT_TIMES",
              "valueSteps": [0, 7, 999],
              "modifierNameSteps": [
                "Monster_Fatuus_Maiden_Water_NoCounter",
                "Monster_Fatuus_Maiden_Water_DoCounterAttack_Delay"
              ]
            },
            {
              "$type": "AttachToStateIDMixin",
              "stateIDs": ["BeHitThrow", "Struggle", "Die", "Die_RagDoll"],
              "modifierName": "Monster_Fatuus_Maiden_Water_Counter_Condition_Not"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_Counter_Condition_Not": {
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_CAN_COUNTER",
              "value": 0
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_CAN_COUNTER",
              "value": 1
            }
          ]
        },
        //反击伤害的hit数清除计时，超过5秒未收到攻击，直接清0
        "Monster_Fatuus_Maiden_Water_CounterHitTimer": {
          "duration": 5,
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_BEHIT_TIMES",
              "value": 0
            }
          ]
        },
        //反击的内置cd
        "Monster_Fatuus_Maiden_Water_CounterCD": {
          "duration": 10,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_BEHIT_INCD",
              "value": 1
            }
          ],
          "onRemoved": [
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_BEHIT_INCD",
              "value": 0
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_NoCounter": {
          "onAdded": []
        },
        "Monster_Fatuus_Maiden_Water_DoCounterAttack_Delay": {
          //增加0.1秒延迟判断。防止在被击飞状态也判断可以进行反击
          "duration": 0.1,
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Monster_Fatuus_Maiden_Water_DoCounterAttack"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_DoCounterAttack": {
          "duration": 0.1,
          "onAdded": [
            //可以触发反击时，判断自身周围范围内是否有玩家，有玩家则释放近战反击，无玩家则释放连续探测波纹
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_TYPE",
              "value": 1
            },
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR5",
                "campBasedOn": "Self",
                "campTargetType": "Enemy",
                "centerBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorTrigger",
                  "target": "Self",
                  "triggerID": "GoCounter",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_MONSTER_FATUUS_MAIDEN_WATER_CAN_COUNTER",
                      "value": 1,
                      "compareType": "NoneOrEqual"
                    }
                  ]
                },
                {
                  "$type": "SetGlobalValue",
                  "target": "Self",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_TYPE",
                  "value": 0
                }
              ]
            },
            {
              "$type": "SetAnimatorTrigger",
              "target": "Self",
              "triggerID": "GoCounterDetect",
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_TYPE",
                  "value": 1,
                  "compareType": "Equal"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_CAN_COUNTER",
                  "value": 1,
                  "compareType": "NoneOrEqual"
                }
              ]
            },
            {
              "$type": "ApplyModifier",
              "target": "Self",
              "modifierName": "Monster_Fatuus_Maiden_Water_CounterCD"
            },
            {
              "$type": "SetGlobalValue",
              "target": "Self",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_BEHIT_TIMES",
              "value": 0
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  远程连续释放探测技能
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_FireCounterDetect",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_FireCounterDetect"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_CounterDetect_ToTeam": {
          "duration": 0.1,
          "onAdded": [
            {
              "$type": "SetGlobalPos",
              "target": "Self",
              "key": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_POS",
              "born": {
                "$type": "ConfigBornByPredicatePoint",
                "timeForPredictive": 0.5
              },
              "setTarget": false
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_FireCounterDetect": {
          "duration": 4,
          "onAdded": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR40",
                "campBasedOn": "Self",
                "campTargetType": "Enemy",
                "centerBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByEntityTypes",
                  "entityTypes": ["Avatar"]
                }
              ],
              "successActions": [
                //未开眼的探测反击，单次
                {
                  "$type": "SetGlobalPos",
                  "target": "Target",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_POS",
                  "born": {
                    "$type": "ConfigBornByTarget"
                  },
                  "setTarget": false
                },
                {
                  "$type": "CreateGadget",
                  "target": "Self",
                  "gadgetID": 42305002,
                  "born": {
                    "$type": "ConfigBornByGlobalValue",
                    "positionKey": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_POS",
                    "onGround": true,
                    "onGroundIgnoreWater": true
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                      "value": 0,
                      "compareType": "Equal",
                      "forceByCaster": true
                    }
                  ]
                },
                //开眼后的三联探测
                {
                  "$type": "SetGlobalPos",
                  "target": "Target",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_POS",
                  "born": {
                    "$type": "ConfigBornByTarget",
                    "offset": {
                      "x": 0,
                      "y": 0,
                      "z": 2
                    }
                  },
                  "setTarget": false
                },
                {
                  "$type": "CreateGadget",
                  "target": "Self",
                  "gadgetID": 42305002,
                  "born": {
                    "$type": "ConfigBornByGlobalValue",
                    "positionKey": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_POS",
                    "onGround": true,
                    "onGroundIgnoreWater": true
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                      "value": 1,
                      "compareType": "Equal",
                      "forceByCaster": true
                    }
                  ]
                },
                {
                  "$type": "SetGlobalPos",
                  "target": "Target",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_POS",
                  "born": {
                    "$type": "ConfigBornByTarget",
                    "offset": {
                      "x": 1.6,
                      "y": 0,
                      "z": -1.6
                    }
                  },
                  "setTarget": false
                },
                {
                  "$type": "CreateGadget",
                  "target": "Self",
                  "gadgetID": 42305002,
                  "born": {
                    "$type": "ConfigBornByGlobalValue",
                    "positionKey": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_POS",
                    "onGround": true,
                    "onGroundIgnoreWater": true
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                      "value": 1,
                      "compareType": "Equal",
                      "forceByCaster": true
                    }
                  ]
                },
                {
                  "$type": "SetGlobalPos",
                  "target": "Target",
                  "key": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_POS",
                  "born": {
                    "$type": "ConfigBornByTarget",
                    "offset": {
                      "x": -1.6,
                      "y": 0,
                      "z": -1.6
                    }
                  },
                  "setTarget": false
                },
                {
                  "$type": "CreateGadget",
                  "target": "Self",
                  "gadgetID": 42305002,
                  "born": {
                    "$type": "ConfigBornByGlobalValue",
                    "positionKey": "_MONSTER_FATUUS_MAIDEN_WATER_COUNTER_POS",
                    "onGround": true,
                    "onGroundIgnoreWater": true
                  },
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_MONSTER_FATUUS_MAIDEN_OPEN",
                      "value": 1,
                      "compareType": "Equal",
                      "forceByCaster": true
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  死亡亡语处理探测gadget主体
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Fatuus_Maiden_Water_DieDeleteOBJ",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Monster_Fatuus_Maiden_Water_DieDeleteOBJ_Handler"
        }
      ],
      "modifiers": {
        "Monster_Fatuus_Maiden_Water_DieDeleteOBJ_Handler": {
          "duration": 1,
          "onAdded": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR50",
                "campBasedOn": "Self",
                "campTargetType": "AllExceptSelf",
                "centerBasedOn": "Self",
                "sortType": "Default"
              },
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_IS_FATUUS_MAIDEN_WATER_DETECTED_OBJ",
                  "value": 1,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "ApplyModifier",
                  "target": "Target",
                  "modifierName": "Monster_Fatuus_Maiden_Water_Die_DetectOBJDie"
                }
              ]
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        },
        "Monster_Fatuus_Maiden_Water_Die_DetectOBJDie": {
          "duration": 0.3,
          "onAdded": [
            {
              "$type": "SetGlobalValue",
              "key": "_FATUUS_MAIDEN_WATER_DETECT_DIE",
              "value": 1
            }
          ]
        }
      }
    }
  }
]
