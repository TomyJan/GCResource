[
  ////////////////////////////////////////////////////////////////
  //
  //  FreeState
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_FreeState",
      "abilityMixins": [
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [9999, 5001, 0, 1, 2, 3, 4],
          "modifierName": "Regisvine_FreeState"
        },
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [
            1000, 1001, 1002, 1011, 1012, 1021, 1022, 1031, 1032, 2001, 2002
          ],
          "modifierName": "Regisvine_AlertState"
        }
      ],
      "modifiers": {
        "Regisvine_FreeState": {
          "onAdded": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Regisvine_AlertState"
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_ISOUTOFIGHT",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        },
        "Regisvine_AlertState": {
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_ISOUTOFIGHT",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_BORNTIMESCOUNT",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 2,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_CoreShattered"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Fire_CoreShattered"
            },
            {
              "$type": "SetPoseBool",
              "boolID": "Alerted",
              "value": false
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Regisvine_PartControlTarget_Enable"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_HitboxInitialization"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_FlowerPushColliderOff"
            },
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_REGISVINE_TAG_ICE",
                  "value": 1.0,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "TriggerAbility",
                  "abilityName": "Regisvine_Fruit_Begin"
                }
              ]
            },
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_REGISVINE_TAG_FIRE",
                  "value": 1.0,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "TriggerAbility",
                  "abilityName": "Regisvine_Fire_Fruit_Begin"
                }
              ]
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Alert
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Alert_TriggerShaderEffect",
      "onAbilityStart": [
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "Shader_Skill_Alert",
          "MPTriggerOnRemote": true
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  ReturnToBorn
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_ReturnToBorn",
      "abilityMixins": [
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [5001],
          "modifierName": "ReturnToBorn_Start"
        },
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": ["ReturnToBorn"],
          "modifierName": "ReturnToBornHandler"
        },
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": ["NormalIdle"],
          "modifierName": "Regisvine_NormalIdleState",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Self",
              "key": "_MONSTER_REGISVINE_ISFAINT",
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        }
      ],
      "modifiers": {
        "ReturnToBorn_Start": {
          "onAdded": [
            {
              "$type": "SetAnimatorTrigger",
              "triggerID": "ReturnToBornTrigger",
              "MPTriggerOnRemote": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_BORNTIMESCOUNT",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 2,
              "minValue": 0
            }
          ]
        },
        "ReturnToBornHandler": {
          "onAdded": [
            //Handle globalValue
            {
              //Reset Faint Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT",
              "value": 0,
              "doOffStage": true
            },
            {
              //RTB
              //Reset Faint Fruit Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_FRUIT",
              "value": 0,
              "doOffStage": true
            },
            {
              //RTB
              //Reset Faint Fruit Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_CORE",
              "value": 0,
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVING",
              "value": 0,
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVEDELAYED",
              "value": 0,
              "doOffStage": true
            },
            {
              // Clear Fruit is broken Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_ISBROKEN",
              "value": 0,
              "doOffStage": true
            },
            {
              // Clear Fruit is broken Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_CORE_ISBROKEN",
              "value": 0,
              "doOffStage": true
            },
            {
              // Clear Fruit is broken Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_CORE_ISSHATTERED",
              "value": 0,
              "doOffStage": true
            },
            {
              //Reset Core reborn Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_CANBORNCORE",
              "value": 1,
              "doOffStage": true
            },
            //Handle Pose
            {
              "$type": "SetPoseBool",
              "boolID": "Faint_Core",
              "value": false
            },
            {
              "$type": "SetPoseBool",
              "boolID": "Faint_Fruit",
              "value": false
            },
            {
              "$type": "SetPoseBool",
              "boolID": "CoreIsBroken",
              "value": false
            },
            {
              "$type": "SetPoseBool",
              "boolID": "FruitIsBroken",
              "value": false
            },
            //Handle weakness
            {
              "$type": "TriggerAbility",
              "abilityName": "Regisvine_Fruit_End"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Regisvine_Core_End"
            },
            //Handle colliders
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_BlizzardSpitPushColliderOff"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_FlowerPushColliderOff"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_FaintPushColliderOff"
            },
            //Handle modifiers
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_Fruit_Revive"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Fire_Fruit_Revive"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_FaintState_Fruit"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_FaintState_Core"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_CoreShattered"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Fire_CoreShattered"
            },
            //Handle gadgets
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602015,
                "sortType": "Default"
              }
            }
          ],
          "onRemoved": [
            //Handle globalValue
            {
              //Reset Faint Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT",
              "value": 0,
              "doOffStage": true
            },
            {
              //RTB
              //Reset Faint Fruit Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_FRUIT",
              "value": 0,
              "doOffStage": true
            },
            {
              //RTB
              //Reset Faint Fruit Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_CORE",
              "value": 0,
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVING",
              "value": 0,
              "doOffStage": true
            },
            {
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVEDELAYED",
              "value": 0,
              "doOffStage": true
            },
            {
              // Clear Fruit is broken Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_ISBROKEN",
              "value": 0,
              "doOffStage": true
            },
            {
              // Clear Fruit is broken Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_CORE_ISBROKEN",
              "value": 0,
              "doOffStage": true
            },
            {
              // Clear Fruit is broken Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_CORE_ISSHATTERED",
              "value": 0,
              "doOffStage": true
            },
            {
              //Reset Core reborn Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_CANBORNCORE",
              "value": 1,
              "doOffStage": true
            },
            //Handle Pose
            {
              "$type": "SetPoseBool",
              "boolID": "Faint_Core",
              "value": false
            },
            {
              "$type": "SetPoseBool",
              "boolID": "Faint_Fruit",
              "value": false
            },
            {
              "$type": "SetPoseBool",
              "boolID": "CoreIsBroken",
              "value": false
            },
            {
              "$type": "SetPoseBool",
              "boolID": "FruitIsBroken",
              "value": false
            },
            //Handle weakness
            {
              "$type": "TriggerAbility",
              "abilityName": "Regisvine_Fruit_End"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Regisvine_Core_End"
            },
            //Handle colliders
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_BlizzardSpitPushColliderOff"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_FlowerPushColliderOff"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_FaintPushColliderOff"
            },
            //Handle modifiers
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_Fruit_Revive"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Fire_Fruit_Revive"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_FaintState_Fruit"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_FaintState_Core"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_CoreShattered"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Fire_CoreShattered"
            },
            //Handle gadgets
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602015,
                "sortType": "Default"
              }
            }
          ]
        },
        "Regisvine_NormalIdleState": {
          "onAdded": [
            //Reset pushcolliders
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_BlizzardSpitPushCollider"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_FaintPushCollider"
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": true
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": [
                "PushCollider_Faint01",
                "PushCollider_Faint01_Extra",
                "PushCollider_Head",
                "PushCollider_BlizzardSpit"
              ],
              "setEnable": false
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  LifeBarManager
  //
  ////////////////////////////////////////////////////////////////
  //在休闲时隐藏血条，入战后才显示
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_LifeBarManager",
      "abilityMixins": [
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [1],
          "modifierName": "HideLifeBar"
        }
      ],
      // "onAdded":
      // [
      // 	{
      // 		"$type": "HideUIBillBoard",
      // 		"hide": true,
      // 	},
      // ],
      "modifiers": {
        "HideLifeBar": {
          "onAdded": [
            {
              "$type": "ShowUICombatBar",
              "show": false,
              "fore": true,
              "canBeHandledOnRecover": true
            }
          ],
          "onRemoved": [
            {
              "$type": "ShowUICombatBar",
              "show": true,
              "fore": true,
              "canBeHandledOnRecover": true
            }
          ]
        }
      }
    }
  },
  ///////////////////////////////////////////////////////////
  //
  //  SteerAttack
  //
  ////////////////////////////////////////////////////////////////
  //攻击中的转向
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_SteerAttack",
      "abilityMixins": [
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["Alert"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 0.78,
          "angularSpeed": 180,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        // {
        // 	"$type": "SteerAttackMixin",
        // 	"steerStateIDs": ["NormalIdle"],
        // 	"startNormalizedTime" : 0.0,
        // 	"endNormalizedTime" : 0.5,
        // 	"angularSpeed" : 60,
        // 	"attackTrigger" : "",
        // 	"attackDistance" : 7.0,
        // },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["MeleeAttack01"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 0.25,
          "angularSpeed": 180,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["MeleeAttack01_Recover"],
          "startNormalizedTime": 0.68,
          "endNormalizedTime": 1.0,
          "angularSpeed": 180,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["RangedAttack01", "RangedAttack01_Combo01"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 0.2,
          "angularSpeed": 90,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["RangedAttack02_BS"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 1.0,
          "angularSpeed": 90,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": [
            "RangedAttack02_Loop01",
            "RangedAttack02_Loop02",
            "RangedAttack02_Loop03"
          ],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 99.0,
          "angularSpeed": 90,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["RangedAttack02_AS"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 1.0,
          "angularSpeed": 90,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["MissileAttack_BS"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 1.0,
          "angularSpeed": 90,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["MissileAttack_Loop"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 99.0,
          "angularSpeed": 90,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["BlizzardSpit_BS"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 0.6,
          "angularSpeed": 360,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["RapidFire01_BS"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 1.0,
          "angularSpeed": 90,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["RapidFire01_Fire"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 50.0,
          "angularSpeed": 25,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["RapidFire01_AS"],
          "startNormalizedTime": 0.5,
          "endNormalizedTime": 1.0,
          "angularSpeed": 90,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["MeleeAttackCombo"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 0.11,
          "angularSpeed": 15,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["MeleeAttackCombo"],
          "startNormalizedTime": 0.22,
          "endNormalizedTime": 0.28,
          "angularSpeed": 15,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["MeleeAttackCombo"],
          "startNormalizedTime": 0.38,
          "endNormalizedTime": 0.45,
          "angularSpeed": 270,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["RevengeAttack"],
          "startNormalizedTime": 0.3,
          "endNormalizedTime": 0.45,
          "angularSpeed": 180,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["SummonBlazeSeed_BS"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 1.0,
          "angularSpeed": 180,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["SummonBlazeSeed_Loop"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 10.0,
          "angularSpeed": 180,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["SummonBlazeSeed_AS"],
          "startNormalizedTime": 0.0,
          "endNormalizedTime": 0.2,
          "angularSpeed": 180,
          "attackTrigger": "",
          "attackDistance": 7.0
        },
        {
          "$type": "SteerAttackMixin",
          "steerStateIDs": ["SummonBlazeSeed_AS"],
          "startNormalizedTime": 0.43,
          "endNormalizedTime": 1.0,
          "angularSpeed": 180,
          "attackTrigger": "",
          "attackDistance": 7.0
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  FixedBaseDirection
  //
  ////////////////////////////////////////////////////////////////
  //TODO:
  //实现底座固定朝向出生时的正前方
  //创建控制物件
  //急冻树的底座会总是朝向控制物件
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_CreateBaseControlTarget",
      "onAdded": [
        {
          "$type": "CreateGadget",
          "gadgetID": 42602001,
          "campID": 4001,
          "sightGroupWithOwner": true,
          "campTargetType": "Enemy",
          "byServer": true,
          "lifeByOwnerIsAlive": true,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "RootNode",
            "attachPointTargetType": "Caster",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 3.0
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              }
            }
          }
        },
        {
          "$type": "Predicated",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR15",
            "centerBasedOn": "Self",
            "campTargetType": "SelfCamp",
            "campBasedOn": "Self"
          },
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_MONSTER_REGISVINE_BASETARGET",
              "value": 1.0,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "SetPartControlTarget",
              "target": "Target",
              "partRootNames": ["BaseControl"]
            }
          ],
          "canBeHandledOnRecover": true
        }
      ],
      "onKill": [
        {
          "$type": "TriggerAbility",
          "abilityName": "Regisvine_PartControlTarget_Disable",
          "target": "Self"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Regisvine_BaseControl_KillSelf",
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602001,
            "sortType": "Default"
          }
        }
      ],
      "modifiers": {
        "Regisvine_BaseControl_KillSelf": {
          //To kill missileattack Launcher
          "onAdded": [
            {
              "$type": "KillSelf",
              "target": "Self"
            }
          ]
        }
      }
    }
  },
  //停止朝向控制物件，出生后、入战前总是处于这个状态
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_PartControlTarget_Disable",
      "onAbilityStart": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Regisvine_BaseControl"
        }
      ],
      "onAdded": [
        {
          "$type": "EnablePartControl",
          "partRootNames": ["BaseControl"],
          "enable": false
        }
      ]
    }
  },
  //开始朝向控制物件，入战时使用
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_PartControlTarget_Enable",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Regisvine_BaseControl"
        }
      ],
      "modifiers": {
        "UNIQUE_Regisvine_BaseControl": {
          "isUnique": true,
          "thinkInterval": 5.0,
          "onAdded": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR15",
                "centerBasedOn": "Self",
                "campTargetType": "SelfCamp",
                "campBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_REGISVINE_BASETARGET",
                  "value": 1.0,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetPartControlTarget",
                  "target": "Target",
                  "partRootNames": ["BaseControl"]
                }
              ],
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnablePartControl",
              "partRootNames": ["BaseControl"],
              "enable": true,
              "canBeHandledOnRecover": true
            }
          ],
          "onThinkInterval": [
            {
              "$type": "Predicated",
              "otherTargets": {
                "$type": "SelectTargetsByShape",
                "shapeName": "CircleR15",
                "centerBasedOn": "Self",
                "campTargetType": "SelfCamp",
                "campBasedOn": "Self"
              },
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_REGISVINE_BASETARGET",
                  "value": 1.0,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "SetPartControlTarget",
                  "target": "Target",
                  "partRootNames": ["BaseControl"]
                }
              ],
              "canBeHandledOnRecover": true
            },
            {
              "$type": "EnablePartControl",
              "partRootNames": ["BaseControl"],
              "enable": true,
              "canBeHandledOnRecover": true
            }
          ],
          "onRemoved": [
            {
              "$type": "EnablePartControl",
              "partRootNames": ["BaseControl"],
              "enable": false
            }
          ]
        }
      }
    }
  },
  //标识控制物件的GlobalValue，控制物件gadget使用
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_PartControlTarget_GlobalValue",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_BASETARGET",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  ReduceDamage
  //
  ////////////////////////////////////////////////////////////////
  //减伤Buff定义、和打开方式
  //TODEL
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_DamageManager",
      "abilityMixins": [
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [2001, 2002],
          "modifierName": "UNIQUE_Regisvine_ReduceDamageRemoved"
        }
      ],
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Regisvine_ReduceDamage"
        },
        {
          "$type": "AttachAbilityStateResistance",
          "resistanceListID": 13002
        }
      ],
      "modifiers": {
        "UNIQUE_Regisvine_ReduceDamage": {
          "isUnique": true,
          "properties": {
            "Actor_PhysicalSubHurtDelta": 1,
            "Actor_FireSubHurtDelta": 1,
            "Actor_ElecSubHurtDelta": 1,
            "Actor_WaterSubHurtDelta": 1,
            "Actor_GrassSubHurtDelta": 1,
            "Actor_WindSubHurtDelta": 1,
            "Actor_IceSubHurtDelta": 1,
            "Actor_RockSubHurtDelta": 1
          }
        },
        "UNIQUE_Regisvine_ReduceDamageRemoved": {
          "isUnique": true,
          // "properties":
          // {
          // 	"Actor_PhysicalAddHurtDelta":0.9,
          // 	"Actor_FireAddHurtDelta" : 0.9,
          // 	"Actor_ElecAddHurtDelta" : 0.9,
          // 	"Actor_WaterAddHurtDelta" : 0.9,
          // 	"Actor_GrassAddHurtDelta" : 0.9,
          // 	"Actor_WindAddHurtDelta" : 0.9,
          // 	"Actor_RockAddHurtDelta" : 0.9,
          // },
          "onAdded": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_ReduceDamage"
            }
          ],
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_Regisvine_ReduceDamage"
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  UsingSkillManager
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      //发射子弹
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_UsingSkillManager",
      "abilityMixins": [
        {
          "$type": "AttachToStateIDMixin",
          "stateIDs": [
            "MeleeAttack03",
            "RangedAttack01",
            "RangedAttack02_BS",
            "RangedAttack02_Loop01",
            "RangedAttack02_Loop02",
            "RangedAttack02_Loop03",
            "RangedAttack02_AS",
            "RapidFire01_Fire",
            "MissileAttack_BS",
            "MissileAttack_Loop",
            "MissileAttack_AS",
            "SummonBlazeSeed_BS",
            "SummonBlazeSeed_Loop",
            "SummonBlazeSeed_AS",
            "BlizzardSpit_BS",
            "BlizzardSpit_Fire",
            "BlizzardSpit_AS"
          ],
          "modifierName": "UsingSkill"
        }
      ],
      "modifiers": {
        "UsingSkill": {
          "onAdded": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "UsingSkill",
              "value": true
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "UsingSkill",
              "value": false
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      //发射子弹
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_TriggerUseSkill",
      "onAbilityStart": [
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "UseSkill",
          "MPTriggerOnRemote": true
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  FruitCover Management
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_FruitCoverManager",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_FRUITCOVERED",
          "value": 10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "SetAnimatorBool",
          "boolID": "FruitCovered",
          "value": true
        }
      ],
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_MONSTER_REGISVINE_FRUITCOVERED",
          "valueSteps": [-0.5, 0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "Regisvine_FruitNotCovered",
            "Regisvine_FruitCovered"
          ]
        }
      ],
      "modifiers": {
        "Regisvine_FruitCovered": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "FruitCovered",
              "value": true
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "FruitCovered",
              "value": false
            }
          ]
        },
        "Regisvine_FruitNotCovered": {
          "stacking": "Unique",
          "onAdded": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "FruitCovered",
              "value": false
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "FruitCovered",
              "value": true
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Fruit Management
  //
  ////////////////////////////////////////////////////////////////
  //TODO:
  //弱点，在特定时刻暴露，打破进入眩晕
  //启用相应的受击判定、元素盾开始接受伤害
  //主果实
  //创建果实
  //若无果实，则创建
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_Fruit_Begin",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_TAG_ICE",
          "value": 10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_ISKILLED",
          "value": -10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_FRUIT",
          "value": -10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_FRUIT_REVIVING",
          "value": -10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_FRUIT_BORNTIMESCOUNT",
          "value": -10,
          "useLimitRange": true,
          "maxValue": 2,
          "minValue": 0
        },
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_FRUIT_BEGIN_DISABLEDONALERT",
          "value": -10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          //Initiallize Fruit broken Gloval
          "$type": "SetGlobalValue",
          "key": "_MONSTER_REGISVINE_FRUIT_ISBROKEN",
          "value": 0,
          "doOffStage": true
        }
      ],
      "onKill": [
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_ISKILLED",
          "value": 10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "DoWatcherSystemAction",
          "inThreatListOnly": true,
          "watcherId": 82063,
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Self",
              "key": "_REGISVINE_HEADCOREBROKENED_",
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ]
        }
      ],
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_FRUIT",
              "value": 0,
              "compareType": "LessAndEqual"
            },
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_FRUIT_BEGIN_DISABLEDONALERT",
              "value": 0,
              "compareType": "LessAndEqual"
            },
            {
              //If fruit is reviving then donnt reborn Fruit
              //Temp fix for 1.2 Pose sync Bug
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVING",
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ],
          "successActions": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_Fruit_PowerOn"
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "CreateFruit_Delayed",
              "target": "Self"
            },
            // {
            // 	"$type": "SetAnimatorBool",
            // 	"boolID": "FruitCovered",
            // 	"value": false,
            // },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUITCOVERED",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        }
      ],
      "modifiers": {
        "CreateFruit_Delayed": {
          "duration": 2.0,
          "onRemoved": [
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Target",
                  "key": "_MONSTER_REGISVINE_ISKILLED",
                  "value": 0,
                  "compareType": "LessAndEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "Predicated",
                  "targetPredicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
                      "value": 1,
                      "compareType": "MoreThanAndEqual"
                    }
                  ],
                  "successActions": [
                    {
                      "$type": "CreateGadget",
                      "gadgetID": 42602030,
                      "target": "Self",
                      "campID": 4001,
                      "sightGroupWithOwner": true,
                      "byServer": true,
                      "lifeByOwnerIsAlive": true
                    }
                  ],
                  "failActions": [
                    {
                      "$type": "CreateGadget",
                      "gadgetID": 42602002,
                      "target": "Self",
                      "campID": 4001,
                      "sightGroupWithOwner": true,
                      "byServer": true,
                      "lifeByOwnerIsAlive": true
                    },
                    {
                      "$type": "ShowReminder",
                      "id": 30030002,
                      "predicates": [
                        {
                          "$type": "ByTargetGlobalValue",
                          "key": "_MONSTER_REGISVINE_FRUIT_BORNTIMESCOUNT",
                          "value": 1,
                          "compareType": "MoreThanAndEqual"
                        }
                      ]
                    }
                  ]
                },
                {
                  "$type": "AddGlobalValue",
                  "key": "_MONSTER_REGISVINE_FRUIT",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                },
                {
                  "$type": "AddGlobalValue",
                  "key": "_MONSTER_REGISVINE_FRUIT_BORNTIMESCOUNT",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 2,
                  "minValue": 0
                },
                {
                  //关闭核心Gadget
                  "$type": "TriggerAbility",
                  "abilityName": "Regisvine_Core_End"
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "Shader_FruitLower_State",
                  "value": 2,
                  "target": "Self"
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "Shader_FruitUpper_State",
                  "value": 1,
                  "target": "Self"
                },
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Monster_Regisvine_Ice_Core_PowerOff",
                  "target": "Self",
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "target": "Target",
                      "key": "_MONSTER_REGISVINE_CORE",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    }
  },
  //若有果实，则打开
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_Fruit_Open",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_FRUIT",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            // {
            // 	"$type": "SetAnimatorBool",
            // 	"boolID": "FruitCovered",
            // 	"value": false,
            // },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUITCOVERED",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602002,
                "sortType": "Default"
              }
            },
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602030,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": false,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602002,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": false,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602030,
                "sortType": "Default"
              }
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_FruitTempClosed"
            }
          ]
        }
      ]
    }
  },
  //若有果实，则关闭
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_Fruit_Close",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_FRUIT",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            // {
            // 	"$type": "SetAnimatorBool",
            // 	"boolID": "FruitCovered",
            // 	"value": true,
            // },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUITCOVERED",
              "value": 10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": false,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602002,
                "sortType": "Default"
              }
            },
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": false,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602030,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602002,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602030,
                "sortType": "Default"
              }
            }
          ]
        }
      ]
    }
  },
  //若有果实，则关闭
  //在一段时间后自动打开
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_Fruit_TempClose",
      "abilityMixins": [
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_MONSTER_REGISVINE_FRUIT_HITCOUNT",
          "valueSteps": [-1, 4.5, 5.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": ["Temp", "Temp"],
          "actionQueues": [
            [
              //do nothing
            ],
            [
              // {
              // 	"$type": "TriggerAbility",
              // 	"abilityName": "Regisvine_Fruit_TempClose",
              // },
            ]
          ]
        },
        {
          "$type": "DoActionByPoseIDMixin",
          "poseIDs": [1002],
          "enterActions": [
            {
              "$type": "ReTriggerAISkillInitialCD",
              "skillIDs": [203]
            }
          ]
        }
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerAbility",
          "abilityName": "Regisvine_Fruit_Close"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_FruitTempClosed",
          "target": "Self"
        }
      ],
      "modifiers": {
        "Temp": {},
        "UNIQUE_FruitTempClosed": {
          "isUnique": true,
          "duration": 15,
          "onRemoved": [
            {
              //时间到后打开果实
              "$type": "TriggerAbility",
              "abilityName": "Regisvine_Fruit_Open"
            }
          ]
        }
      }
    }
  },
  //若有果实，则消灭
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_Fruit_End",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_FRUIT",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            // {
            // 	"$type": "SetAnimatorBool",
            // 	"boolID": "FruitCovered",
            // 	"value": true,
            // },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUITCOVERED",
              "value": 10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602002,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602030,
                "sortType": "Default"
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Regisvine_Ice_Fruit_KillSelf",
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602002,
                "sortType": "Default"
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Regisvine_Ice_Fruit_KillSelf",
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602030,
                "sortType": "Default"
              }
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "Shader_FruitLower_State",
              "value": 1
            }
          ]
        },
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Regisvine_Ice_Fruit_Revive"
        }
      ],
      "onKill": [
        {
          "$type": "HideUIBillBoard",
          "hide": true,
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602002,
            "sortType": "Default"
          }
        },
        {
          "$type": "HideUIBillBoard",
          "hide": true,
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602030,
            "sortType": "Default"
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Regisvine_Ice_Fruit_KillSelf",
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602002,
            "sortType": "Default"
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Regisvine_Ice_Fruit_KillSelf",
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602030,
            "sortType": "Default"
          }
        },
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_FRUIT",
          "value": -10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "SetAnimatorInt",
          "intID": "Shader_FruitLower_State",
          "value": 0
        }
      ],
      "modifiers": {
        "Regisvine_Ice_Fruit_KillSelf": {
          //To kill missileattack Launcher
          "onAdded": [
            {
              "$type": "KillSelf",
              "target": "Self"
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Core Management
  //
  ////////////////////////////////////////////////////////////////
  //核心
  //若无核心，则创建
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_Core_Begin",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_CORE",
          "value": -10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          //Initiallize Core broken Gloval
          "$type": "SetGlobalValue",
          "key": "_MONSTER_REGISVINE_CORE_ISBROKEN",
          "value": 0,
          "doOffStage": true
        }
      ],
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            // {
            // 	"$type": "ByTargetGlobalValue",
            // 	"target": "Target",
            // 	"key": "_MONSTER_REGISVINE_FRUIT_REVIVING",
            // 	"value": 0,
            // 	"compareType": "LessAndEqual",
            // },
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_FRUIT",
              "value": 0,
              "compareType": "LessAndEqual"
            },
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_CORE",
              "value": 0,
              "compareType": "LessAndEqual"
            }
          ],
          "successActions": [
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
                  "value": 1,
                  "compareType": "MoreThanAndEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "CreateGadget",
                  "gadgetID": 42602031,
                  "target": "Self",
                  "campID": 4001,
                  "sightGroupWithOwner": true,
                  "byServer": true,
                  "lifeByOwnerIsAlive": true
                }
              ],
              "failActions": [
                {
                  "$type": "CreateGadget",
                  "gadgetID": 42602003,
                  "target": "Self",
                  "campID": 4001,
                  "sightGroupWithOwner": true,
                  "byServer": true,
                  "lifeByOwnerIsAlive": true
                },
                {
                  "$type": "ShowReminder",
                  "id": 30030003
                }
              ]
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_CORE",
              "value": 1,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "Shader_FruitUpper_State",
              "value": 2
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_Core_PowerOn"
            }
          ]
        }
      ]
    }
  },
  //若有核心，则打开
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_Core_Open",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_CORE",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602003,
                "sortType": "Default"
              }
            },
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602031,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": false,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602003,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": false,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602031,
                "sortType": "Default"
              }
            }
          ]
        }
      ]
    }
  },
  //若有核心，则关闭
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_Core_Close",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_CORE",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": false,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602003,
                "sortType": "Default"
              }
            },
            {
              "$type": "EnableHitBoxByName",
              "hitBoxNames": ["HitBox"],
              "setEnable": false,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602031,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602003,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602031,
                "sortType": "Default"
              }
            }
          ]
        }
      ]
    }
  },
  //若有核心，则消灭
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_Core_End",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_CORE",
              "value": 1,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602003,
                "sortType": "Default"
              }
            },
            {
              "$type": "HideUIBillBoard",
              "hide": true,
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602031,
                "sortType": "Default"
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Regisvine_Ice_Core_KillSelf",
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602003,
                "sortType": "Default"
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "Regisvine_Ice_Core_KillSelf",
              "otherTargets": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602031,
                "sortType": "Default"
              }
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_CORE",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "Shader_FruitUpper_State",
              "value": 1
            }
          ]
        }
      ],
      "onKill": [
        {
          "$type": "HideUIBillBoard",
          "hide": true,
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602003,
            "sortType": "Default"
          }
        },
        {
          "$type": "HideUIBillBoard",
          "hide": true,
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602031,
            "sortType": "Default"
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Regisvine_Ice_Core_KillSelf",
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602003,
            "sortType": "Default"
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Regisvine_Ice_Core_KillSelf",
          "otherTargets": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602031,
            "sortType": "Default"
          }
        },
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_CORE",
          "value": -10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        },
        {
          "$type": "SetAnimatorInt",
          "intID": "Shader_FruitUpper_State",
          "value": 0
        }
      ],
      "modifiers": {
        "Regisvine_Ice_Core_KillSelf": {
          //To kill missileattack Launcher
          "onAdded": [
            {
              "$type": "KillSelf",
              "target": "Self"
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  MeeleeAttack
  //
  ////////////////////////////////////////////////////////////////
  //放出冲击波
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_MeleeAttack01_IceWave",
      "onAbilityStart": [
        {
          "$type": "TriggerBullet",
          "bulletID": 42602016,
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 1.5,
              "y": 0,
              "z": 7
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0,
                "y": 15,
                "z": 0
              }
            }
          }
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 42602016,
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0.0,
              "y": 0,
              "z": 7
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0,
                "y": 0,
                "z": 0
              }
            }
          }
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 42602016,
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": -1.5,
              "y": 0,
              "z": 7
            },
            "direction": {
              "$type": "ConfigDirectionByEntity",
              "angleOffset": {
                "x": 0,
                "y": -15,
                "z": 0
              }
            }
          }
        }
      ]
    }
  },
  //近战01Shader特效开关
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_MeleeAttack01_TriggerShaderEffect",
      "onAbilityStart": [
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "Shader_Skill_MeleeAttack01",
          "MPTriggerOnRemote": true
        }
      ]
    }
  },
  //03在自己周围产生冰雾
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_MeeleeAttack03_CreateIceFog",
      "onAbilityStart": [
        {
          "$type": "CreateGadget",
          "gadgetID": 42602010,
          "target": "Self",
          "campID": 4001,
          "sightGroupWithOwner": false
        }
      ]
    }
  },
  //03冰气
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_MeleeAttack03_IceFog",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Ice_Fog",
          "target": "Self"
        }
      ],
      "modifiers": {
        "Ice_Fog": {
          "duration": 20.0,
          "thinkInterval": 1.0,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "fanAngle": 360.0,
                  "radius": 8.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 0.0
                    }
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attenuationTag": "Regisvine_Ice_IceFog",
                  "attenuationGroup": "Regisvine_Common",
                  "attackProperty": {
                    "damagePercentage": 0.3,
                    "elementType": "Ice",
                    "elementDurability": 25,
                    "enBreak": 0.0
                  },
                  "hitPattern": {
                    "onHitEffectName": "",
                    "hitImpulseType": "LV1",
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.05,
                    "muteHitText": false
                  }
                }
              }
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_MeleeAttack03_OnGround"
            }
          ]
        }
      }
    }
  },
  //近战03Shader特效开关
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_MeleeAttack03_TriggerShaderEffect",
      "onAbilityStart": [
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "Shader_Skill_MeleeAttack03",
          "MPTriggerOnRemote": true
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  RangedAttack
  //
  ////////////////////////////////////////////////////////////////
  //确定目标位置，用于计算扫射起点
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_RangedAttack01_GetTargetPos",
      "onAbilityStart": [
        {
          "$type": "SetGlobalPos",
          "target": "SelfAttackTarget",
          "key": "_MONSTER_REGISVINE_RANGEDATTACK01_TARGET_POS",
          "setTarget": false,
          "born": {
            "$type": "ConfigBornByTarget"
          }
        }
      ]
    }
  },
  //发射子弹引导物件
  //左右交叉发射的方式
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_RangedAttack01_SetGuide_LRCross",
      "onAbilityStart": [
        //左
        {
          "$type": "TriggerBullet",
          "bulletID": 42602013,
          "born": {
            "$type": "ConfigBornByGlobalValue",
            "positionKey": "_MONSTER_REGISVINE_RANGEDATTACK01_TARGET_POS",
            "offset": {
              "x": -6.0, // + means up, - means down
              "y": 0.0, // + means left, - means right
              "z": -10.0 // + means forward, - means backward
            },
            "onGround": true,
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "maxAngle": 360,
              "maxAngleType": "Horizontal",
              "angleOffset": {
                "x": 0.0,
                "y": 1.5,
                "z": 0.0
              }
            },
            "alongGround": true
          }
        },
        //右
        {
          "$type": "TriggerBullet",
          "bulletID": 42602014,
          "born": {
            "$type": "ConfigBornByGlobalValue",
            "positionKey": "_MONSTER_REGISVINE_RANGEDATTACK01_TARGET_POS",
            "offset": {
              "x": 6.0, // + means up, - means down
              "y": 0.0, // + means left, - means right
              "z": -10.0 // + means forward, - means backward
            },
            "onGround": true,
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "maxAngle": 360,
              "maxAngleType": "Horizontal",
              "angleOffset": {
                "x": 0.0,
                "y": -1.5,
                "z": 0.0
              }
            },
            "alongGround": true
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_RangedAttack01_SetGuide_NarrowCross",
      "onAbilityStart": [
        //左
        {
          "$type": "TriggerBullet",
          "bulletID": 42602013,
          "born": {
            "$type": "ConfigBornByGlobalValue",
            "positionKey": "_MONSTER_REGISVINE_RANGEDATTACK01_TARGET_POS",
            "offset": {
              "x": -6.0, // + means up, - means down
              "y": 0.0, // + means left, - means right
              "z": -2.0 // + means forward, - means backward
            },
            "onGround": true,
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "maxAngle": 360,
              "maxAngleType": "Horizontal",
              "angleOffset": {
                "x": 0.0,
                "y": 1.5,
                "z": 0.0
              }
            },
            "alongGround": true
          }
        },
        //右
        {
          "$type": "TriggerBullet",
          "bulletID": 42602014,
          "born": {
            "$type": "ConfigBornByGlobalValue",
            "positionKey": "_MONSTER_REGISVINE_RANGEDATTACK01_TARGET_POS",
            "offset": {
              "x": 6.0, // + means up, - means down
              "y": 0.0, // + means left, - means right
              "z": -2.0 // + means forward, - means backward
            },
            "onGround": true,
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "maxAngle": 360,
              "maxAngleType": "Horizontal",
              "angleOffset": {
                "x": 0.0,
                "y": -1.5,
                "z": 0.0
              }
            },
            "alongGround": true
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_RangedAttack01_SetGuide_NarrowCross_Reverse",
      "onAbilityStart": [
        //左
        {
          "$type": "TriggerBullet",
          "bulletID": 42602013,
          "born": {
            "$type": "ConfigBornByGlobalValue",
            "positionKey": "_MONSTER_REGISVINE_RANGEDATTACK01_TARGET_POS",
            "offset": {
              "x": 6.0, // + means up, - means down
              "y": 0.0, // + means left, - means right
              "z": -2.0 // + means forward, - means backward
            },
            "onGround": true,
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "maxAngle": 360,
              "maxAngleType": "Horizontal",
              "angleOffset": {
                "x": 0.0,
                "y": 1.5,
                "z": 0.0
              }
            },
            "alongGround": true
          }
        },
        //右
        {
          "$type": "TriggerBullet",
          "bulletID": 42602014,
          "born": {
            "$type": "ConfigBornByGlobalValue",
            "positionKey": "_MONSTER_REGISVINE_RANGEDATTACK01_TARGET_POS",
            "offset": {
              "x": -6.0, // + means up, - means down
              "y": 0.0, // + means left, - means right
              "z": -2.0 // + means forward, - means backward
            },
            "onGround": true,
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "maxAngle": 360,
              "maxAngleType": "Horizontal",
              "angleOffset": {
                "x": 0.0,
                "y": -1.5,
                "z": 0.0
              }
            },
            "alongGround": true
          }
        }
      ]
    }
  },
  //消灭引导物件
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_RangedAttack01_KillGuide",
      "onAbilityStart": [
        {
          "$type": "KillGadget",
          "gadgetInfo": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602013,
            "sortType": "Default"
          }
        },
        {
          "$type": "KillGadget",
          "gadgetInfo": {
            "$type": "SelectTargetsByChildren",
            "configID": 42602014,
            "sortType": "Default"
          }
        }
      ]
    }
  },
  //向着引导物件发射子弹，如果找不到引导物件，就向目标发射子弹
  //TODEL
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_RangedAttack01",
      "onAbilityStart": [
        //TODO:
        //左发射器引导，激光发射
        //激光表现+打击盒
        //右发射器引导，激光发射
        //激光表现+打击盒
        {
          //找到瞄准引导，将其设为攻击目标
          "$type": "SetSelfAttackTarget",
          "turnToTargetImmediately": false,
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR75",
            "centerBasedOn": "Self",
            "campTargetType": "All",
            "campBasedOn": "Self"
          },
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Target",
              "key": "_MONSTER_REGISVINE_BULLETGUIDE",
              "value": 1,
              "compareType": "Equal"
            }
          ]
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 42602004,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "LaserPartControlL",
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "randomAngleHor": 0.0,
              "randomAngleVer": 0.0
            }
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack01_02",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "LaserPartControlL"
          }
        },
        {
          "$type": "TriggerBullet",
          "bulletID": 42602004,
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "LaserPartControlR",
            "direction": {
              "$type": "ConfigDirectionByAttackTarget",
              "randomAngleHor": 0.0,
              "randomAngleVer": 0.0
            }
          }
        },
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack01_02",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "LaserPartControlR"
          }
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Laser
  //
  ////////////////////////////////////////////////////////////////
  //发射激光的方案
  //统一处理左右手的激光
  //包括特效、打击盒
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_RangedAttack01_LaserStart",
      "abilityMixins": [
        {
          "$type": "AttachToAnimatorStateIDMixin",
          "stateIDs": [
            "RangedAttack01",
            "RangedAttack01_Combo01",
            "RangedAttack01_Combo02"
          ],
          "modifierName": "Effect"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Laser",
          "target": "Self"
        }
      ],
      "onKill": [
        //移除特效
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_LaserEffect"
        },
        {
          "$type": "TriggerSetRenderersEnable",
          "renderNames": ["Crystal_L"],
          "setEnable": true,
          "target": "Self"
        },
        {
          "$type": "TriggerSetRenderersEnable",
          "renderNames": ["Crystal_R"],
          "setEnable": true,
          "target": "Self"
        }
      ],
      "modifiers": {
        "Effect": {
          "onRemoved": [
            {
              "$type": "ApplyModifier",
              "modifierName": "RemoveLaserEffect"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_RangedAttack01_KillGuide"
            }
          ]
        },
        "RemoveLaserEffect": {
          //清理激光特效相关
          "duration": 0.35,
          "onAdded": [
            {
              "$type": "SendEffectTrigger",
              "parameter": "LaserEnd",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack01_LaserL"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "LaserEnd",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack01_LaserR"
            }
          ],
          "onRemoved": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_LaserEffect"
            }
          ]
        },
        "UNIQUE_Laser": {
          "isUnique": true,
          "onAdded": [
            //挂载特效
            {
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_LaserEffect"
            },
            //关闭花蕊模型显示
            {
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Crystal_L"],
              "setEnable": false,
              "target": "Self"
            },
            {
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Crystal_R"],
              "setEnable": false,
              "target": "Self"
            }
          ],
          "onRemoved": [
            //移除特效
            {
              "$type": "ApplyModifier",
              "modifierName": "RemoveLaserEffect"
            },
            {
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Crystal_L"],
              "setEnable": true,
              "target": "Self"
            },
            {
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Crystal_R"],
              "setEnable": true,
              "target": "Self"
            }
          ]
        },
        "UNIQUE_LaserEffect": {
          "isUnique": true,
          "onAdded": [
            //左右发射器的激光
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack01_LaserL"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack01_LaserR"
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceL"
              }
            },
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_02",
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceR"
              }
            }
          ]
        }
      }
    }
  },
  //关闭激光
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_RangedAttack01_LaserEnd",
      "onAbilityStart": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Laser"
        }
      ]
    }
  },
  //控制扫射对准各自引导器
  //令所有发射器停止引导
  //初始即不引导
  //调用时也停止引导
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_PartControlBullet_Disable",
      "onAbilityStart": [
        {
          "$type": "EnablePartControl",
          "partRootNames": ["LaserPartControlL"],
          "enable": false
        },
        {
          "$type": "EnablePartControl",
          "partRootNames": ["LaserPartControlR"],
          "enable": false
        }
      ]
    }
  },
  //令控制器开始引导
  //左发射器
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_PartControlBulletL_Enable",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR75",
            "centerBasedOn": "Self",
            "campTargetType": "All",
            "campBasedOn": "Self"
          },
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_MONSTER_REGISVINE_BULLETTARGET_L",
              "value": 1.0,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "SetPartControlTarget",
              "target": "Target",
              "partRootNames": ["LaserPartControlL"]
            }
          ]
        },
        {
          "$type": "EnablePartControl",
          "partRootNames": ["LaserPartControlL"],
          "enable": true
        }
      ]
    }
  },
  //令控制器开始引导
  //右发射器
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_PartControlBulletR_Enable",
      "onAbilityStart": [
        {
          "$type": "Predicated",
          "otherTargets": {
            "$type": "SelectTargetsByShape",
            "shapeName": "CircleR75",
            "centerBasedOn": "Self",
            "campTargetType": "All",
            "campBasedOn": "Self"
          },
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_MONSTER_REGISVINE_BULLETTARGET_R",
              "value": 1.0,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            {
              "$type": "SetPartControlTarget",
              "target": "Target",
              "partRootNames": ["LaserPartControlR"]
            }
          ]
        },
        {
          "$type": "EnablePartControl",
          "partRootNames": ["LaserPartControlR"],
          "enable": true
        }
      ]
    }
  },
  //引导物件的判定与表现
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_PartControlBullet_Bullet",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "Bullet_Loop",
          "target": "Self"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "predicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Owner",
              "key": "_ELITEAFFIX_ATTACK_ENHANCE",
              "value": 0,
              "compareType": "NoneOrEqual"
            }
          ],
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackBox",
              "triggerType": "TriggerNoRepeat",
              "size": {
                "x": 1.0,
                "y": 1.0,
                "z": 1.0
              },
              "born": {
                "$type": "ConfigBornByCollisionPoint",
                "offset": {
                  "x": 0.0, // + means up, - means down
                  "y": 0.0, // + means left, - means right
                  "z": 0.0 // + means forward, - means backward
                }
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackProperty": {
                "damagePercentage": 0.5,
                "elementType": "Ice",
                "strikeType": "Pierce",
                "enBreak": 100.0
              },
              "hitPattern": {
                "onHitEffectName": "default",
                "hitImpulseType": "LV3",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.01,
                "muteHitText": false
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeType": "Center",
                "shakeRange": 0.06,
                "shakeTime": 0.09,
                "shakeDistance": 20
              }
            }
          }
        }
      ],
      "modifiers": {
        "Bullet_Loop": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack01_Explode"
            }
          ],
          "onKill": [
            {
              "$type": "RemoveModifier",
              "modifierName": "Bullet_Loop"
            }
          ]
        }
      }
    }
  },
  //标识控制物件的GlobalValue，控制物件gadget使用
  //左手发射器引导器
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_PartControlBulletL_GlobalValue",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_BULLETTARGET_L",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        }
      ]
    }
  },
  //标识控制物件的GlobalValue，控制物件gadget使用
  //右手发射器引导器
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_PartControlBulletR_GlobalValue",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_BULLETTARGET_R",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        }
      ]
    }
  },
  //能量传递
  {
    "Default": {
      //发射子弹
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_RangedAttack02_TriggerShaderEffect",
      "onAbilityStart": [
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "Shader_Skill_RangedAttack02",
          "MPTriggerOnRemote": true
        }
      ]
    }
  },
  //炮弹
  //TODEL
  {
    "Default": {
      //左手导弹
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_RangedAttack02L",
      "onAbilityStart": [
        //连续发射
        {
          "$type": "ApplyModifier",
          "modifierName": "Shoot_L",
          "target": "Self"
        },
        {
          //枪口焰
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_02",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletSourceL"
          }
        },
        {
          //隐藏花蕊
          "$type": "TriggerSetRenderersEnable",
          "renderNames": ["Crystal_L"],
          "setEnable": false,
          "target": "Self"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Reload_L",
          "target": "Self"
        },
        {
          //花蕊生长
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_03_L",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletSourceL"
          }
        }
      ],
      "modifiers": {
        "Shoot_L": {
          "duration": 0.5,
          //"thinkInterval": 0.1,
          "onAdded": [
            {
              //子弹发射
              "$type": "TriggerBullet",
              "bulletID": 42602008,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceL",
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  // "speedForPredictive" : 20,
                  //"maxAngle": 120,
                  "angleOffset": {
                    "x": 30.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                  // {
                  // 	"x": -3.0,
                  // 	"y": -15.0,
                  // 	"z": 0.0,
                  // },
                  // "maxAngleType": "Horizontal",
                }
              }
            },
            {
              //子弹发射
              "$type": "TriggerBullet",
              "bulletID": 42602008,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceL",
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  // "speedForPredictive" : 20,
                  //"maxAngle": 120,
                  "angleOffset": {
                    "x": 20.0,
                    "y": -15.0,
                    "z": 0.0
                  }
                  // {
                  // 	"x": 0.0,
                  // 	"y": 0.0,
                  // 	"z": 0.0,
                  // },
                  // "maxAngleType": "Horizontal",
                }
              }
            },
            {
              //子弹发射
              "$type": "TriggerBullet",
              "bulletID": 42602008,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceL",
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  // "speedForPredictive" : 20,
                  //"maxAngle": 120,
                  "angleOffset": {
                    "x": 10.0,
                    "y": -30.0,
                    "z": 0.0
                  }
                  // {
                  // 	"x": 6.0,
                  // 	"y": 15.0,
                  // 	"z": 0.0,
                  // },
                  // "maxAngleType": "Horizontal",
                }
              }
            },
            {
              //子弹发射
              "$type": "TriggerBullet",
              "bulletID": 42602008,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceL",
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  // "speedForPredictive" : 20,
                  //"maxAngle": 120,
                  "angleOffset": {
                    "x": 0.0,
                    "y": -45.0,
                    "z": 0.0
                  }
                  // {
                  // 	"x": 12.0,
                  // 	"y": 30.0,
                  // 	"z": 0.0,
                  // },
                  // "maxAngleType": "Horizontal",
                }
              }
            }
          ],
          "onThinkInterval": []
        },
        "Reload_L": {
          "duration": 0.5,
          "onRemoved": [
            {
              //显示花蕊
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Crystal_L"],
              "setEnable": true,
              "target": "Self"
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      //右手导弹
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_RangedAttack02R",
      "onAbilityStart": [
        //连续发射
        {
          "$type": "ApplyModifier",
          "modifierName": "Shoot_R",
          "target": "Self"
        },
        {
          //枪口焰
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_02",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletSourceR"
          }
        },
        {
          //隐藏花蕊
          "$type": "TriggerSetRenderersEnable",
          "renderNames": ["Crystal_R"],
          "setEnable": false,
          "target": "Self"
        },
        {
          //花蕊生长
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_03_R",
          "born": {
            "$type": "ConfigBornByAttachPoint",
            "attachPointName": "BulletSourceR"
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Reload_R",
          "target": "Self"
        }
      ],
      "modifiers": {
        "Shoot_R": {
          "duration": 0.5,
          // "thinkInterval": 0.1,
          "onAdded": [
            {
              //子弹发射
              "$type": "TriggerBullet",
              "bulletID": 42602008,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceR",
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  // "speedForPredictive" : 20,
                  //"maxAngle": 120,
                  "angleOffset": {
                    "x": 30.0,
                    "y": 0.0,
                    "z": 0.0
                  }
                  // {
                  // 	"x": -3.0,
                  // 	"y": 15.0,
                  // 	"z": 0.0,
                  // },
                  // "maxAngleType": "Horizontal",
                }
              }
            },
            {
              //子弹发射
              "$type": "TriggerBullet",
              "bulletID": 42602008,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceR",
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  // "speedForPredictive" : 20,
                  //"maxAngle": 120,
                  "angleOffset": {
                    "x": 20.0,
                    "y": 15.0,
                    "z": 0.0
                  }
                  // {
                  // 	"x": 0.0,
                  // 	"y": 0.0,
                  // 	"z": 0.0,
                  // },

                  // "maxAngleType": "Horizontal",
                }
              }
            },
            {
              //子弹发射
              "$type": "TriggerBullet",
              "bulletID": 42602008,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceR",
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  // "speedForPredictive" : 20,
                  //"maxAngle": 120,
                  "angleOffset": {
                    "x": 10.0,
                    "y": 30.0,
                    "z": 0.0
                  }
                  // {
                  // 	"x": 6.0,
                  // 	"y": -15.0,
                  // 	"z": 0.0,
                  // },
                  // "maxAngleType": "Horizontal",
                }
              }
            },
            {
              //子弹发射
              "$type": "TriggerBullet",
              "bulletID": 42602008,
              "born": {
                "$type": "ConfigBornByAttachPoint",
                "attachPointName": "BulletSourceR",
                "direction": {
                  "$type": "ConfigDirectionByEntity",
                  // "speedForPredictive" : 20,
                  //"maxAngle": 120,
                  "angleOffset": {
                    "x": 0.0,
                    "y": 45.0,
                    "z": 0.0
                  }
                  // {
                  // 	"x": 12.0,
                  // 	"y": -30.0,
                  // 	"z": 0.0,
                  // },
                  // "maxAngleType": "Horizontal",
                }
              }
            }
          ]
          // "onThinkInterval":
          // [

          // ],
        },
        "Reload_R": {
          "duration": 0.5,
          "onRemoved": [
            {
              //显示花蕊
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Crystal_R"],
              "setEnable": true,
              "target": "Self"
            }
          ]
        }
      }
    }
  },
  {
    //子弹落地后产生的冰气
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_RangedAttack02_IceFog",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Ice_Fog",
          "target": "Self"
        }
      ],
      "modifiers": {
        "Ice_Fog": {
          "duration": 10.0,
          "thinkInterval": 1.0,
          "onThinkInterval": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "fanAngle": 360.0,
                  "radius": 3.0,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0.0,
                      "y": 0.0,
                      "z": 0.0
                    }
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attenuationTag": "Regisvine_Ice_IceFog",
                  "attenuationGroup": "Regisvine_Common",
                  "attackProperty": {
                    "damagePercentage": 0.3,
                    "elementType": "Ice",
                    "elementDurability": 25,
                    "enBreak": 0.0
                  },
                  "hitPattern": {
                    "onHitEffectName": "",
                    "hitImpulseType": "LV1",
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.05,
                    "muteHitText": false
                  }
                }
              }
            }
          ],
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_FrozenFloor_01"
            }
          ]
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  FruitSkill
  //
  ////////////////////////////////////////////////////////////////
  //TODO:
  //大导弹攻击shader效果
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_MissileAttack_BS_TriggerShaderEffect",
      "onAbilityStart": [
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "Shader_Skill_MissileAttack_BS",
          "MPTriggerOnRemote": true
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_BlizzardSpit_TriggerShaderEffect",
      "onAbilityStart": [
        {
          "$type": "SetAnimatorTrigger",
          "triggerID": "Shader_Skill_BlizzardSpit",
          "MPTriggerOnRemote": true
        }
      ]
    }
  },
  //击晕
  {
    "Default": {
      //控制击晕的持续时间
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_Faint_Fruit",
      "onAbilityStart": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_FaintState_Fruit",
          "target": "Self"
        }
      ],
      "onAdded": [
        {
          //init Faint Gloval
          "$type": "SetGlobalValue",
          "key": "_MONSTER_REGISVINE_ISFAINT",
          "value": 0,
          "doOffStage": true
        },
        {
          //init Faint Fruit Gloval
          "$type": "SetGlobalValue",
          "key": "_MONSTER_REGISVINE_ISFAINT_FRUIT",
          "value": 0,
          "doOffStage": true
        }
      ],
      "modifiers": {
        "UNIQUE_FaintState_Fruit": {
          "isUnique": true,
          "forceSyncToRemote": true,
          "onAdded": [
            //TODO:表现
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_BlizzardSpitPushColliderOff"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_FlowerPushColliderOff"
            },
            {
              //Set Faint Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT",
              "value": 1,
              "doOffStage": true
            },
            {
              //Set Faint Fruit Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_FRUIT",
              "value": 1,
              "doOffStage": true
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Disappear",
              "effectPattern": "Eff_Monster_Regisvine_Ice_BlizzardSpit_HitGround"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Disappear",
              "effectPattern": "Eff_Monster_Regisvine_Ice_BlizzardSpit_Reverse_HitGround"
            },
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602015,
                "sortType": "Default"
              }
            },
            {
              "$type": "ReTriggerAISkillInitialCD",
              "skillIDs": [501]
            },
            {
              //Used by actvity
              "$type": "SetGlobalValue",
              "key": "_SERVER_REGISVINE_ICE_ACTIVITY_PHASE",
              "value": 3,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
                  "value": 1,
                  "compareType": "MoreThanAndEqual"
                }
              ]
            },
            {
              "$type": "AttachBulletAimPoint",
              "bulletAimPoint": "Core"
            }
          ],
          "onRemoved": [
            //For activity, use different revenge
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
                  "value": 1,
                  "compareType": "MoreThanAndEqual"
                }
              ],
              "successActions": [
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "RevengeAttackActivityTrigger",
                  "MPTriggerOnRemote": true
                }
              ],
              "failActions": [
                {
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "RevengeAttackTrigger",
                  "MPTriggerOnRemote": true
                }
              ]
            },
            {
              "$type": "ReTriggerAISkillInitialCD",
              "skillIDs": [204, 421]
            },
            {
              //Reset Faint Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT",
              "value": 0,
              "doOffStage": true
            },
            {
              //Reset Faint Fruit Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_FRUIT",
              "value": 0,
              "doOffStage": true
            }
          ],
          "onKill": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": [
                "PushCollider_Faint01",
                "PushCollider_Faint01_Extra"
              ],
              "setEnable": false
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": true
            },
            {
              //Reset Faint Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT",
              "value": 0,
              "doOffStage": true
            },
            {
              //Reset Faint Fruit Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_FRUIT",
              "value": 0,
              "doOffStage": true
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      //控制击晕的持续时间
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_Faint_Core",
      "onAbilityStart": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_FaintState_Core",
          "target": "Self"
        }
      ],
      "onAdded": [
        {
          //init Faint Core Gloval
          "$type": "SetGlobalValue",
          "key": "_MONSTER_REGISVINE_ISFAINT_CORE",
          "value": 0,
          "doOffStage": true
        }
      ],
      "modifiers": {
        "UNIQUE_FaintState_Core": {
          "isUnique": true,
          "onAdded": [
            //TODO:表现
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_BlizzardSpitPushColliderOff"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Monster_Regisvine_FlowerPushColliderOff"
            },
            {
              //Set Faint Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT",
              "value": 1,
              "doOffStage": true
            },
            {
              //Set Faint Core Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_CORE",
              "value": 1,
              "doOffStage": true
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Disappear",
              "effectPattern": "Eff_Monster_Regisvine_Ice_BlizzardSpit_HitGround"
            },
            {
              "$type": "SendEffectTrigger",
              "parameter": "Disappear",
              "effectPattern": "Eff_Monster_Regisvine_Ice_BlizzardSpit_Reverse_HitGround"
            },
            {
              "$type": "KillGadget",
              "gadgetInfo": {
                "$type": "SelectTargetsByChildren",
                "configID": 42602015,
                "sortType": "Default"
              }
            },
            {
              "$type": "ReTriggerAISkillInitialCD",
              "skillIDs": [501]
            },
            {
              //Used by actvity
              "$type": "SetGlobalValue",
              "key": "_SERVER_REGISVINE_ICE_ACTIVITY_PHASE",
              "value": 7,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
                  "value": 1,
                  "compareType": "MoreThanAndEqual"
                }
              ]
            },
            {
              "$type": "AttachBulletAimPoint",
              "bulletAimPoint": "Core"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorInt",
              "intID": "Shader_FruitUpper_State",
              "value": 1,
              "target": "Owner"
            },
            {
              //Reset Faint Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT",
              "value": 0,
              "doOffStage": true
            },
            {
              //Reset Faint Core Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_CORE",
              "value": 0,
              "doOffStage": true
            }
          ],
          "onKill": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": [
                "PushCollider_Faint01",
                "PushCollider_Faint01_Extra"
              ],
              "setEnable": false
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": true
            },
            {
              //Reset Faint Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT",
              "value": 0,
              "doOffStage": true
            },
            {
              //Reset Faint Core Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_ISFAINT_CORE",
              "value": 0,
              "doOffStage": true
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      //控制击晕的持续时间
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_Faint_Recover",
      "abilityMixins": [
        //处理苏醒过程
        {
          "$type": "AttachToNormalizedTimeMixin",
          "stateID": "Faint_AS",
          "modifierName": "FaintRecover",
          "target": "Self",
          "normalizeStart": 0.5,
          "normalizeEnd": 1.0
        }
      ],
      "modifiers": {
        "FaintRecover": {
          "forceSyncToRemote": true,
          "onAdded": [
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_FaintState_Fruit"
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_FaintState_Core"
            }
          ],
          "onRemoved": []
        }
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Bullet Gadget Abilities
  //
  ////////////////////////////////////////////////////////////////
  //IceWave
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_IceWave",
      "onAdded": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_MeleeAttack01_01",
          "born": {
            "$type": "ConfigBornBySelf"
          }
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerOnce",
              "height": 4,
              "radius": 2.5,
              "born": {
                "$type": "ConfigBornBySelf"
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attenuationTag": "Regisvine_Ice_IceWave",
              "attenuationGroup": "Regisvine_Common",
              "attackProperty": {
                "damagePercentage": 0.5,
                "strikeType": "Blunt",
                "enBreak": 100.0,
                "elementDurability": 25,
                "elementType": "Ice"
              },
              "hitPattern": {
                "onHitEffectName": "default",
                "hitImpulseType": "LV7",
                "retreatType": "ByHitDirection",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.01,
                "muteHitText": false
              }
            }
          }
        },
        {
          "$type": "AttachModifier",
          "modifierName": "Regisvine_Ice_IceWave_Delay"
        }
      ],
      "modifiers": {
        "Regisvine_Ice_IceWave_Delay": {
          "duration": 0.2,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "Regisvine_Ice_IceWave_Normal"
            }
          ]
        },
        "Regisvine_Ice_IceWave_Normal": {
          "duration": 1.6,
          "thinkInterval": 0.2,
          "onThinkInterval": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_MeleeAttack01_01",
              "born": {
                "$type": "ConfigBornBySelf"
              }
            },
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerOnce",
                  "radius": 2,
                  "height": 3,
                  "born": {
                    "$type": "ConfigBornBySelf"
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attenuationTag": "Regisvine_Ice_IceWave",
                  "attenuationGroup": "Regisvine_Common",
                  "attackProperty": {
                    "damagePercentage": 0.5,
                    "strikeType": "Blunt",
                    "enBreak": 100.0,
                    "elementDurability": 25,
                    "elementType": "Ice"
                  },
                  "hitPattern": {
                    "onHitEffectName": "default",
                    "hitImpulseType": "LV7",
                    "retreatType": "ByHitDirection",
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.01,
                    "muteHitText": false
                  }
                }
              }
            }
          ]
        }
      }
    }
  },
  //TODO:
  //扫射子弹
  //Regisvine_RangedAttack01_Bullet_Loop
  //Regisvine_RangedAttack01_Bullet_Collide
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_RangedAttack01_Bullet_Loop",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Regisvine_RangedAttack01_Bullet_Loop",
          "target": "Self"
        }
      ],
      "modifiers": {
        "UNIQUE_Regisvine_RangedAttack01_Bullet_Loop": {
          "isUnique": true,
          "elementType": "Frozen",
          "elementDurability": 100,
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack01_Bullet"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_RangedAttack01_Bullet_Collide",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_Hit_Ice_01",
          "born": {
            "$type": "ConfigBornByCollisionPoint"
          }
        },
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Regisvine_RangedAttack01_Bullet_Loop"
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 1.0,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.25,
                  "z": 0.0
                }
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackProperty": {
                "damagePercentage": 0.2,
                "strikeType": "Blunt",
                "elementType": "Ice",
                "elementDurability": 50,
                "enBreak": 200.0
              },
              "hitPattern": {
                "hitImpulseType": "LV4",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeType": "Center",
                "shakeRange": 0.06,
                "shakeTime": 0.09,
                "shakeDistance": 20
              }
            }
          }
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_RangedAttack01_Guide_SetGlobalValue",
      "onAdded": [
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_BULLETGUIDE",
          "value": 1,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0
        }
      ]
    }
  },

  //小导弹
  //Regisvine_RangedAttack02_MinorMissile
  {
    "Default": {
      //子弹触发逻辑
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_RangedAttack02_MinorMissile",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Regisvine_RangedAttack02_MinorMissile_Effect"
        }
      ],
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_Bullet_Hit",
          "scale": 0.4,
          "born": {
            "$type": "ConfigBornByCollisionPoint"
          }
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 0.5,
              "born": {
                "$type": "ConfigBornByCollisionPoint",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackProperty": {
                "damagePercentage": 0.3,
                "strikeType": "Default",
                "attackType": "Melee",
                "enBreak": 100.0
              },
              "hitPattern": {
                "hitImpulseType": "LV4",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeType": "HitVector",
                "shakeRange": 0.06,
                "shakeTime": 0.12,
                "shakeDistance": 20,
                "shakeDir": {
                  "x": 0,
                  "y": 0,
                  "z": 1
                }
              }
            }
          }
        },
        {
          "$type": "RemoveModifier",
          "modifierName": "Regisvine_RangedAttack02_MinorMissile_Effect"
        },
        {
          "$type": "KillSelf"
        }
      ],
      "modifiers": {
        "Regisvine_RangedAttack02_MinorMissile_Effect": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_Bullet"
            }
          ]
        }
      }
    }
  },
  //抛射冰炸弹
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_RangedAttack02_Bomb_Loop",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "BombThrow_Loop",
          "target": "Self"
        }
      ],
      "modifiers": {
        "BombThrow_Loop": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_Bullet"
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_RangedAttack02_Bomb_Explode",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_Hit_Ice_01",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 1.5,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                }
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackProperty": {
                "damagePercentage": 0.125,
                "strikeType": "Blunt",
                "elementType": "Ice",
                "elementDurability": 50,
                "enBreak": 16.7
              },
              "hitPattern": {
                "onHitEffectName": "none",
                "hitImpulseType": "LV3",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeType": "Center",
                "shakeRange": 0.06,
                "shakeTime": 0.09,
                "shakeDistance": 20
              }
            }
          }
        },
        // {
        // 	"$type": "CreateGadget",
        // 	"gadgetID": 42602011,
        // 	"campID": 4001,
        // 	"campTargetType": "Enemy",
        // 	"born":
        // 	{
        // 		"$type": "ConfigBornByTarget",
        // 		"offset":
        // 		{
        // 			"x": 0.0,
        // 			"y": 0.0,
        // 			"z": 0.0,
        // 		},
        // 		"onGround": true,
        // 		"alongGround": true,
        // 	},
        // },
        {
          "$type": "KillSelf"
        }
      ]
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_RangedAttack02_BombOnGround_Loop",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "BombThrow_Loop",
          "target": "Self"
        }
      ],
      "modifiers": {
        "BombThrow_Loop": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_Bullet_OnGround"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_RangedAttack02_BombOnGround_Explode",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_RangedAttack02_Bullet_Explode",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "onGround": true,
            "alongGround": true
          }
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 2.0,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "onGround": true,
                "alongGround": true
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackProperty": {
                "damagePercentage": 0.75,
                "strikeType": "Blunt",
                "elementType": "Ice",
                "elementDurability": 50,
                "enBreak": 200.0
              },
              "hitPattern": {
                "hitImpulseType": "LV3",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeType": "Center",
                "shakeRange": 0.06,
                "shakeTime": 0.09,
                "shakeDistance": 20
              }
            }
          }
        }
        // {
        // 	"$type": "CreateGadget",
        // 	"gadgetID": 42602009,
        // 	"campID": 4001,
        // 	"campTargetType": "Enemy",
        // 	"born":
        // 	{
        // 		"$type": "ConfigBornByTarget",
        // 		"offset":
        // 		{
        // 			"x": 0.0,
        // 			"y": 0.0,
        // 			"z": 0.0,
        // 		},
        // 		"onGround": true,
        // 		"alongGround": true,
        // 	},
        // },
      ]
    }
  },
  //大导弹
  //Regisvine_MissileAttack_LargeMissile
  {
    "Default": {
      //子弹触发逻辑
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_MissileAttack_LargeMissile",
      "onAdded": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_MissileAttack_Warning",
          "born": {
            "$type": "ConfigBornByTarget",
            "onGround": true,
            "alongGround": true
          }
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Effect_Timer"
        },
        {
          "$type": "ApplyModifier",
          "modifierName": "Damage_Timer"
        }
      ],
      "modifiers": {
        "Damage_Timer": {
          "duration": 3.0,
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_MissileAttack_Bullet_Explode",
              "born": {
                "$type": "ConfigBornByTarget",
                "onGround": true,
                "alongGround": true
              }
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "SingleDamage",
              "target": "Self"
            }
          ]
        },
        "Effect_Timer": {
          "duration": 1.0,
          "onRemoved": [
            {
              "$type": "FireEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_MissileAttack_Bullet_OnGround",
              "born": {
                "$type": "ConfigBornByTarget",
                "onGround": true,
                "alongGround": true
              }
            },
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "fanAngle": 360.0,
                  "height": 2,
                  "radius": 1.5,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0, // + means up, - means down
                      "y": 0, // + means left, - means right
                      "z": 0 // + means forward, - means backward
                    },
                    "onGround": true,
                    "alongGround": true
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackProperty": {
                    "damagePercentage": 0.5,
                    "strikeType": "Default",
                    "elementType": "Ice",
                    "elementDurability": 50,
                    "enBreak": 50.0
                  },
                  "hitPattern": {
                    "hitImpulseType": "LV4",
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.05,
                    "muteHitText": false
                  }
                }
              }
            }
          ],
          "onAttackLanded": [
            {
              "$type": "AddGlobalValue",
              "target": "Target",
              "key": "_ABILITY_REGISVINE_ICE_MISSILEATTACK_HIT",
              "value": 1.0,
              "useLimitRange": true,
              "maxValue": 1.0,
              "minValue": 0.0
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "MissileAttack_HitDelay",
              "target": "Target"
            }
          ]
        },
        "SingleDamage": {
          "duration": 0.5,
          "onAdded": [
            {
              "$type": "TriggerAttackEvent",
              "targetType": "Enemy",
              "attackEvent": {
                "attackPattern": {
                  "$type": "ConfigAttackCircle",
                  "triggerType": "TriggerNoRepeat",
                  "fanAngle": 360.0,
                  "height": 2,
                  "radius": 3.5,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "offset": {
                      "x": 0, // + means up, - means down
                      "y": 0, // + means left, - means right
                      "z": 0 // + means forward, - means backward
                    },
                    "onGround": true,
                    "alongGround": true
                  }
                },
                "attackInfo": {
                  "canBeModifiedBy": "OriginOwner",
                  "attackProperty": {
                    "damagePercentage": 0.5,
                    "strikeType": "Default",
                    "elementType": "Ice",
                    "elementDurability": 50,
                    "enBreak": 100.0
                  },
                  "hitPattern": {
                    "hitImpulseType": "LV4",
                    "reboundRatio": 0,
                    "hitHaltTime": 0.0,
                    "hitHaltTimeScale": 0.05,
                    "muteHitText": false
                  }
                }
              }
            },
            {
              "$type": "CreateGadget",
              "gadgetID": 42602009,
              "campID": 4001,
              "sightGroupWithOwner": false,
              "campTargetType": "Enemy",
              "born": {
                "$type": "ConfigBornByTarget",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "onGround": true,
                "alongGround": true
              }
            }
          ],
          "onAttackLanded": [
            {
              "$type": "AddGlobalValue",
              "target": "Target",
              "key": "_ABILITY_REGISVINE_ICE_MISSILEATTACK_HIT",
              "value": 1.0,
              "useLimitRange": true,
              "maxValue": 1.0,
              "minValue": 0.0
            },
            {
              "$type": "ApplyModifier",
              "modifierName": "MissileAttack_HitDelay",
              "target": "Target"
            }
          ]
        },
        "MissileAttack_HitDelay": {
          "duration": 2.5,
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_ABILITY_REGISVINE_ICE_MISSILEATTACK_HIT",
              "value": -1.0,
              "useLimitRange": true,
              "maxValue": 1.0,
              "minValue": 0.0
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_MissileAttack_OnGround_Loop",
      "onAdded": [
        {
          "$type": "AttachModifier",
          "modifierName": "BombThrow_Loop",
          "target": "Self"
        }
      ],
      "modifiers": {
        "BombThrow_Loop": {
          "onAdded": [
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_MissileAttack_Bullet_OnGround"
            }
          ],
          "onRemoved": [
            {
              "$type": "KillSelf"
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_MissileAttack_OnGround_Explode",
      "onAbilityStart": [
        {
          "$type": "FireEffect",
          "effectPattern": "Eff_Monster_Regisvine_Ice_MissileAttack_Bullet_Explode",
          "born": {
            "$type": "ConfigBornBySelf",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "onGround": true,
            "alongGround": true
          }
        },
        {
          "$type": "TriggerAttackEvent",
          "targetType": "Enemy",
          "attackEvent": {
            "attackPattern": {
              "$type": "ConfigAttackSphere",
              "triggerType": "TriggerNoRepeat",
              "radius": 1.5,
              "born": {
                "$type": "ConfigBornBySelf",
                "offset": {
                  "x": 0.0,
                  "y": 0.0,
                  "z": 0.0
                },
                "onGround": true,
                "alongGround": true
              }
            },
            "attackInfo": {
              "canBeModifiedBy": "OriginOwner",
              "attackProperty": {
                "damagePercentage": 0.75,
                "strikeType": "Blunt",
                "elementType": "Ice",
                "elementDurability": 50,
                "enBreak": 200.0
              },
              "hitPattern": {
                "hitImpulseType": "LV3",
                "reboundRatio": 0,
                "hitHaltTime": 0.0,
                "hitHaltTimeScale": 0.05,
                "muteHitText": false
              },
              "forceCameraShake": false,
              "cameraShake": {
                "shakeType": "Center",
                "shakeRange": 0.06,
                "shakeTime": 0.09,
                "shakeDistance": 20
              }
            }
          }
        },
        {
          "$type": "CreateGadget",
          "gadgetID": 42602009,
          "campID": 4001,
          "sightGroupWithOwner": false,
          "campTargetType": "Enemy",
          "born": {
            "$type": "ConfigBornByTarget",
            "offset": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            },
            "onGround": true,
            "alongGround": true
          }
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  HitBox Management Abilities
  //
  ////////////////////////////////////////////////////////////////
  //初始化
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_HitboxInitialization",
      "onAbilityStart": [
        {
          "$type": "EnableHitBoxByName",
          "hitBoxNames": ["HitBox_Fruit"],
          "setEnable": false
        },
        {
          "$type": "EnableHitBoxByName",
          "hitBoxNames": ["HitBox_Core"],
          "setEnable": true
        },
        {
          "$type": "EnableHitBoxByName",
          "hitBoxNames": ["HitBox_Core_Lockable"],
          "setEnable": false
        },
        {
          "$type": "EnableHitBoxByName",
          "hitBoxNames": ["HitBox_Core_Critical"],
          "setEnable": false
        },
        {
          "$type": "EnableHitBoxByName",
          "hitBoxNames": ["HitBox_Core_Critical_Lockable"],
          "setEnable": false
        }
      ]
    }
  },
  //打开对头部的锁定
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_FlowerLockableOn",
      "onAbilityStart": [
        {
          "$type": "EnableHitBoxByName",
          "hitBoxNames": ["HitBox_Core_Lockable"],
          "setEnable": true
        }
        // {
        // 	"$type": "Predicated",
        // 	"target": "Self",
        // 	"targetPredicates":
        // 	[
        // 		{
        // 			"$type": "ByAnimatorFloat",
        // 			"parameter": "PoseID",
        // 			"value": 1020,
        // 			"logic": "Greater",
        // 		},
        // 		{
        // 			"$type": "ByAnimatorFloat",
        // 			"parameter": "PoseID",
        // 			"value": 1040,
        // 			"logic": "Lesser",
        // 		},
        // 	],
        // 	"successActions":
        // 	[
        // 		{
        // 			"$type" : "EnableHitBoxByName",
        // 			"hitBoxNames" : ["HitBox_Core_Critical"],
        // 			"setEnable" : true,
        // 		},
        // 		{
        // 			"$type" : "EnableHitBoxByName",
        // 			"hitBoxNames" : ["HitBox_Core_Critical_Lockable"],
        // 			"setEnable" : true,
        // 		},
        // 	],
        // 	"failActions":
        // 	[
        // 		{
        // 			"$type" : "EnableHitBoxByName",
        // 			"hitBoxNames" : ["HitBox_Core"],
        // 			"setEnable" : true,
        // 		},
        // 		{
        // 			"$type" : "EnableHitBoxByName",
        // 			"hitBoxNames" : ["HitBox_Core_Lockable"],
        // 			"setEnable" : true,
        // 		},
        // 	],
        // },
      ]
    }
  },
  //关闭对头部的锁定
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_FlowerLockableOff",
      "onAbilityStart": [
        {
          "$type": "EnableHitBoxByName",
          "hitBoxNames": ["HitBox_Core_Lockable"],
          "setEnable": false
        }
        // {
        // 	"$type": "Predicated",
        // 	"target": "Self",
        // 	"targetPredicates":
        // 	[
        // 		{
        // 			"$type": "ByAnimatorFloat",
        // 			"parameter": "PoseID",
        // 			"value": 1020,
        // 			"logic": "Greater",
        // 		},
        // 		{
        // 			"$type": "ByAnimatorFloat",
        // 			"parameter": "PoseID",
        // 			"value": 1040,
        // 			"logic": "Lesser",
        // 		},
        // 	],
        // 	"successActions":
        // 	[
        // 		{
        // 			"$type" : "EnableHitBoxByName",
        // 			"hitBoxNames" : ["HitBox_Core_Critical"],
        // 			"setEnable" : true,
        // 		},
        // 		{
        // 			"$type" : "EnableHitBoxByName",
        // 			"hitBoxNames" : ["HitBox_Core_Critical_Lockable"],
        // 			"setEnable" : false,
        // 		},
        // 	],
        // 	"failActions":
        // 	[
        // 		{
        // 			"$type" : "EnableHitBoxByName",
        // 			"hitBoxNames" : ["HitBox_Core"],
        // 			"setEnable" : true,
        // 		},
        // 		{
        // 			"$type" : "EnableHitBoxByName",
        // 			"hitBoxNames" : ["HitBox_Core_Lockable"],
        // 			"setEnable" : false,
        // 		},
        // 	],
        // },
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  PushColliderManager
  //
  ////////////////////////////////////////////////////////////////
  //打开头部额外碰撞
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_FlowerPushColliderOn",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Regisvine_FlowerPushCollider",
          "target": "Self"
        }
      ],
      "modifiers": {
        "UNIQUE_Regisvine_FlowerPushCollider": {
          "isUnique": true,
          "onAdded": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider_Head"],
              "setEnable": true
            }
          ],
          "onRemoved": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider_Head"],
              "setEnable": false
            }
          ]
        }
      }
    }
  },
  //关闭头部额外碰撞
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_FlowerPushColliderOff",
      "onAbilityStart": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Regisvine_FlowerPushCollider"
        }
      ]
    }
  },
  //打开BlizzardSpit技能额外碰撞
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_BlizzardSpitPushColliderOn",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Regisvine_Ice_BlizzardSpitPushCollider",
          "target": "Self"
        }
      ],
      "modifiers": {
        "UNIQUE_Regisvine_Ice_BlizzardSpitPushCollider": {
          "isUnique": true,
          "onAdded": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider_BlizzardSpit"],
              "setEnable": true
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": false
            }
          ],
          "onRemoved": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider_BlizzardSpit"],
              "setEnable": false
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": true
            }
          ]
        }
      }
    }
  },
  //关闭BlizzardSpit技能额外碰撞
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_BlizzardSpitPushColliderOff",
      "onAbilityStart": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Regisvine_Ice_BlizzardSpitPushCollider"
        }
      ]
    }
  },
  //打开眩晕技能额外碰撞
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_FaintPushColliderOn",
      "onAbilityStart": [
        {
          "$type": "ApplyModifier",
          "modifierName": "UNIQUE_Regisvine_FaintPushCollider",
          "target": "Self"
        }
      ],
      "modifiers": {
        "UNIQUE_Regisvine_FaintPushCollider": {
          "isUnique": true,
          "onAdded": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": [
                "PushCollider_Faint01",
                "PushCollider_Faint01_Extra"
              ],
              "setEnable": true
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": false
            }
          ],
          "onRemoved": [
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": [
                "PushCollider_Faint01",
                "PushCollider_Faint01_Extra"
              ],
              "setEnable": false
            },
            {
              "$type": "EnablePushColliderName",
              "pushColliderNames": ["PushCollider"],
              "setEnable": true
            }
          ]
        }
      }
    }
  },
  //关闭眩晕技能额外碰撞
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_FaintPushColliderOff",
      "onAbilityStart": [
        {
          "$type": "RemoveUniqueModifier",
          "modifierName": "UNIQUE_Regisvine_FaintPushCollider"
        }
      ]
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Core/Fruit Gadget Abilities
  //
  ////////////////////////////////////////////////////////////////
  //Fruit
  //果实的元素条，
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_FruitGadget",
      "onAdded": [
        //For activity, change durabiity
        {
          "$type": "Predicated",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Owner",
              "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
              "value": 1,
              "compareType": "MoreThanAndEqual"
            }
          ],
          "successActions": [
            {
              "$type": "SetOverrideMapValue",
              "overrideMapKey": "FruitElementDurability",
              "value": 600.0,
              "target": "Self"
            }
          ],
          "failActions": [
            {
              "$type": "SetOverrideMapValue",
              "overrideMapKey": "FruitElementDurability",
              "value": 300.0,
              "target": "Self"
            }
          ]
        },
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Regisvine_Ice_Fruit",
          "target": "Self"
        },
        // {
        // 	"$type": "SetAnimatorBool",
        // 	"boolID": "FruitCovered",
        // 	"value": false,
        // 	"target": "Owner",
        // },
        {
          "$type": "AddGlobalValue",
          "key": "_MONSTER_REGISVINE_FRUITCOVERED",
          "value": -10,
          "useLimitRange": true,
          "maxValue": 1,
          "minValue": 0,
          "target": "Owner"
        },
        {
          "$type": "EnableHitBoxByName",
          "hitBoxNames": ["HitBox"],
          "setEnable": true
        },
        {
          "$type": "HideUIBillBoard",
          "hide": false
        }
      ],
      "modifiers": {
        "UNIQUE_Regisvine_Ice_Fruit": {
          //实现果实相关逻辑的主要modifier
          //带有ShieldBarMixin 在Durability被反应完时触发onShieldBroken，就是眩晕之类的效果
          "stacking": "Unique",
          "isUnique": true,
          "forceSyncToRemote": true,
          "elementType": "Frozen",
          "elementDurability": "%FruitElementDurability",
          "modifierMixins": [
            {
              "$type": "ShieldBarMixin",
              "useMutiPlayerFixData": true,
              "onShieldBroken": [
                //盾被击破时：
                {
                  "$type": "ActCameraShake",
                  "cameraShake": {
                    "shakeType": "Center",
                    "shakeRange": 0.2,
                    "shakeTime": 0.12,
                    "shakeDistance": 30,
                    "extension": {
                      "baseOnCamera": true
                    }
                  }
                },
                //击破特效
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Monster_Regisvine_Ice_Fruit_Break",
                  "born": {
                    "$type": "ConfigBornByCollisionPoint"
                  }
                },
                {
                  //开始击晕倒计时
                  "$type": "TriggerAbility",
                  "abilityName": "Monster_Regisvine_Ice_Faint_Fruit",
                  "target": "Owner"
                },
                {
                  //进入击晕Animator状态
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "FaintTrigger",
                  "target": "Owner",
                  "MPTriggerOnRemote": true
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "Shader_FruitLower_State",
                  "value": 0,
                  "target": "Owner"
                },
                {
                  // Faint by fruit broken
                  // Set Fruit is broken Gloval
                  "$type": "SetGlobalValue",
                  "key": "_MONSTER_REGISVINE_FRUIT_ISBROKEN",
                  "value": 1,
                  "doOffStage": true,
                  "target": "Owner"
                },
                {
                  "$type": "AddGlobalValue",
                  "key": "_MONSTER_REGISVINE_FRUITCOVERED",
                  "value": 10,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0,
                  "target": "Owner"
                }
              ]
            }
          ],
          "onAdded": [
            {
              // Fruit reborn
              // Clear Fruit is broken Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_ISBROKEN",
              "value": 0,
              "doOffStage": true,
              "target": "Owner"
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_Fruit_Normal",
              "target": "Owner"
            }
          ],
          "onBeingHit": [
            //受击表现
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByAny",
                  "predicates": [
                    {
                      "$type": "ByHitElement",
                      "element": "Fire"
                    },
                    {
                      "$type": "ByHitElement",
                      "element": "Electric"
                    },
                    {
                      "$type": "ByHitElement",
                      "element": "Wind"
                    },
                    {
                      "$type": "ByHitElement",
                      "element": "Rock"
                    },
                    {
                      "$type": "ByHitStrikeType",
                      "strikeType": "Blunt"
                    }
                  ]
                }
              ],
              "successActions": [
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Monster_Regisvine_Ice_Hit_Weakness",
                  "born": {
                    "$type": "ConfigBornByHitPoint",
                    "direction": {
                      "$type": "ConfigDirectionByBackToHitBoxCenter"
                    }
                  }
                }
              ]
            },
            {
              //进入击晕Animator状态
              "$type": "SetAnimatorTrigger",
              "triggerID": "FruitWeaknessBeHit",
              "target": "Owner",
              "MPTriggerOnRemote": true
            }
          ],
          "onKill": [
            //被杀时销毁自身
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_Fruit"
            }
          ],
          "onRemoved": [
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT",
              "target": "Owner",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_Fruit"
            },
            {
              "$type": "KillSelf"
            }
          ]
        }
      },
      "abilitySpecials": {
        "FruitElementDurability": 300.0
      }
    }
  },
  {
    "Default": {
      //处理眩晕和弱点状态
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_FruitAndCore_FaintAndBreakManager",
      "abilityMixins": [
        {
          //0== not faint
          //1== faint
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_MONSTER_REGISVINE_ISFAINT_FRUIT",
          "valueSteps": [-0.5, 0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "UNIQUE_Regisvine_NoFaintState_Fruit",
            "UNIQUE_Regisvine_FaintState_Fruit"
          ]
        },
        {
          //0== not faint
          //1== faint
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_MONSTER_REGISVINE_ISFAINT_CORE",
          "valueSteps": [-0.5, 0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "UNIQUE_Regisvine_NoFaintState_Core",
            "UNIQUE_Regisvine_FaintState_Core"
          ]
        },
        {
          //0== not broken
          //1== broken
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_MONSTER_REGISVINE_FRUIT_ISBROKEN",
          "valueSteps": [-0.5, 0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "UNIQUE_Regisvine_FruitIsNotBroken",
            "UNIQUE_Regisvine_FruitIsBroken"
          ]
        },
        {
          "$type": "AttachModifierToSelfGlobalValueMixin",
          "globalValueKey": "_MONSTER_REGISVINE_CORE_ISBROKEN",
          "valueSteps": [-0.5, 0.5, 1.5],
          "removeAppliedModifier": true,
          "modifierNameSteps": [
            "UNIQUE_Regisvine_CoreIsNotBroken",
            "UNIQUE_Regisvine_CoreIsBroken"
          ]
        }
      ],
      "modifiers": {
        "UNIQUE_Regisvine_NoFaintState_Fruit": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              //Set Faint Fruit
              "$type": "SetPoseBool",
              "boolID": "Faint_Fruit",
              "value": false
            }
          ]
        },
        "UNIQUE_Regisvine_FaintState_Fruit": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              //Reset Faint Fruit
              "$type": "SetPoseBool",
              "boolID": "Faint_Fruit",
              "value": true
            }
          ]
        },
        "UNIQUE_Regisvine_NoFaintState_Core": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              //Set Faint Fruit
              "$type": "SetPoseBool",
              "boolID": "Faint_Core",
              "value": false
            }
          ]
        },
        "UNIQUE_Regisvine_FaintState_Core": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              //Reset Faint Fruit
              "$type": "SetPoseBool",
              "boolID": "Faint_Core",
              "value": true
            }
          ]
        },
        "UNIQUE_Regisvine_FruitIsNotBroken": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              //Set Faint Fruit
              "$type": "SetPoseBool",
              "boolID": "FruitIsBroken",
              "value": false
            }
          ]
        },
        "UNIQUE_Regisvine_FruitIsBroken": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              //Reset Faint Fruit
              "$type": "SetPoseBool",
              "boolID": "FruitIsBroken",
              "value": true
            }
          ]
        },
        "UNIQUE_Regisvine_CoreIsNotBroken": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              //Set Faint Fruit
              "$type": "SetPoseBool",
              "boolID": "CoreIsBroken",
              "value": false
            }
          ]
        },
        "UNIQUE_Regisvine_CoreIsBroken": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [
            {
              //Reset Faint Fruit
              "$type": "SetPoseBool",
              "boolID": "CoreIsBroken",
              "value": true
            }
          ]
        }
      }
    }
  },
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_FruitAndCoreReviveManager",
      "onAdded": [
        //For activity, change reviveTime
        {
          "$type": "Predicated",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Owner",
              "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
              "value": 1,
              "compareType": "MoreThanAndEqual"
            }
          ],
          "successActions": [
            {
              "$type": "SetOverrideMapValue",
              "overrideMapKey": "FruitReviveTime",
              "value": 122.08,
              "target": "Self"
            }
          ],
          "failActions": [
            {
              "$type": "SetOverrideMapValue",
              "overrideMapKey": "FruitReviveTime",
              "value": 62.08,
              "target": "Self"
            }
          ]
        }
      ],
      "onAbilityStart": [
        //判断果实重生是否延迟
        {
          "$type": "Predicated",
          "target": "Self",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVEDELAYED",
              "value": 1.0,
              "compareType": "Equal"
            }
          ],
          "successActions": [
            //若延迟了，创建一个果实
            {
              "$type": "TriggerAbility",
              "abilityName": "Regisvine_Fruit_Begin",
              "target": "Self"
            },
            {
              "$type": "TriggerAbility",
              "abilityName": "Regisvine_Fruit_Open",
              "target": "Self"
            },
            {
              "$type": "SetAnimatorInt",
              "intID": "Shader_FruitLower_State",
              "value": 2,
              "target": "Self"
            },
            // {
            // 	"$type": "SetAnimatorBool",
            // 	"boolID": "FruitCovered",
            // 	"value": false,
            // },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUITCOVERED",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVING",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVEDELAYED",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              //Used by actvity
              "$type": "SetGlobalValue",
              "key": "_SERVER_REGISVINE_ICE_ACTIVITY_PHASE",
              "value": 2,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Self",
                  "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
                  "value": 1,
                  "compareType": "MoreThanAndEqual"
                }
              ]
            }
          ],
          "failActions": [
            //若未延迟，确认一下
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVING",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVEDELAYED",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        }
      ],
      "abilityMixins": [
        //头部核心复活控制
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [2001],
          "modifierName": "UNIQUE_CoreRiviveManager"
        },
        //底部果实复活控制
        {
          "$type": "AttachToPoseIDMixin",
          "poseIDs": [2002],
          "modifierName": "UNIQUE_FruitRiviveManager"
        }
      ],
      "modifiers": {
        "UNIQUE_CoreRiviveManager": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [],
          "onRemoved": []
        },
        "UNIQUE_FruitRiviveManager": {
          "stacking": "Unique",
          "isUnique": true,
          "onAdded": [],
          "onRemoved": [
            {
              //开始重生倒计时
              "$type": "ApplyModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_Fruit_Revive",
              "target": "Self"
            }
          ]
        },
        "UNIQUE_Regisvine_Ice_Fruit_Revive": {
          "stacking": "Unique",
          "isUnique": true,
          "forceSyncToRemote": true,
          "duration": "%FruitReviveTime",
          "onAdded": [
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_MONSTER_REGISVINE_FRUIT",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            },
            {
              "$type": "AddGlobalValue",
              "target": "Self",
              "key": "_MONSTER_REGISVINE_FRUIT_REVIVING",
              "value": 10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ],
          "onRemoved": [
            //判断当前是否正在眩晕
            {
              "$type": "Predicated",
              "target": "Self",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_REGISVINE_ISFAINT",
                  "value": 0.0,
                  "compareType": "Equal"
                },
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_REGISVINE_ISOUTOFIGHT",
                  "value": 0.0,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                //若不在眩晕，重新创建一个果实
                {
                  "$type": "TriggerAbility",
                  "abilityName": "Regisvine_Fruit_Begin",
                  "target": "Self"
                },
                {
                  "$type": "TriggerAbility",
                  "abilityName": "Regisvine_Fruit_Open",
                  "target": "Self"
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "Shader_FruitLower_State",
                  "value": 2,
                  "target": "Self"
                },
                // {
                // 	"$type": "SetAnimatorBool",
                // 	"boolID": "FruitCovered",
                // 	"value": false,
                // },
                {
                  "$type": "AddGlobalValue",
                  "key": "_MONSTER_REGISVINE_FRUITCOVERED",
                  "value": -10,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                },
                {
                  "$type": "AddGlobalValue",
                  "target": "Self",
                  "key": "_MONSTER_REGISVINE_FRUIT_REVIVING",
                  "value": -10,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                },
                {
                  //Used by actvity
                  "$type": "SetGlobalValue",
                  "key": "_SERVER_REGISVINE_ICE_ACTIVITY_PHASE",
                  "value": 2,
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "target": "Self",
                      "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
                      "value": 1,
                      "compareType": "MoreThanAndEqual"
                    }
                  ]
                }
              ],
              "failActions": [
                //若眩晕，则记录状态，等待眩晕结束再重生
                {
                  "$type": "AddGlobalValue",
                  "key": "_MONSTER_REGISVINE_FRUIT_REVIVEDELAYED",
                  "value": 1,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0
                }
              ]
            }
          ]
        }
      },
      "abilitySpecials": {
        "FruitReviveTime": 62.08
      }
    }
  },
  //Core
  {
    "Default": {
      "$type": "ConfigAbility",
      "abilityName": "Regisvine_CoreGadget",
      "onAdded": [
        //For activity, change durabiity
        {
          "$type": "Predicated",
          "targetPredicates": [
            {
              "$type": "ByTargetGlobalValue",
              "target": "Owner",
              "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
              "value": 1,
              "compareType": "MoreThanAndEqual"
            }
          ],
          "successActions": [
            {
              "$type": "SetOverrideMapValue",
              "overrideMapKey": "CoreElementDurability",
              "value": 400.0,
              "target": "Self"
            }
          ],
          "failActions": [
            {
              "$type": "SetOverrideMapValue",
              "overrideMapKey": "CoreElementDurability",
              "value": 150.0,
              "target": "Self"
            }
          ]
        },
        {
          "$type": "AttachModifier",
          "modifierName": "UNIQUE_Regisvine_Ice_Core",
          "target": "Self"
        },
        {
          "$type": "EnableHitBoxByName",
          "hitBoxNames": ["HitBox"],
          "setEnable": true
        },
        {
          "$type": "HideUIBillBoard",
          "hide": false
        }
      ],
      "modifiers": {
        "UNIQUE_Regisvine_Ice_Core": {
          //实现果实相关逻辑的主要modifier
          //带有ShieldBarMixin 在Durability被反应完时触发onShieldBroken，就是眩晕之类的效果
          "stacking": "Unique",
          "isUnique": true,
          "forceSyncToRemote": true,
          "elementType": "Frozen",
          "elementDurability": "%CoreElementDurability",
          "modifierMixins": [
            {
              "$type": "ShieldBarMixin",
              "useMutiPlayerFixData": true,
              "onShieldBroken": [
                //盾被击破时：
                {
                  "$type": "ActCameraShake",
                  "cameraShake": {
                    "shakeType": "Center",
                    "shakeRange": 0.2,
                    "shakeTime": 0.12,
                    "shakeDistance": 30,
                    "extension": {
                      "baseOnCamera": true
                    }
                  }
                },
                {
                  //开始击晕倒计时
                  "$type": "TriggerAbility",
                  "abilityName": "Monster_Regisvine_Ice_Faint_Core",
                  "target": "Owner"
                },
                //关闭原本的核心受击盒
                {
                  "$type": "EnableHitBoxByName",
                  "hitBoxNames": ["HitBox_Core"],
                  "setEnable": false,
                  "target": "Owner"
                },
                {
                  "$type": "EnableHitBoxByName",
                  "hitBoxNames": ["HitBox_Core_Lockable"],
                  "setEnable": false,
                  "target": "Owner"
                },
                //打开会增伤的受击盒，但这里比较容易出问题
                {
                  "$type": "EnableHitBoxByName",
                  "hitBoxNames": ["HitBox_Core_Critical"],
                  "setEnable": true,
                  "target": "Owner"
                },
                {
                  "$type": "SetAnimatorInt",
                  "intID": "Shader_FruitUpper_State",
                  "value": 0,
                  "target": "Owner"
                },
                {
                  //进入击晕Animator状态
                  "$type": "SetAnimatorTrigger",
                  "triggerID": "FaintTrigger",
                  "target": "Owner",
                  "MPTriggerOnRemote": true
                },
                //核心被击碎的表现
                {
                  "$type": "ApplyModifier",
                  "modifierName": "UNIQUE_Regisvine_Ice_CoreShattered",
                  "target": "Owner"
                },
                {
                  //Faint by core broken
                  //Set Core broken Gloval
                  "$type": "SetGlobalValue",
                  "key": "_MONSTER_REGISVINE_CORE_ISBROKEN",
                  "value": 1,
                  "doOffStage": true,
                  "target": "Owner"
                },
                {
                  "$type": "AddGlobalValue",
                  "key": "_MONSTER_REGISVINE_CORE",
                  "value": -10,
                  "useLimitRange": true,
                  "maxValue": 1,
                  "minValue": 0,
                  "target": "Owner"
                },
                {
                  "$type": "SetGlobalValue",
                  "key": "_REGISVINE_HEADCOREBROKENED_",
                  "value": 1,
                  "target": "Owner"
                },
                {
                  "$type": "DoWatcherSystemAction",
                  "target": "Owner",
                  "inThreatListOnly": true,
                  "watcherId": 82058
                },
                {
                  "$type": "ShowReminder",
                  "id": 400023,
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "target": "Owner",
                      "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
                      "value": 1,
                      "compareType": "MoreThanAndEqual"
                    }
                  ]
                },
                {
                  "$type": "DoWatcherSystemAction",
                  "target": "Owner",
                  "inThreatListOnly": true,
                  "watcherId": 82081,
                  "predicates": [
                    {
                      "$type": "ByTargetGlobalValue",
                      "target": "Owner",
                      "key": "_WATCHER_82081_",
                      "value": 1,
                      "compareType": "Equal"
                    }
                  ]
                }
              ]
            }
          ],
          "onAdded": [
            {
              //Core reborned
              //Reset Core broken Gloval
              "$type": "SetGlobalValue",
              "key": "_MONSTER_REGISVINE_CORE_ISBROKEN",
              "value": 0,
              "doOffStage": true,
              "target": "Owner"
            },
            {
              "$type": "Predicated",
              "target": "Owner",
              "targetPredicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "key": "_MONSTER_REGISVINE_CORE_ISSHATTERED",
                  "value": 1.0,
                  "compareType": "Equal"
                }
              ],
              "successActions": [
                {
                  "$type": "AttachEffect",
                  "effectPattern": "Eff_Monster_Regisvine_Ice_Core_Broken_Normal",
                  "target": "Owner"
                }
              ],
              "failActions": [
                {
                  "$type": "AttachEffect",
                  "effectPattern": "Eff_Monster_Regisvine_Ice_Core_Normal",
                  "target": "Owner"
                }
              ]
            }
          ],
          "onBeingHit": [
            {
              "$type": "Predicated",
              "targetPredicates": [
                {
                  "$type": "ByAny",
                  "predicates": [
                    {
                      "$type": "ByHitElement",
                      "element": "Fire"
                    },
                    {
                      "$type": "ByHitElement",
                      "element": "Electric"
                    },
                    {
                      "$type": "ByHitElement",
                      "element": "Wind"
                    },
                    {
                      "$type": "ByHitElement",
                      "element": "Rock"
                    },
                    {
                      "$type": "ByHitStrikeType",
                      "strikeType": "Blunt"
                    }
                  ]
                }
              ],
              "successActions": [
                {
                  "$type": "FireEffect",
                  "effectPattern": "Eff_Monster_Regisvine_Ice_Hit_Weakness",
                  "born": {
                    "$type": "ConfigBornByHitPoint",
                    "direction": {
                      "$type": "ConfigDirectionByBackToHitBoxCenter"
                    }
                  }
                }
              ]
            },
            {
              //进入击晕Animator状态
              "$type": "SetAnimatorTrigger",
              "triggerID": "CoreWeaknessBeHit",
              "target": "Owner",
              "MPTriggerOnRemote": true
            }
          ],
          "onKill": [
            //被杀时销毁自身
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_Core"
            }
          ],
          "onRemoved": [
            {
              "$type": "ShowReminder",
              "id": 400023,
              "predicates": [
                {
                  "$type": "ByTargetGlobalValue",
                  "target": "Owner",
                  "key": "_MONSTERAFFIX_Regisvine_Ice_ActivityBoss",
                  "value": 1,
                  "compareType": "MoreThanAndEqual"
                }
              ]
            },
            {
              "$type": "RemoveUniqueModifier",
              "modifierName": "UNIQUE_Regisvine_Ice_Core"
            },
            {
              "$type": "KillSelf"
            }
          ]
        },
        "UNIQUE_Regisvine_Ice_CoreShattered": {
          //Apply to Owner, so target  is Self
          "isUnique": true,
          "onAdded": [
            {
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Core"],
              "setEnable": false
            },
            {
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Core_Broken"],
              "setEnable": true
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_CORE_ISSHATTERED",
              "value": 10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ],
          "onRemoved": [
            {
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Core"],
              "setEnable": true
            },
            {
              "$type": "TriggerSetRenderersEnable",
              "renderNames": ["Core_Broken"],
              "setEnable": false
            },
            {
              "$type": "AddGlobalValue",
              "key": "_MONSTER_REGISVINE_CORE_ISSHATTERED",
              "value": -10,
              "useLimitRange": true,
              "maxValue": 1,
              "minValue": 0
            }
          ]
        }
      },
      "abilitySpecials": {
        "CoreElementDurability": 150.0
      }
    }
  },
  ////////////////////////////////////////////////////////////////
  //
  //  Activity MissileAttack
  //
  ////////////////////////////////////////////////////////////////
  {
    "Default": {
      //发射子弹
      "$type": "ConfigAbility",
      "abilityName": "Monster_Regisvine_Ice_MissileAttack_Activity",
      "onAdded": [
        {
          "$type": "ApplyModifier",
          "modifierName": "Regisvine_Ice_MissileAttack_Activity_Duration"
        }
      ],
      "modifiers": {
        "Regisvine_Ice_MissileAttack_Activity_Duration": {
          "thinkInterval": 30.0,
          "onAdded": [
            {
              "$type": "ApplyModifier",
              "modifierName": "MissileAttack_Impulse"
            }
          ],
          "onThinkInterval": [
            {
              "$type": "ApplyModifier",
              "modifierName": "MissileAttack_Impulse"
            }
          ]
        },
        "MissileAttack_Impulse": {
          "duration": 6.0,
          "thinkInterval": 1.0,
          "onAdded": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "Shader_Skill_MissileAttack_Loop",
              "target": "Owner",
              "value": true
            },
            {
              "$type": "AttachEffect",
              "effectPattern": "Eff_Monster_Regisvine_Ice_MissileAttack_Activity_BS_01"
            }
          ],
          "onRemoved": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "Shader_Skill_MissileAttack_Loop",
              "target": "Owner",
              "value": false
            }
          ],
          "onKill": [
            {
              "$type": "SetAnimatorBool",
              "boolID": "Shader_Skill_MissileAttack_Loop",
              "target": "Owner",
              "value": false
            },
            {
              "$type": "SetAnimatorBool",
              "boolID": "UsingSkill",
              "target": "Owner",
              "value": false
            }
          ],
          "onThinkInterval": [
            //Random
            {
              "$type": "Repeated",
              "repeatTimes": 1,
              "actions": [
                {
                  "$type": "CreateGadget",
                  "gadgetID": 42602006,
                  "campID": 4001,
                  "sightGroupWithOwner": false,
                  "lifeByOwnerIsAlive": true,
                  "born": {
                    "$type": "ConfigBornBySelf",
                    "bornRandom": {
                      "$type": "BornRandomFromCenter",
                      "minRandomRange": 10.0,
                      "maxRandomRange": 25.0
                    },
                    "onGround": true,
                    "onGroundRaycastUpDist": 0.2
                  }
                }
              ]
            },
            //Follow
            {
              "$type": "Repeated",
              "repeatTimes": 1,
              "actions": [
                //最外圈
                {
                  "$type": "CreateGadget",
                  "gadgetID": 42602006,
                  "campID": 4001,
                  "sightGroupWithOwner": false,
                  "lifeByOwnerIsAlive": true,
                  "otherTargets": {
                    "$type": "SelectTargetsByShape",
                    "shapeName": "CircleLockEnemyR25",
                    "centerBasedOn": "Self",
                    "campTargetType": "Enemy",
                    "campBasedOn": "Self",
                    "topLimit": 2
                  },
                  "born": {
                    "$type": "ConfigBornByPredicatePoint",
                    "timeForPredictive": 0.5,
                    "bornRandom": {
                      "$type": "BornRandomFromCenter",
                      "minRandomRange": 0.0,
                      "maxRandomRange": 1.0
                    },
                    "onGround": true,
                    "onGroundRaycastUpDist": 0.2
                  },
                  "predicates": [
                    {
                      "$type": "ByEntityTypes",
                      "entityTypes": ["Avatar"]
                    },
                    {
                      "$type": "ByTargetPositionToSelfPosition",
                      "compareType": "XZ",
                      "value": 8,
                      "logic": "GreaterOrEqual"
                    },
                    {
                      "$type": "ByTargetGlobalValue",
                      "key": "_ABILITY_REGISVINE_ICE_MISSILEATTACK_HIT",
                      "value": 0.0,
                      "compareType": "NoneOrEqual"
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    }
  }
]
