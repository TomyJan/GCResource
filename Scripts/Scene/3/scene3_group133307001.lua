-- 基础信息
local base_info = {
	group_id = 133307001
}

--================================================================
-- 
-- 配置
-- 
--================================================================

-- 怪物
monsters = {
}

-- NPC
npcs = {
}

-- 装置
gadgets = {
	{ config_id = 1001, gadget_id = 71700560, pos = { x = -1100.679, y = -28.510, z = 5487.766 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1003, gadget_id = 70950171, pos = { x = -1100.667, y = -28.663, z = 5487.934 }, rot = { x = 270.000, y = 339.448, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1004, gadget_id = 70950171, pos = { x = -1286.146, y = 0.331, z = 5405.728 }, rot = { x = 271.008, y = 145.223, z = 193.686 }, level = 32, area_id = 32 },
	{ config_id = 1005, gadget_id = 70950171, pos = { x = -1100.811, y = -28.663, z = 5487.636 }, rot = { x = 270.000, y = 306.969, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1006, gadget_id = 70950171, pos = { x = -1286.289, y = 0.328, z = 5405.427 }, rot = { x = 271.022, y = 146.663, z = 159.803 }, level = 32, area_id = 32 },
	{ config_id = 1007, gadget_id = 71700567, pos = { x = -1100.754, y = -28.656, z = 5487.778 }, rot = { x = 0.000, y = 310.263, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1008, gadget_id = 71700567, pos = { x = -1286.234, y = 0.330, z = 5405.572 }, rot = { x = 359.029, y = 309.717, z = 0.266 }, level = 32, area_id = 32 },
	{ config_id = 1009, gadget_id = 70710776, pos = { x = -1275.277, y = -29.767, z = 5434.630 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1010, gadget_id = 70710776, pos = { x = -1100.688, y = -28.654, z = 5487.710 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1011, gadget_id = 70950171, pos = { x = -1197.416, y = -25.208, z = 5490.574 }, rot = { x = 270.211, y = 227.255, z = 317.347 }, level = 32, area_id = 32 },
	{ config_id = 1012, gadget_id = 70710776, pos = { x = -1286.252, y = 0.405, z = 5405.527 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1013, gadget_id = 70950171, pos = { x = -1197.158, y = -25.208, z = 5490.777 }, rot = { x = 270.089, y = 152.126, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1014, gadget_id = 71700567, pos = { x = -1197.270, y = -25.208, z = 5490.670 }, rot = { x = 359.712, y = 155.615, z = 0.117 }, level = 32, area_id = 32 },
	{ config_id = 1015, gadget_id = 70710776, pos = { x = -1197.312, y = -25.178, z = 5490.690 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1016, gadget_id = 71700567, pos = { x = -1337.292, y = 6.618, z = 5368.156 }, rot = { x = 358.092, y = 34.654, z = 359.726 }, level = 32, area_id = 32 },
	{ config_id = 1017, gadget_id = 70950171, pos = { x = -1337.414, y = 6.617, z = 5367.984 }, rot = { x = 271.583, y = 79.699, z = 311.703 }, level = 32, area_id = 32 },
	{ config_id = 1018, gadget_id = 71700567, pos = { x = -1374.696, y = 27.661, z = 5345.980 }, rot = { x = 358.092, y = 83.561, z = 359.726 }, level = 32, area_id = 32 },
	{ config_id = 1019, gadget_id = 70710776, pos = { x = -1337.359, y = 6.721, z = 5368.226 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1020, gadget_id = 71700555, pos = { x = -1374.658, y = 27.662, z = 5345.979 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1021, gadget_id = 71700556, pos = { x = -1337.291, y = 6.655, z = 5368.166 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1022, gadget_id = 71700557, pos = { x = -1286.150, y = 0.330, z = 5405.567 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1023, gadget_id = 71700558, pos = { x = -1275.277, y = -29.801, z = 5434.603 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1024, gadget_id = 71700559, pos = { x = -1197.270, y = -25.214, z = 5490.686 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1025, gadget_id = 71700560, pos = { x = -1100.754, y = -28.656, z = 5487.778 }, rot = { x = 0.000, y = 310.263, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1026, gadget_id = 70950171, pos = { x = -1286.146, y = 0.331, z = 5405.728 }, rot = { x = 271.008, y = 145.223, z = 193.686 }, level = 32, area_id = 32 },
	{ config_id = 1027, gadget_id = 70950171, pos = { x = -1286.289, y = 0.328, z = 5405.427 }, rot = { x = 271.022, y = 146.663, z = 159.803 }, level = 32, area_id = 32 },
	{ config_id = 1028, gadget_id = 71700567, pos = { x = -1286.234, y = 0.330, z = 5405.572 }, rot = { x = 359.029, y = 309.717, z = 0.266 }, level = 32, area_id = 32 },
	{ config_id = 1029, gadget_id = 70950171, pos = { x = -1275.159, y = -29.802, z = 5434.501 }, rot = { x = 270.999, y = 268.765, z = 193.686 }, level = 32, area_id = 32 },
	{ config_id = 1030, gadget_id = 70950171, pos = { x = -1275.331, y = -29.801, z = 5434.788 }, rot = { x = 271.012, y = 270.203, z = 159.804 }, level = 32, area_id = 32 },
	{ config_id = 1031, gadget_id = 71700567, pos = { x = -1275.241, y = -29.796, z = 5434.662 }, rot = { x = 359.029, y = 73.258, z = 358.370 }, level = 32, area_id = 32 },
	{ config_id = 1032, gadget_id = 70710776, pos = { x = -1374.707, y = 27.702, z = 5346.056 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 32 },
	{ config_id = 1033, gadget_id = 70950171, pos = { x = -1374.906, y = 27.659, z = 5345.959 }, rot = { x = 271.574, y = 128.607, z = 311.702 }, level = 32, area_id = 32 },
	{ config_id = 1034, gadget_id = 70330395, pos = { x = -1777.472, y = 28.338, z = 5680.789 }, rot = { x = 0.000, y = 288.469, z = 0.000 }, level = 32, area_id = 27 },
	{ config_id = 1035, gadget_id = 70310238, pos = { x = -1783.673, y = 23.262, z = 5677.982 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 27 },
	{ config_id = 1036, gadget_id = 70310238, pos = { x = -1772.839, y = 23.587, z = 5704.508 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 32, area_id = 27 }
}

-- 区域
regions = {
}

-- 触发器
triggers = {
	{ config_id = 1001002, name = "GADGETTALK_DONE_1002", event = EventType.EVENT_GADGETTALK_DONE, source = "6833001", condition = "", action = "action_EVENT_GADGETTALK_DONE_1002" }
}

-- 变量
variables = {
	{ config_id = 1, name = "133307001_var", value = 0, no_refresh = true }
}

--================================================================
-- 
-- 初始化配置
-- 
--================================================================

-- 初始化时创建
init_config = {
	suite = 1,
	end_suite = 0,
	rand_suite = false
}

--================================================================
-- 
-- 小组配置
-- 
--================================================================

suites = {
	{
		-- suite_id = 1,
		-- description = ,
		monsters = { },
		gadgets = { 1001, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011, 1012, 1013, 1014, 1015, 1016, 1017, 1018, 1019, 1020, 1021, 1022, 1023, 1024, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1036 },
		regions = { },
		triggers = { "GADGETTALK_DONE_1002" },
		rand_weight = 100
	},
	{
		-- suite_id = 2,
		-- description = ,
		monsters = { },
		gadgets = { 1025 },
		regions = { },
		triggers = { },
		rand_weight = 100
	}
}

--================================================================
-- 
-- 触发器
-- 
--================================================================

-- 触发操作
function action_EVENT_GADGETTALK_DONE_1002(context, evt)
	-- 针对当前group内变量名为 "133307001_var" 的变量，进行修改，变化值为 1
	if 0 ~= ScriptLib.ChangeGroupVariableValue(context, "133307001_var", 1) then
	  ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : change_GroupVariable")
	  return -1
	end
	
	-- 添加suite2的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133307001, 2)
	
		-- 卸载指定gadget
		if 0 ~= ScriptLib.RemoveEntityByConfigId(context, 133307001, EntityType.GADGET, 1001 ) then
	    ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : remove_gadget_by_configid")
			return -1
		end
	
	return 0
end